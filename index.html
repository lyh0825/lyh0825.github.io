<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Drink`s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Drink&#96;s Blog">
<meta property="og:url" content="https://drinkle.top/index.html">
<meta property="og:site_name" content="Drink&#96;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Drink">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Drink`s Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Drink`s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://drinkle.top"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-Framework-Thinking" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/23/Framework-Thinking/" class="article-date">
  <time class="dt-published" datetime="2021-05-23T10:35:51.000Z" itemprop="datePublished">2021-05-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/23/Framework-Thinking/">Framework-Thinking</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><p>1.一般情况下使用index进行列表的切分比使用[:]的时间复杂度更低，效率也更高O(1）&lt;–&gt;O（n）</p>
<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><h2 id="Dictionary"><a href="#Dictionary" class="headerlink" title="Dictionary"></a>Dictionary</h2><h2 id="Tuple"><a href="#Tuple" class="headerlink" title="Tuple"></a>Tuple</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/05/23/Framework-Thinking/" data-id="ckp1cbb4x0000ukf5cn4v72te" data-title="Framework-Thinking" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/consciousness/" rel="tag">consciousness</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Python-Underlying-Structure" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/15/Python-Underlying-Structure/" class="article-date">
  <time class="dt-published" datetime="2021-05-15T07:14:15.000Z" itemprop="datePublished">2021-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/15/Python-Underlying-Structure/">Python-Underlying-Structure</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Python底层结构"><a href="#Python底层结构" class="headerlink" title="Python底层结构"></a>Python底层结构</h1><h2 id="Operators"><a href="#Operators" class="headerlink" title="Operators"></a>Operators</h2><p><code>//</code>:rounding down ==&gt; 7//2 = 3.5 —&gt; 3</p>
<p><code>[start:end]</code>==&gt;contains start except end</p>
<p>[1, 2, 3, 4, 5] ==[2:]==&gt;[3, 4, 5]</p>
<p>[1, 2, 3, 4, 5] ==[:2]==&gt;[1, 2]</p>
<h2 id="BuiltIn"><a href="#BuiltIn" class="headerlink" title="BuiltIn"></a>BuiltIn</h2><h3 id="查看信息"><a href="#查看信息" class="headerlink" title="查看信息"></a>查看信息</h3><h4 id="dict"><a href="#dict" class="headerlink" title="dict()"></a>dict()</h4><figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__dict__ &lt;==difference==&gt; dic()</span><br></pre></td></tr></table></figure>

<p><code>__dict__与dir()</code>的区别：</p>
<ol>
<li>dir()是一个函数，返回的是list；</li>
<li><code>__dict__</code>是一个字典，键为属性名，值为属性值；</li>
<li>dir()用来寻找一个对象的所有属性，包括<code>__dict__</code>中的属性，<code>__dict__</code>是dir()的子集；</li>
<li> <strong>并不是所有对象都拥有<code>__dict__</code>属性。</strong>许多内建类型就[没有<code>__dict__</code>属性，如list，此时就需要用dir()来列出对象的所有属性。</li>
</ol>
<p><strong><code>__dict__</code>是用来存储对象属性的一个字典，其键为属性名，值为属性的值。</strong></p>
<p><strong>注意:</strong></p>
<ol>
<li><p>实例的<code>__dict__</code>仅存储与该实例相关的实例属性，</p>
<p>正是因为实例的<code>__dict__</code>属性，每个实例的实例属性才会互不影响。</p>
</li>
<li><p>类的<code>__dict__</code>存储所有实例共享的变量和函数(类属性，方法等)，类的<code>__dict__</code>并不包含其父类的属性。</p>
</li>
</ol>
<p><strong>结论：</strong></p>
<p>dir()函数会自动寻找一个对象的所有属性，包括<code>__dict__</code>中的属性。</p>
<p><code>__dict__</code>是dir()的子集，dir()包含<code>__dict__</code>中的属性。</p>
<p>dir()是Python提供的一个API函数，<strong>dir()函数会自动寻找一个对象的所有属性</strong>(包括从父类中继承的属性)。</p>
<p> 一个实例的<code>__dict__</code>属性仅仅是那个实例的实例属性的集合，并不包含该实例的所有有效属性。所以如果想获取一个对象所有有效属性，应使用dir()。</p>
<hr>
<h4 id="dir"><a href="#dir" class="headerlink" title="dir()"></a>dir()</h4><p><strong>dir()</strong> 函数不带参数时，返回当前范围内的变量、方法和定义的类型列表；带参数时，返回参数的属性、方法列表。如果参数包含方法<strong>dir</strong>()，该方法将被调用。如果参数不包含<strong>dir</strong>()，该方法将最大限度地收集参数信息。</p>
<h4 id="GET-amp-Attribute"><a href="#GET-amp-Attribute" class="headerlink" title="GET&amp;Attribute"></a>GET&amp;Attribute</h4><p>如果在类中定义了<strong>getitem</strong>()方法，那么他的实例对象（假设为P）就可以这样P[key]取值。当实例对象做P[key]运算时，就会调用类中的<strong>getitem</strong>()方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">__getitem__(self,key):返回键对应的值。</span><br><span class="line"></span><br><span class="line">__setitem__(self,key,value)：设置给定键的值</span><br><span class="line"></span><br><span class="line">__delitem__(self,key):删除给定键对应的元素。</span><br><span class="line"></span><br><span class="line">__len__():返回元素的数量</span><br></pre></td></tr></table></figure>

<p>python的一切数据都是对象，包括函数、基本数据类型、自定义数据类型等等，这其中最复杂的就是对象内部存储的数据结构(引用)，包括类属性、数据描述符、实例属性及非数据描述符，不仅它们的优先级不一样，而且它们的回调函数也存在很大的差异，这也是本文需要阐述的地方。</p>
<p>如果以前有过Javascript的编程经验，初上Python肯定会对“.”运算符与“[]”之间的差异难以理解，它们不仅不能替换，而且完全不相关，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mem = &#123;<span class="string">&#x27;username&#x27;</span>: <span class="string">&#x27;yiifaa&#x27;</span>&#125;</span><br><span class="line"><span class="comment"># 无法通过.运算符进行计算</span></span><br><span class="line">mem.username</span><br><span class="line"><span class="comment"># 声明String</span></span><br><span class="line">name = <span class="built_in">str</span>(<span class="string">&#x27;yiifaa&#x27;</span>)</span><br><span class="line"><span class="comment"># 无法使用“[]”运算符</span></span><br><span class="line">name[<span class="string">&#x27;upper&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p><strong>1. 为实例添加“[]”运算符支持</strong></p>
<p>这也是“<em>_ getattribute_</em>”与“<em>_ getitem_</em>”的最大差异，示例如下：<br>“<em>_ getattribute_</em>”只适用于所有的“.”运算符；<br>“<em>_ getitem_</em>”只适用于所有的“[]”运算符；</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, username, age</span>):</span></span><br><span class="line">        self.username = username</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattribute__</span>(<span class="params">self, attr</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>(Employee, self).__getattribute__(attr)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span>(<span class="params">self, attr</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>(Employee, self).__getattribute__(attr)</span><br><span class="line"></span><br><span class="line">em = Employee(<span class="string">&#x27;yiifaa&#x27;</span>, <span class="number">32</span>)</span><br><span class="line"><span class="built_in">print</span> em.username</span><br><span class="line"><span class="comment">#   现在支持“[]”运算符</span></span><br><span class="line"><span class="built_in">print</span> em[<span class="string">&#x27;username&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>通过实现“<em>_ getitem_</em>”回调接口，现在Employee可以支持“[]”运算符。</p>
<ol start="2">
<li><strong>避免语法错误错误</strong></li>
</ol>
<p>在对象属性的调用中，如果没有调用了不存在的属性，则Python解释器会报错，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AttributeError: <span class="string">&#x27;str&#x27;</span> <span class="built_in">object</span> has no attribute <span class="string">&#x27;length&#x27;</span></span><br></pre></td></tr></table></figure>

<p>通过覆盖实现“<em>_ getattr_</em>”回调接口可以解决此问题，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#   直接返回空对象，将此方法添加到类Employee的声明中</span><br><span class="line">def __getattr__(self, attr):</span><br><span class="line">    return None</span><br><span class="line"></span><br><span class="line"># 现在调用不存在的属性也不会报错</span><br><span class="line">print em.company</span><br></pre></td></tr></table></figure>

<p>那“<em>_ getattribute_</em>”与“<em>_ getattr_</em>”的最大差异在于：</p>
<ol>
<li>无论调用对象的什么属性，包括不存在的属性，都会首先调用“<em>_ getattribute_</em>”方法；</li>
<li>只有找不到对象的属性时，才会调用“<em>_ getattr_</em>”方法；</li>
</ol>
<p><strong>3. 将对象作为数据描述符</strong></p>
<p>这就是“<em>_ get_</em>”的作用了，将整个对象都作为数据描述符，但是请记住<strong>，要想_ get_作为数据描述符，那么此对象只能作为类属性</strong>，作为实例属性则无效，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dept</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">          self.name = name</span><br><span class="line"></span><br><span class="line">      <span class="comment"># target是拥有此属性的对象</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__get__</span>(<span class="params">self, target, <span class="built_in">type</span>=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="comment"># 默认返回self与obj都可以</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Dept&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Company</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="comment">#   一定要作为类属性，作为实例属性无效</span></span><br><span class="line">    dept = Dept(<span class="string">&#x27;organ&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 现在的测试结果</span></span><br><span class="line">x = Company()</span><br><span class="line"><span class="comment">#   返回True</span></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">type</span>(x.dept) == <span class="built_in">str</span></span><br></pre></td></tr></table></figure>

<p><strong>4. 获取对象属性数据的三种方法</strong></p>
<p>对象的所有属性都存储在“<em>_ dict_</em>”中（启用了“<em>_ slots_</em>”除外），所以访问对象的属性数据有如下三种方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print yiifaa.name</span><br><span class="line">print yiifaa.__dict__[&#39;name&#39;]</span><br><span class="line">print getattr(yiifaa, &#39;name&#39;)</span><br></pre></td></tr></table></figure>

<p><strong>结论</strong></p>
<p>每个以“__ get”为前缀的方法都是获取对象内部数据的钩子，但名称不一样，用途也存在较大的差异，只有在实践中理解它们，才能真正掌握它们的用法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">class Examp(object):</span><br><span class="line">    def __init__(self, username, age):</span><br><span class="line">        self.username &#x3D; username</span><br><span class="line">        self.age &#x3D; age</span><br><span class="line"></span><br><span class="line">    # 1. “_ getattribute_”只适用于所有的“.”运算符；</span><br><span class="line">    def __getattribute__(self, item):</span><br><span class="line">        print(&#39;---getattribute----&#39;)</span><br><span class="line">        return super(Examp, self).__getattribute__(item)</span><br><span class="line"></span><br><span class="line">    # 2. “_ getitem_”只适用于所有的“[]”运算符；</span><br><span class="line">    def __getitem__(self, item):</span><br><span class="line">        print(&#39;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;getitem&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#39;)</span><br><span class="line">        return super(Examp, self).__getattribute__(item)</span><br><span class="line"></span><br><span class="line">    # 3. 解决了访问不存在的属性报错问题, 找不到属性时会被调用：</span><br><span class="line">    def __getattr__(self, item):</span><br><span class="line">        return None</span><br><span class="line"></span><br><span class="line">    # 4. ““__get__””作为数据描述符，那么此对象只能作为类属性，作为实例属性则无效</span><br><span class="line">    def __get__(self, instance, owner):</span><br><span class="line">        # instance 访问此描述符的对象若通过类访问则为None   ower 指所有者的类</span><br><span class="line">        # print(id(instance), id(owner),id(Obj1))</span><br><span class="line">        print(&#39;____get____&#39;)</span><br><span class="line">        return self</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">em &#x3D; Examp(&#39;xiao66&#39;, 32)</span><br><span class="line"># print(em.username) # 输出 ---getattribute----  xiao66</span><br><span class="line"># print(em[&#39;username&#39;]) # 输出 &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;getitem&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; xiao66</span><br><span class="line"># print(em.length) # 输出 ---getattribute---- None</span><br><span class="line"></span><br><span class="line"># 获取对象属性的三种方法</span><br><span class="line"># print(em.username)</span><br><span class="line"># print(em.__dict__[&#39;username&#39;])</span><br><span class="line"># print(getattr(em, &#39;username&#39;))</span><br><span class="line"></span><br><span class="line"># __get__ 作用</span><br><span class="line">class Obj1(object):</span><br><span class="line">    #一定要作为类属性，作为实例属性无效</span><br><span class="line">    attr &#x3D; Examp(&#39;xiao66&#39;,12)</span><br><span class="line"></span><br><span class="line">x &#x3D; Obj1()</span><br><span class="line">print(x.attr)</span><br></pre></td></tr></table></figure>

<p><strong>总结：</strong><br>“__getattribute__”与“__getattr__”的最大差异在于：<br>1.无论调用对象的什么属性，包括不存在的属性，都会首先调用“__getattribute__”方法；<br>2.只有找不到对象的属性时，才会调用“__getattr__”方法；</p>
<p>仅希望以某种特殊的方式使用少数属性，而其他属性则按照普通属性操作。这些普通属性不会触发任何特殊代码，也不会因为遍历方法代码而浪费时间。在这些情况下，您可以对属性使用描述符<br>每次访问descriptor（即实现了__get__的类），都会先经过__get__函数。</p>
<p>需要注意的是，当使用类访问不存在的变量是，不会经过__getattr__函数。而descriptor不存在此问题，只是把instance标识为none而已</p>
<h3 id="快捷操作"><a href="#快捷操作" class="headerlink" title="快捷操作"></a>快捷操作</h3><h4 id="bin"><a href="#bin" class="headerlink" title="bin()"></a>bin()</h4><p><strong>bin()</strong> 返回一个整数 int 或者长整数 long int 的二进制表示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="built_in">bin</span>(<span class="number">10</span>))</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">0b1010</span></span><br><span class="line"><span class="comment"># 0b 指二进制标识，在c语言中用0b标识二进制</span></span><br></pre></td></tr></table></figure>

<h4 id="format"><a href="#format" class="headerlink" title=".format"></a>.format</h4><p>Python2.6 开始，新增了一种格式化字符串的函数 **str.format()**，它增强了字符串格式化的功能。</p>
<p>基本语法是通过 <strong>{}</strong> 和 <strong>:</strong> 来代替以前的 <strong>%</strong> 。</p>
<p>format 函数可以接受不限个参数，位置可以不按顺序。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;<span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>)    </span><br><span class="line"><span class="comment"># 不设置指定位置，按默认顺序</span></span><br><span class="line"><span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&quot;&#123;0&#125; &#123;1&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>)  </span><br><span class="line"><span class="comment"># 设置指定位置</span></span><br><span class="line"><span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&quot;&#123;1&#125; &#123;0&#125; &#123;1&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>) </span><br><span class="line"><span class="comment"># 设置指定位置</span></span><br><span class="line"><span class="string">&#x27;world hello world&#x27;</span></span><br></pre></td></tr></table></figure>

<h3 id="特殊方法"><a href="#特殊方法" class="headerlink" title="特殊方法"></a>特殊方法</h3><h4 id="ord-–chr"><a href="#ord-–chr" class="headerlink" title="ord()–chr()"></a>ord()–chr()</h4><p>ord():返回对应的ASCII值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(ord(&#39;A&#39;))</span><br><span class="line">&gt;&gt;65</span><br></pre></td></tr></table></figure>

<p>chr():返回对应的 Unicode 数值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(chr(65))</span><br><span class="line">&gt;&gt;A</span><br></pre></td></tr></table></figure>

<h4 id="slots"><a href="#slots" class="headerlink" title="slots"></a>slots</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__slots__</span><br></pre></td></tr></table></figure>

<ol>
<li>节省memory。在上面的例子里，如果我们看看<code>bar</code>和<code>slotted_bar</code>就看到，<code>slotted_bar</code>并没有<code>__dict__</code>而<code>bar</code>却含有<code>__dict__</code>。<code>__slots__</code>正是通过避免定义动态的数据结构<code>__dict__</code>来实现对memory的节省，大约能节省30%的memory</li>
<li>.access attributes更快。事实上，在CPython的实现里，<code>__slots__</code>是一个静态数据结构（static），里面存的是value references，比<code>__dict__</code>更快</li>
</ol>
<p>此处要注意一点，正因为<code>__slots__</code>是static的，定义了<code>__slots__</code>之后，你将不能创造新的attribute</p>
<p>如果你想获得<code>__slots__</code>的好处并且可以创造新的attribute，你可以将<code>__dict__</code>作为<code>__slots__</code>中的一个element（见下面code）：</p>
<p><strong>什么情况下该使用<code>__slots__</code>?</strong></p>
<p>当你事先知道class的attributes的时候，建议使用slots来节省memory以及获得更快的attribute access。</p>
<p>注意不应当把防止创造<code>__slots__</code>之外的新属性作为使用<code>__slots__</code>的原因，可以使用decorators以及getters，setters来实现attributes control。</p>
<p><strong>使用<code>__slots__</code>的特殊注意事项</strong></p>
<ol>
<li>当inherit from a slotted class，那么子类自动变成slotted并且获得parent class的slots；子类可以定义新的elements加入到inherited slots里。slots里面的每一个element，只能在inheritance里面定义一次（否则就是redundant）</li>
<li>在multiple inheritance（比如mixedins）里，如果两个parents定义了不同的nonempty __slots__，那么python会报错。这个时候，就进一步factor out 母类的slots。</li>
</ol>
<h4 id="if–name–-’–main–’"><a href="#if–name–-’–main–’" class="headerlink" title="if–name–==’–main–’:"></a>if–name–==’–main–’:</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br></pre></td></tr></table></figure>

<p>当你在写 .py 的时候</p>
<p>一般是以两种方式存在的</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> <strong>1、作为脚本直接运行</strong> </li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210529144951.png"></p>
<ul>
<li><input checked="" disabled="" type="checkbox"> <strong>2、作为模块给别人导入</strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210529145101.png"></p>
<p>的代码在被执行的时候，Python 解释器会先去读取你的 Python 代码然后定义一些全局的内置变量，而我们常常写的这个 –name–就是其中的变量之一，如果判断出 –name– 的值是 –main–就说明这里是程序入口，而非被别的 py 文件 import</p>
<p>所以你的 .py 可以作为自己的脚本运行，在 –main– 中做一些测试，或者本身程序的运行，当然你也可以使用你的 .py 作为模块给别人使用，给别人提供一些便利，为了不让别人一导入你的模块就直接运行整个脚本那么使用 **if –name– == ‘–main–’**其中的代码就不会在被 import 时被执行。</p>
<h4 id="yield-lt-gt-send-gt-next"><a href="#yield-lt-gt-send-gt-next" class="headerlink" title="yield&lt;==&gt;send==&gt;next"></a>yield&lt;==&gt;send==&gt;next</h4><p>首先，如果你还没有对yield有个初步分认识，那么你先把yield看做“return”，这个是直观的，它首先是个return，普通的return是什么意思，就是在程序中返回某个值，返回之后程序就不再往下运行了。看做return之后再把它看做一个是生成器（generator）的一部分（带yield的函数才是真正的迭代器），好了，如果你对这些不明白的话，那先把yield看做return,然后直接看下面的程序，你就会明白yield的全部意思了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>():</span></span><br><span class="line">    print(<span class="string">&quot;starting...&quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        res = <span class="keyword">yield</span> <span class="number">4</span></span><br><span class="line">        print(<span class="string">&quot;res:&quot;</span>,res)</span><br><span class="line">g = foo()</span><br><span class="line">print(<span class="built_in">next</span>(g))</span><br><span class="line">print(<span class="string">&quot;*&quot;</span>*<span class="number">20</span>)</span><br><span class="line">print(<span class="built_in">next</span>(g))</span><br><span class="line">&gt;&gt;</span><br><span class="line">starting...</span><br><span class="line"><span class="number">4</span></span><br><span class="line">********************</span><br><span class="line">res: <span class="literal">None</span></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>我直接解释代码运行顺序，相当于代码单步调试：</p>
<ol>
<li><p>程序开始执行以后，因为foo函数中有yield关键字，所以foo函数并不会真的执行，而是先得到一个生成器g(相当于一个对象)</p>
</li>
<li><p>直到调用next方法，foo函数正式开始执行，先执行foo函数中的print方法，然后进入while循环</p>
</li>
<li><p>程序遇到yield关键字，然后把yield想想成return,return了一个4之后，程序停止，并没有执行赋值给res操作，此时next(g)语句执行完成，所以输出的前两行（第一个是while上面的print的结果,第二个是return出的结果）是执行print(next(g))的结果，</p>
</li>
<li><p>程序执行print(“*”<em>20)，输出20个</em></p>
</li>
<li><p>又开始执行下面的print(next(g)),这个时候和上面那个差不多，不过不同的是，这个时候是从刚才那个next程序停止的地方开始执行的，也就是要执行res的赋值操作，这时候要注意，这个时候赋值操作的右边是没有值的（因为刚才那个是return出去了，并没有给赋值操作的左边传参数），所以这个时候res赋值是None,所以接着下面的输出就是res:None,</p>
</li>
<li><p>程序会继续在while里执行，又一次碰到yield,这个时候同样return 出4，然后程序停止，print函数输出的4就是这次return出的4.</p>
</li>
</ol>
<p>到这里你可能就明白yield和return的关系和区别了，带yield的函数是一个生成器，而不是一个函数了，这个生成器有一个函数就是next函数，next就相当于“下一步”生成哪个数，这一次的next开始的地方是接着上一次的next停止的地方执行的，所以调用next的时候，生成器并不会从foo函数的开始执行，只是接着上一步停止的地方开始，然后遇到yield后，return出要生成的数，此步就结束。</p>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>():</span></span><br><span class="line">    print(<span class="string">&quot;starting...&quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        res = <span class="keyword">yield</span> <span class="number">4</span></span><br><span class="line">        print(<span class="string">&quot;res:&quot;</span>,res)</span><br><span class="line">g = foo()</span><br><span class="line">print(<span class="built_in">next</span>(g))</span><br><span class="line">print(<span class="string">&quot;*&quot;</span>*<span class="number">20</span>)</span><br><span class="line">print(g.send(<span class="number">7</span>))</span><br><span class="line">&gt;&gt;</span><br><span class="line">starting...</span><br><span class="line"><span class="number">4</span></span><br><span class="line">********************</span><br><span class="line">res: <span class="number">7</span></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>先大致说一下send函数的概念：此时你应该注意到上面那个的紫色的字，还有上面那个res的值为什么是None，这个变成了7，到底为什么，这是因为，send是发送一个参数给res的，因为上面讲到，return的时候，并没有把4赋值给res，下次执行的时候只好继续执行赋值操作，只好赋值为None了，而如果用send的话，开始执行的时候，先接着上一次（return 4之后）执行，先把7赋值给了res,然后执行next的作用，遇见下一回的yield，return出结果后结束。</p>
<ol>
<li><p>程序执行g.send(7)，程序会从yield关键字那一行继续向下运行，send会把7这个值赋值给res变量</p>
</li>
<li><p>由于send方法中包含next()方法，所以程序会继续向下运行执行print方法，然后再次进入while循环</p>
</li>
<li><p>程序执行再次遇到yield关键字，yield会返回后面的值后，程序再次暂停，直到再次调用next方法或send方法。</p>
</li>
</ol>
<p><strong>简要理解：yield就是 return 返回一个值，并且记住这个返回的位置，下次迭代就从这个位置后开始。</strong></p>
<h2 id="测试code性能"><a href="#测试code性能" class="headerlink" title="测试code性能"></a>测试code性能</h2><h3 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h3><h4 id="1-timeit"><a href="#1-timeit" class="headerlink" title="1.timeit"></a><strong>1.timeit</strong></h4><p>timeit只输出被测试代码的总运行时间</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> timeit</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">        a = i * i</span><br><span class="line"></span><br><span class="line">cost_time = timeit.timeit(<span class="string">&#x27;fun()&#x27;</span>, <span class="string">&#x27;from __main__ import fun&#x27;</span>, number=<span class="number">1000</span>)</span><br><span class="line">print(cost_time)</span><br><span class="line"></span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">0.0074794</span></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="2-profile-函数时间"><a href="#2-profile-函数时间" class="headerlink" title="2.profile[函数时间]"></a><strong>2.profile[函数时间]</strong></h4><p>profile：纯Python实现的性能测试模块，接口和cProfile一样。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> profile</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">        a = i * i</span><br><span class="line">        </span><br><span class="line">profile.run(<span class="string">&#x27;fun()&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>ncall：函数运行次数</li>
<li>tottime： 函数的总的运行时间，减去函数中调用子函数的运行时间</li>
</ul>
<p>第一个percall：percall = tottime / nclall</p>
<ul>
<li>cumtime:函数及其所有子函数调整的运行时间，也就是函数开始调用到结束的时间。</li>
</ul>
<p>第二个percall：percall = cumtime / nclall</p>
<table>
<thead>
<tr>
<th align="center">名称</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ncalls</td>
<td align="center">函数被调用次数</td>
</tr>
<tr>
<td align="center">tottime</td>
<td align="center">函数（除去子函数）总运行时间</td>
</tr>
<tr>
<td align="center">percall</td>
<td align="center">平均时间，等于tottime/ncalls</td>
</tr>
<tr>
<td align="center">cumtime</td>
<td align="center">函数（包括子函数）总运行时间</td>
</tr>
<tr>
<td align="center">percall</td>
<td align="center">平均时间，等于cumtime/ncalls</td>
</tr>
<tr>
<td align="center">filename</td>
<td align="center">文件：行号（函数）</td>
</tr>
</tbody></table>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210523203737.png"></p>
<hr>
<h4 id="3-cProfiler-函数时间"><a href="#3-cProfiler-函数时间" class="headerlink" title="3.cProfiler[函数时间]"></a><strong>3.cProfiler[函数时间]</strong></h4><p>profile：c语言实现的性能测试模块，接口和profile一样。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cProfile</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span>():</span></span><br><span class="line">    a = <span class="number">0</span></span><br><span class="line">    b = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10000</span>):</span><br><span class="line">        a = a + i * i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        b += <span class="number">1</span></span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cProfile.run(<span class="string">&#x27;fun()&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>result：</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210523205439.png"></p>
<p><strong>profiler 和 cProfiler 都只能检测整个函数的运行时间，要想知道每行代码运行所损耗的时间需要line_profiler或者memory_profiler（不仅可以得到每行代码运行的时间还可以统计每行代码所占用的内存大小）</strong></p>
<hr>
<h4 id="4-line-profiler-分段时间"><a href="#4-line-profiler-分段时间" class="headerlink" title="4.line_profiler[分段时间]"></a><strong>4.line_profiler[分段时间]</strong></h4><p>pip install line_profiler</p>
<p>安装之后kernprof.py会加到环境变量中。</p>
<p>line_profiler可以统计每行代码的执行次数和执行时间等，时间单位为微妙。</p>
<p>该模块常通过装饰器来使用。在安装好该模块后，编写需要测试的python程序，并在需要测试的函数上方加入<code>@profile</code>，保存为<code>*.py</code>文件。在命令行使用<code>kernprof -l -v *.py</code>，在输出打印出程序结果之后会打印性能分析。</p>
<p>输出结果的含义：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> line_profiler <span class="keyword">import</span> LineProfiler</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_stuff</span>(<span class="params">numbers</span>):</span></span><br><span class="line">    s = <span class="built_in">sum</span>(numbers)</span><br><span class="line">    l = [numbers[i] / <span class="number">43</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(numbers))]</span><br><span class="line">    m = [<span class="string">&#x27;hello&#x27;</span> + <span class="built_in">str</span>(numbers[i]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(numbers))]</span><br><span class="line">    </span><br><span class="line">numbers = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>)]</span><br><span class="line"></span><br><span class="line">lp = LineProfiler(do_stuff)</span><br><span class="line">lp.runcall(do_stuff, numbers)</span><br><span class="line">lp.print_stats()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">名称</th>
<th align="center">意义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Timer unit</td>
<td align="center">计时器单位，微秒</td>
</tr>
<tr>
<td align="center">Total time</td>
<td align="center">测试代码总运行时间</td>
</tr>
<tr>
<td align="center">File</td>
<td align="center">测试代码文件名</td>
</tr>
<tr>
<td align="center">Hits</td>
<td align="center">每行代码运行次数</td>
</tr>
<tr>
<td align="center">Time</td>
<td align="center">每行代码运行时间</td>
</tr>
<tr>
<td align="center">Per Hit</td>
<td align="center">每行代码运行一次的时间</td>
</tr>
<tr>
<td align="center">% Time</td>
<td align="center">每行代码运行时间的百分比</td>
</tr>
<tr>
<td align="center">Line Contents</td>
<td align="center">每行代码</td>
</tr>
</tbody></table>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210523213913.png"></p>
<ul>
<li>Total Time：测试代码的总运行时间</li>
<li>Hits：表示每行代码运行的次数</li>
<li>Time：每行代码运行的总时间</li>
<li>Per Hits：每行代码运行一次的时间</li>
<li>% Time：每行代码运行时间的百分比</li>
</ul>
<hr>
<h4 id="5-memory-profiler-内存"><a href="#5-memory-profiler-内存" class="headerlink" title="5.memory_profiler:[内存]"></a><strong>5.memory_profiler:[内存]</strong></h4><p>memory_profiler工具可以统计每行代码占用的内存大小。</p>
<p><strong>测试代码：</strong></p>
<p>使用方法同line_profiler模块，借助装饰器调用。在需要分析的函数上方加<code>@profile</code>。在命令行使用<code>python -m memory_profiler *.py</code>运行代码。<br>输出结果中：<br>Mem usage：内存使用情况<br>Increment：每行代码运行后内存增减情况</p>
<p><strong>使用：</strong></p>
<ol>
<li>在需要测试的函数加上@profile装饰</li>
<li>执行命令： python -m memory_profiler C:Python34 est.py</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将调试文件独立出xx.py</span></span><br><span class="line"><span class="comment"># 在pycharm 的 terminal windows中使用</span></span><br><span class="line"><span class="comment"># code: python -m memory_profiler memory_profiler</span></span><br><span class="line"><span class="keyword">from</span> memory_profiler <span class="keyword">import</span> profile</span><br><span class="line"></span><br><span class="line"><span class="meta">@profile</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>():</span></span><br><span class="line">    c = []</span><br><span class="line">    a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] * (<span class="number">2</span> ** <span class="number">20</span>)</span><br><span class="line">    b = [<span class="number">1</span>] * (<span class="number">2</span> ** <span class="number">20</span>)</span><br><span class="line">    c.extend(a)</span><br><span class="line">    c.extend(b)</span><br><span class="line">    <span class="keyword">del</span> b</span><br><span class="line">    <span class="keyword">del</span> c</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    test1()</span><br><span class="line"></span><br><span class="line">&gt;&gt;cmd -&gt;python version 3.7</span><br><span class="line">&gt;&gt;//terminal//</span><br><span class="line">&lt;python -m memory_profiler memory_profiler&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210523232121.png"></p>
<ul>
<li><code>Mem usage</code> 为当前总内存</li>
<li><code>Increment</code> 为增加的内存</li>
</ul>
<p>总结起来使用非常时间</p>
<ul>
<li>方法前加上 <code>@profile</code> 主键</li>
<li>使用 <code>python -m memory_profiler</code> 来运行，不过直接用 <code>python</code> 运行也可以</li>
</ul>
<p>通过上面这段代码我们可以发现，<code>del</code> 语句只是将变量删除，并不能减少内存的消耗。</p>
<p><strong>参数使用</strong></p>
<ul>
<li><code>precision</code> 显示小数点后的位数</li>
</ul>
<p>默认显示的内存单位为 <code>MiB</code>，小数点后显示一位，如果某行代码占用内存比较小，就可能显示不出来，此时可以通过调整小数点后的位数实现。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> memory_profiler <span class="keyword">import</span> profile</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@profile(<span class="params">precision=<span class="number">4</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test3</span>():</span></span><br><span class="line">    a = [<span class="number">1</span>, <span class="number">2</span>] * (<span class="number">2</span> ** <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    test3()</span><br></pre></td></tr></table></figure>

<ul>
<li><code>stream</code> 将结果输出到流中</li>
</ul>
<p>每次运行都要打印内存情况，势必会影响程序输出效果，我们可以将结果通过流输出到文件中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> memory_profiler <span class="keyword">import</span> profile</span><br><span class="line"></span><br><span class="line"><span class="meta">@profile(<span class="params">precision=<span class="number">4</span>, @profile(<span class="params">precision=<span class="number">4</span>, stream=<span class="built_in">open</span>(<span class="params"><span class="string">&#x27;/tmp/memory_profiler.log&#x27;</span>,<span class="string">&#x27;w+&#x27;</span></span>)</span>)</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test3</span>():</span></span><br><span class="line">    a = [<span class="number">1</span>, <span class="number">2</span>] * (<span class="number">2</span> ** <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    test3()</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="6-objgraph：-待完善"><a href="#6-objgraph：-待完善" class="headerlink" title="6.objgraph：[待完善]"></a>6.objgraph：[待完善]</h4><p>objgraph是一个实用模块,可以列出当前内存中存在的对象，可用于定位内存泄露。</p>
<p>objgraph需要安装：</p>
<p>pip install objgraph</p>
<hr>
<h3 id="Time"><a href="#Time" class="headerlink" title="Time"></a>Time</h3><p>计算Python的某个程序，或者是代码块运行的时间一般有三种方法。</p>
<h4 id="1-datetime"><a href="#1-datetime" class="headerlink" title="1.datetime"></a><strong>1.datetime</strong></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line">start = datetime.datetime.now()</span><br><span class="line">run_function():</span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"></span><br><span class="line">end = datetime.datetime.now()</span><br><span class="line"><span class="built_in">print</span> (end-start)</span><br></pre></td></tr></table></figure>

<h4 id="2-time–time"><a href="#2-time–time" class="headerlink" title="2.time–time"></a><strong>2.time–time</strong></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">start = time.time()</span><br><span class="line">run_function()</span><br><span class="line">end = time.time()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">str</span>(end-start)</span><br></pre></td></tr></table></figure>

<h4 id="3-time-clock-version-lt-3-8"><a href="#3-time-clock-version-lt-3-8" class="headerlink" title="3.time-clock(version&lt;3.8)"></a><strong>3.time-clock(version&lt;3.8)</strong></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">start = time.clock()</span><br><span class="line">run_function()</span><br><span class="line">end = time.clock()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">str</span>(end-start)</span><br></pre></td></tr></table></figure>

<p>通过对以上方法的比较我们发现，方法二的精度比较高。方法一基本上是性能最差的。这个其实是和系统有关系的。一般我们推荐使用方法二和方法三。我的系统是Ubuntu，也就是Linux系统，方法二返回的是UTC时间。 在很多系统中time.time()的精度都是非常低的，包括windows。</p>
<p>python 的标准库手册推荐在任何情况下尽量使用time.clock().但是这个函数在windows下返回的是真实时间（wall time）</p>
<p><strong>方法一和方法二都包含了其他程序使用CPU的时间。方法三只计算了程序运行CPU的时间。</strong></p>
<p>方法二和方法三都返回的是浮点数<br>究竟是使用 <strong>time.clock()</strong> 精度高，还是使用 <strong>time.time()</strong> 精度更高，要视乎所在的平台来决定。总概来讲，在 <strong>Unix</strong> 系统中，建议使用 **time.time()**，在 Windows 系统中，建议使用 **time.clock()**。</p>
<p><strong>我们要实现跨平台的精度性，我们可以使用timeit 来代替time</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> timeit</span><br><span class="line"></span><br><span class="line">start = timeit.default_timer()</span><br><span class="line">do_func()</span><br><span class="line">end = timeit.default_timer()</span><br><span class="line"><span class="built_in">print</span> <span class="built_in">str</span>(end-start)</span><br></pre></td></tr></table></figure>

<h2 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h2><p>随着问题规模的增加，<code>T(n)</code>变化最大的数量级称为时间复杂度<code>O(n)</code></p>
<h2 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h2><p>Python2中默认的编码格式是 ASCII 格式，程序文件中如果包含中文字符（包括注释部分）需要在文件开头加上 <code># -*- coding: UTF-8 -*-</code> 或者 <code>#coding=utf-8</code> 就行了</p>
<p>Python3默认支持Unicode</p>
<h2 id="保留字（关键字）"><a href="#保留字（关键字）" class="headerlink" title="保留字（关键字）"></a>保留字（关键字）</h2><p>30个关键字</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">and exec    not</span><br><span class="line">assert  finally or</span><br><span class="line">break   for pass</span><br><span class="line">class   from    print</span><br><span class="line">continue global raise</span><br><span class="line">def if  return</span><br><span class="line">del import  try</span><br><span class="line">elif    in  while</span><br><span class="line">else    is  with</span><br><span class="line">except  lambda  yield</span><br></pre></td></tr></table></figure>

<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单行注释</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">多行注释</span></span><br><span class="line"><span class="string">多行注释</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">多行注释</span></span><br><span class="line"><span class="string">多行注释</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="变量赋值"><a href="#变量赋值" class="headerlink" title="变量赋值"></a>变量赋值</h2><p>Python是动态语言，所以在定义变量的时候不需要申明类型，直接使用即可。<br>Python会根据值判断类型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Zeta&quot;</span> <span class="comment"># 字符串变量</span></span><br><span class="line">age = <span class="number">38</span> <span class="comment"># 整数</span></span><br><span class="line">income = <span class="number">1.23</span> <span class="comment"># 浮点数</span></span><br></pre></td></tr></table></figure>

<p>多变量赋值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a,b = <span class="number">1</span>,<span class="number">2</span> <span class="comment"># a=1; b=2</span></span><br><span class="line">c = d = <span class="number">3</span> <span class="comment"># c=3; d=3</span></span><br></pre></td></tr></table></figure>

<h2 id="标准数据类型"><a href="#标准数据类型" class="headerlink" title="标准数据类型"></a>标准数据类型</h2><h3 id="Python-的标准数据类型有："><a href="#Python-的标准数据类型有：" class="headerlink" title="Python 的标准数据类型有："></a>Python 的标准数据类型有：</h3><ul>
<li>Boolean（布尔值）</li>
<li>Number（数字）</li>
<li>String（字符串）</li>
<li>List（列表）</li>
<li>Tuple（元组）</li>
<li>Set（集合）</li>
<li>Dictionary（字典）(hash map)</li>
</ul>
<h3 id="Python标准数据结构有"><a href="#Python标准数据结构有" class="headerlink" title="Python标准数据结构有:"></a>Python标准数据结构有:</h3><p><code>有序结构,可以使用index下标进行检索数据,并且序列中的元素可以重复</code></p>
<ul>
<li>List</li>
<li>Tuple</li>
<li>String</li>
</ul>
<hr>
<p><code>无序结构,不可以用index下标进行检索,序列中允许有重复元素</code></p>
<ul>
<li>Set</li>
<li>Dictionary</li>
</ul>
<h2 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h2><p>Python类型转换非常简单，用类型名作为函数名即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>(n)            <span class="comment"># 将数字n转换为一个整数</span></span><br><span class="line"><span class="built_in">float</span>(n)          <span class="comment"># 将数字n转换到一个浮点数</span></span><br><span class="line"><span class="built_in">str</span>(o)            <span class="comment"># 将对象 obj 转换为字符串</span></span><br><span class="line"><span class="built_in">tuple</span>(s)          <span class="comment"># 将序列 s 转换为一个元组</span></span><br><span class="line"><span class="built_in">list</span>(s)           <span class="comment"># 将序列 s 转换为一个列表</span></span><br><span class="line"><span class="built_in">set</span>(s)            <span class="comment"># 将序列 s 转换为一个集合</span></span><br></pre></td></tr></table></figure>

<p>另外，Python中可以直接转换数字字符串和数字：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;123&quot;</span></span><br><span class="line">i = <span class="number">456</span></span><br><span class="line">print(<span class="built_in">int</span>(s), <span class="built_in">str</span>(i))</span><br></pre></td></tr></table></figure>

<h2 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h2><p>Python传统的判断语句如下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> name == <span class="string">&#x27;zeta&#x27;</span>:          <span class="comment"># 判断变量是否为 zeta </span></span><br><span class="line">    print(<span class="string">&#x27;Welcome boss&#x27;</span>)   <span class="comment"># 并输出欢迎信息</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;Hi, &#x27;</span> + name)</span><br></pre></td></tr></table></figure>

<p>Python不支持三元表达式，但是可以用一种类似的替代办法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title = <span class="string">&quot;boss&quot;</span></span><br><span class="line">name = <span class="string">&quot;zeta&quot;</span> <span class="keyword">if</span> title == <span class="string">&quot;boss&quot;</span> <span class="keyword">else</span> <span class="string">&quot;chow&quot;</span></span><br><span class="line">print(name)</span><br></pre></td></tr></table></figure>

<p>逻辑与用 <code>and</code> ，逻辑或用 <code>or</code></p>
<h2 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h2><p>Python中有<code>while</code>和<code>for</code>两种循环，都可以使用<code>break</code>跳出循环和<code>continue</code>立即进入下一轮循环，另外，Python的循环语句还可以用<code>else</code>执行循环全部完毕后的代码，<code>break</code>跳出后不会执行<code>else</code>的代码</p>
<p><strong>while</strong> 条件循环，</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> (count &lt; <span class="number">9</span>):    </span><br><span class="line">    print(<span class="string">&#x27;The count is:&#x27;</span>, count)    </span><br><span class="line">    count = count + <span class="number">1</span>    </span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">5</span>:        </span><br><span class="line">        <span class="keyword">break</span>   <span class="comment"># 可以比较以下break和不break的区别        </span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:    </span><br><span class="line">        print(<span class="string">&#x27;loop over&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>for</strong> 遍历循环，循环遍历所有序列对象的子项</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;zeta&#x27;</span>, <span class="string">&#x27;chow&#x27;</span>,  <span class="string">&#x27;world&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> names:    </span><br><span class="line">    print(<span class="string">&#x27;Hello, &#x27;</span> + n)    </span><br><span class="line">    <span class="keyword">if</span> n == <span class="string">&#x27;world&#x27;</span>:        </span><br><span class="line">        <span class="keyword">break</span>        </span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:    </span><br><span class="line">        print(<span class="string">&#x27;Good night!&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><code>for</code>循环中也可以用<code>else</code>，（注释掉代码中的<code>break</code>试试看。)</p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>用<code>def</code>关键字定义函数，并且在Python中，作为脚本语言，调用函数必须在定义函数之后。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">name</span>):</span></span><br><span class="line">    print(<span class="string">&quot;hello, &quot;</span>+name)</span><br><span class="line">    passfoo(<span class="string">&quot;zeta&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>默认参数</strong> Python定义函数参数时，可以设置默认值，调用时如果没有传递该参数，函数内将使用默认值，默认值参数必须放在无默认值参数后面。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">name=<span class="string">&quot;zeta&quot;</span></span>):</span></span><br><span class="line">    print(<span class="string">&quot;hello, &quot;</span>+name)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">foo()</span><br></pre></td></tr></table></figure>

<p><strong>关键字参数</strong> 一般函数传递参数时，必须按照参数定于的顺序传递，但是Python中，允许使用关键字参数，这样通过指定参数明，可以不按照函数定义参数的顺序传递参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">age, name=<span class="string">&quot;zeta&quot;</span></span>):</span></span><br><span class="line">    print(<span class="string">&quot;hello, &quot;</span>+name+<span class="string">&quot;; age=&quot;</span>+<span class="built_in">str</span>(age))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">foo(name=<span class="string">&quot;chow&quot;</span>, age=<span class="number">18</span>)</span><br></pre></td></tr></table></figure>

<p><strong>不定长参数</strong>，Python支持不定长参数，用<code>*</code>定义参数名，调用时多个参数将作为一个元祖传递到函数内</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">*names</span>):</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> names:</span><br><span class="line">        print(<span class="string">&quot;hello, &quot;</span>+n)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">foo(<span class="string">&quot;zeta&quot;</span>, <span class="string">&quot;chow&quot;</span>, <span class="string">&quot;world&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>return</strong> 返回函数结果。</p>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><ul>
<li>模块是一个.py文件</li>
<li>模块在第一次被导入时执行</li>
<li>一个下划线定义保护级变量和函数，两个下划线定义私有变量和函数</li>
<li>导入模块习惯性在脚本顶部，但是不强制</li>
</ul>
<h2 id="导入包"><a href="#导入包" class="headerlink" title="导入包"></a>导入包</h2><p>在Python中，使用<code>import</code>导入模块。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python# -*- coding: UTF-8 -*- # 导入模块import support support.print_func(“Runoob”)</span></span><br></pre></td></tr></table></figure>

<p>还可以使用<code>from import</code>导入模块指定部分</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> modname <span class="keyword">import</span> name1[, name2[, ... nameN]]</span><br></pre></td></tr></table></figure>

<p>为导入的包设置别名用 <code>as</code>关键字</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime <span class="keyword">as</span> dt</span><br></pre></td></tr></table></figure>

<h2 id="错误和异常"><a href="#错误和异常" class="headerlink" title="错误和异常"></a>错误和异常</h2><p>Python中用经典的 <code>try/except</code> 捕获异常</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:&lt;语句&gt;    <span class="comment">#运行别的代码</span></span><br><span class="line">    <span class="keyword">except</span> &lt;异常名称&gt;：&lt;语句&gt;        </span><br><span class="line">    <span class="comment">#except &lt;异常名称&gt;，&lt;数据&gt;:&lt;语句&gt; </span></span><br><span class="line">    <span class="comment">#如果引发了指定名称的异常，获得附加的数据</span></span><br></pre></td></tr></table></figure>

<p>还提供了 <strong>else</strong> 和 <strong>finally</strong></p>
<p>如果没发生异常的执行<code>else</code>语句块，<code>finally</code>块的代码无论是否捕获异常都会执行</p>
<p>Python内建了很全面的异常类型名称，同时能自定义异常类型</p>
<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><p>Python完全支持面向对象的。</p>
<h2 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h2><ol>
<li>使用<code>thread</code>模块中的<code>start_new_thread()</code>函数</li>
<li>使用<code>threading</code>模块创建线程</li>
</ol>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>Python和Go分别在动态语言和静态语言中都是最易学易用的编程语言之一。</p>
<p>它们并不存在取代关系，而是各自在其领域发挥自己的作用。</p>
<p>Python的语法简单直观，除了程序员爱不释手外也非常适合于其他领域从业者使用。</p>
<p>Go兼具语法简单和运行高效的有点，在多线程处理方面很优秀，非常适合已经掌握一定编程基础和一门主流语言的同学学习，不过，Go是不支持面向对象的，对于大多数支持面向对象语言的使用者在学习Go语言的时候，需要谨记并且转换编程思路。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/05/15/Python-Underlying-Structure/" data-id="ckopezsv70000cwf52kqmg664" data-title="Python-Underlying-Structure" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-我的工作实践" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/06/%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%AE%9E%E8%B7%B5/" class="article-date">
  <time class="dt-published" datetime="2021-05-06T00:09:25.000Z" itemprop="datePublished">2021-05-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/06/%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%AE%9E%E8%B7%B5/">我的工作实践</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p>0面试</p>
<p>1试用期</p>
<p>2实习期</p>
<p>3入职</p>
<p>4离职</p>
<hr>
<p>0公司制度</p>
<p>1合同</p>
<p>2违法与用法</p>
<p>3节假日</p>
<p>4公司文化</p>
<hr>
<h2 id="离职"><a href="#离职" class="headerlink" title="离职"></a>离职</h2><p>1.试用期提前三天申请离职就好。(双方灵活选择，节约彼此时间。新员工上手工作也不多，交接方便。)</p>
<p>2.正式员工离职提前一个月申请。(部分岗位员工突然离职，但Ta手上的工作不能停，需要下一个人交接，或者找下一个人还需要时间，还需要带。So，立法考虑设立一个月)(一般的公司不会卡你时间，交接也简单，不排除有硬生生卡人一个月的公司，劳动者心理要做好准备)</p>
<p>5.辞退除工资外，还应该有赔偿金（double）。</p>
<p>13.离职最好要拿一份离职证明。</p>
<hr>
<h2 id="违法用法"><a href="#违法用法" class="headerlink" title="违法用法"></a>违法用法</h2><h3 id="违法"><a href="#违法" class="headerlink" title="违法"></a>违法</h3><p>3.公司单方面降薪不合法。</p>
<p>4.不买社保，违法。公司缴纳大部分。(工资是工资，五险一金，六险一金，是社会福利保障。社保国家强制，一金是福利(已经是默认福利，正规公司一般情况应该有)，和那些定期团聚、出国游、开工红包、生日红包、节假日福利一样，不同公司不一样)</p>
<p>14.一点要看清自己的工作职位和职责，不符合录用，经常会扯这里。(好在，法律规定，用人单位提供不符合录用证据，用人单位提供不出来，违法解除)</p>
<p>15.合同里经常会有一条“领导安排的其他任务”或者“根据工作需要，可以岗位调整，安排其他事情”，就是针对14，设立的。</p>
<p>43.试用期被辞退。同理，关注14点。看清楚自己岗位和职责内容（一开始你就要清楚知道胜任标准，效率完成工作内容）。用人单位辞退，对方要出示你确实不能胜任的证据，而不是说一句话，你不能胜任工作你可以走了。</p>
<p>19.涉嫌歧视、人身攻击、肢体冲突可以举报、报警。</p>
<p>34.用人单位忌讳，吸毒人员。还有一些受刑事处罚人员。我们也很难，搞不好就是歧视，只能从入职诚实信用入手。</p>
<p>45.不要帮公司做违法的事情。之前遇到一个年轻小伙（女朋友卖婚房委托律师，哭着说从小到大成绩优秀，被抓了家人都不相信）帮公司开发一个理财软件（诈骗软件），一起进去了。</p>
<p>46.用人单位不交社保，找Ta交。协商后单位仍旧不给缴，去用人单位所在地人力资源社会保障行政部门投诉（打电话就可以）（市长热线也可以），由社会保险费征收机构责令其限期缴纳或者补足。如果用人单位漏报或少报社会保险基数的，则可以向所在地社保经办机构稽核科投诉反映。 </p>
<p>47.用人单位未在一个月内按规定缴纳的，劳动者可以解除劳动合同，可同时要求用人单位依法支付经济补偿。</p>
<p>65.解除劳动合同VS终止劳动合同通知</p>
<h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><p>31.劳动仲裁不要钱，财政保障。程序很简单，自己都可以操作，你合情合理合法很容易赢。</p>
<p>32.劳动争议诉讼10元。（仲裁是前置程序）（一般小问题，仲裁就可以了，不用后面诉讼）</p>
<p>48.市长热线12345</p>
<p>公共法律服务热线12348</p>
<hr>
<h2 id="就职"><a href="#就职" class="headerlink" title="就职"></a>就职</h2><p>6.大学生临近毕业（还有几个月毕业），没有拿到毕业证，可以签订劳动合同。</p>
<p>7.一直不签劳动合同，违法。入职就应该签。(一个月后，该担心的应该是公司吧)</p>
<blockquote>
<p>中华人民共和国劳动合同法实施条例</p>
<p>第五条自用工之日起一个月内，经用人单位书面通知后，劳动者不与用人单位订立书面劳动合同的，用人单位应当书面通知劳动者终止劳动关系，无需向劳动者支付经济补偿，但是应当依法向劳动者支付其实际工作时间的劳动报酬。</p>
<p>第六条用人单位自用工之日起超过一个月不满一年未与劳动者订立书面劳动合同的，应当依照劳动合同法第八十二条的规定向劳动者每月支付两倍的工资，并与劳动者补订书面劳动合同;劳动者不与用人单位订立书面劳动合同的，用人单位应当书面通知劳动者终止劳动关系，并依照劳动合同法第四十七条的规定支付经济补偿。</p>
<p>前款规定的用人单位向劳动者每月支付两倍工资的起算时间为用工之日起满一个月的次日，截止时间为补订书面劳动合同的前一日。</p>
</blockquote>
<p>10.入职身份证复印件上，注明，仅供入职使用。（所有使用身份证都可以注明）</p>
<p>17.部分工作，该有防护的应该有防护工具（口罩等等）。</p>
<p>18.简历，入职表不要乱填乱写，诚实信用原则。（一般合同有一条，作假不录取，已录取无条件辞退）</p>
<hr>
<h2 id="实习期"><a href="#实习期" class="headerlink" title="实习期"></a>实习期</h2><p>12.试用期工资不低于正式工资80%。（国家单位，国企试用期一般100%）</p>
<p>20.试岗。法律规定试用期，就是为了双方考察选择。只是部分企业自己又设置了一个3-7天试岗，多数还表明还没有工资。这么🐶公司还是不要去了。</p>
<p>52.面试前去“天眼查”“企查查”查一下，顺便看看有没有公司和前员工的劳动纠纷，看看公司态度。</p>
<p>56.实习生。这个问题复杂，不过不是特别行业，法律、医学等，已经毕业的娃，还当什么实习生（试用期实习生，只是称呼吧?）。（大学生寒暑期实习，肯定叫实习生）（例如法律行业是那个证，要实习至少一年，也可以叫实习生，实习律师）（还有临近毕业，文中第6，有的公司说不能和你签合同，你还没毕业证，先做实习生。）</p>
<hr>
<h2 id="合同"><a href="#合同" class="headerlink" title="合同"></a>合同</h2><p>8.劳动合同一式两份，一定要保管好自己那一份。（不然纠纷的时候你劳动仲裁提交材料都没有）</p>
<p>9.一般情况，不要给公司押东西（各类证件：毕业证、上一家离职证明等等），仅现场审核，然后自己带回去。『有押护照的，那就是大佬级别了』</p>
<p>11.合同一年，一般就一个月试用期。偶尔两个月（🐶公司）。</p>
<p>21.三年劳动合同，不超过6个月。三个月不满一年，1个月试用期。一年以上不满三年，试用期不超过2个月。『这个其实是约定，一个半月都可以。合法合规就好』</p>
<p>67.有的公司三个月或六个月签一次，特别🐶。连续不间断签，最好不要去。</p>
<p>68.还有些公司老板觉得自己开了一个公司，Ta就是王，Ta就是法。签一年Ta就要试用期三个月。连国家法律都不敬畏，有纠纷了有的扯。</p>
<p>68.还有的公司，告诉你是他们关联/下属企业，为了人员管理/避税等等理由，合同上签的另外的公司。谨慎一点吧，首先看看那个公司注册下来了没有。</p>
<h2 id="工资"><a href="#工资" class="headerlink" title="工资"></a>工资</h2><p>16.工资构成。假设工资8k。然后合同约定4k基本工资，1k交通补贴，1k吃饭补贴，2k技术津贴。他们告诉你还是8k，看上去也是。风险就在于以后很多东西（保险，请假等等，甚至劳动纠纷）看基本工资（基数）。</p>
<p>22.工资不能低于当地最低工资标准。</p>
<p>33.上班一周有没有工资?有。</p>
<p>38.工资讨论。一般公司会设置这个，不准讨论。最好遵守规定。（违反公司制度辞退风险）实在忍不住，不要留证据，披个马甲，好吗。</p>
<p>49.到手工资。可以问一句，工资到手多少。顺便推算，社保交几档。（一般情况，国家单位一、二档）其他，危。</p>
<p>61.招聘软件上部分公司，工资跨度很大。一般情况看最低。面试前，也可以问问，岗位预算到底多少。</p>
<h2 id="公司制度"><a href="#公司制度" class="headerlink" title="公司制度"></a>公司制度</h2><h3 id="绩效"><a href="#绩效" class="headerlink" title="绩效"></a>绩效</h3><p>这是大家关注的吧。公司单方随意改动违法。员工手册，我们一般不会设置绩效，因为这就是“递刀”。公司动员工工资，或者激励努力劳动，都是动这一款。一般是附件，改动也方便，不同部门也不一样。但是这些都属于规则制度一部分，也不能朝令夕改，要程序合法、大家同意(有时候职工代表已经代表你了😏)。(但是选职工代表你们有流程，要参与哦)</p>
<p>24.迟到、请假等所有的公司规章制度，要合理合法合程序，应该经过公司民主程序制定，投票(全体员工或者职工代表)，规章制度公示（✔），报请工会（不一定）。规章制度员工必须知悉(✔)或同意签字留底等等。(签字留底表明知悉，是最周全的)『一般情况，职工代表是老板的人😂，老板对结果不my，换下一个职工代表😏』</p>
<p>PS：不合理不合法的东西，在公司站得住脚，上了法庭站不住脚。(所以，很多时候，要员工同意并签字，例：奋斗者协议)</p>
<p>什么是合理。假设某工厂记件，一天最快的10个，最慢的5个，平均6个。规定基本工资说5个就达标，7个良好，8个优秀。如果现在新厂长改变制度，说7个达标，10个良好，12个优秀。(有人能达到12吗，没有，除非技术变革)</p>
<p>不合理VS明显不合理</p>
<p>(提一句996/007，上面例子，我们确定最高10个。但是在实际生活中，法定时间是八个小时，007/996工作强度能不能接受，员工又“自愿接受”，变数太多。又加上员工自己签的“奋斗者协议”，自愿并同意。正规公司按时按量给你发加班工资，你不能阻止别人奋斗吧)</p>
<p>⚡我发现一个问题，法院曾认可某一个公司“奋斗者协议”但不代表其他公司可以无限制、不顾员工身体，强制xxx。如果被发现强迫劳动也是违反《劳动法》《劳动合同法》等的，建议没有“南山必胜客”那样的法务团队的公司，不要乱搞，随便加班“强迫劳动”。⚡</p>
<p>25.公司内部规章制度必须遵守相应法律法规，例如《劳动法》《劳动合同法》等等。</p>
<h3 id="请假"><a href="#请假" class="headerlink" title="请假"></a>请假</h3><p>要符合公司规定流程。具体情况具体分析。紧急情况，要有电话录音或信息记录等等证据留底。此处风险，容易被记旷工。</p>
<h3 id="内卷"><a href="#内卷" class="headerlink" title="内卷"></a>内卷</h3><p>奋斗者协议，这个嘛，法院认可过。不过具体问题具体分析。加班加班工资还要应该有的。一般公司，没有腾讯级别的法务部，不要瞎搞。这不是代表官方认可这个，只是个例。自愿和“被自愿”难道不好分清楚吗？</p>
<h3 id="保密协议"><a href="#保密协议" class="headerlink" title="保密协议"></a>保密协议</h3><p>40.保密协议。应该保密就要保密。</p>
<h3 id="竞业限制"><a href="#竞业限制" class="headerlink" title="竞业限制"></a>竞业限制</h3><p>41.竞业限制。慎重。如果你只有这个安身立命的本事，不要签。竞业限制签了，约定期限内，应该有补偿金。</p>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>44.公司群不要“胡言乱语”，私下群不要“胡言乱语”，还是那句话，同事告密你就死了，匿名，马甲，不香吗。（最近的官方公众号推算案子，说领导“彩旗飘飘”“xxx”等等，被告密，被违法辞退，二审赔了10万。折腾好麻烦）</p>
<p>50.服装。有的🐶公司，上班统一发（定制）服装，离职出现服装费（1-2-3千）。</p>
<p>64.玩手机，抗辩理由很多。看工作群、和客户联系、父母急事。不太知道具体公司具体岗位情况。我们这行是结果导向，没有这一说。</p>
<h2 id="培训进修"><a href="#培训进修" class="headerlink" title="培训进修"></a>培训进修</h2><p>26.培训。刚进去让你贷款培训公司有问题。公司为了劳动者更好劳动，适应岗位，一般情况，免费培训。</p>
<p>27.进修。进修后要在用人单位工作服务几年。注意看清楚违约金多少。</p>
<h2 id="工伤"><a href="#工伤" class="headerlink" title="工伤"></a>工伤</h2><p>28.工伤保险，包括上下班途中。（一）在合理时间内往返于工作地与住所地、经常居住地、单位宿舍的合理路线的上下班途中；（二）在合理时间内往返于工作地与配偶、父母、子女居住地的合理路线的上下班途中；（三）从事属于日常工作生活所需要的活动，且在合理时间和合理路线的上下班途中；（四）在合理时间内其他合理路线的上下班途中。</p>
<p>29.外出做工作上的事情出事，工伤。</p>
<p>PS：非本人原因的交通事故，工伤。就是公司认定工伤，肇事者还要赔。</p>
<h2 id="换岗"><a href="#换岗" class="headerlink" title="换岗"></a>换岗</h2><p>35.劳动者患病或非因工受伤，确实不太适合现在的岗位。不是立马辞退。立法者考虑到这样的情况，首先，是给你换一个岗位，（给你一个挽救的机会）。（例如，工作是前台，嗓子??，不太适合前台沟通职责，可以换去后面行政。）</p>
<h2 id="骚扰"><a href="#骚扰" class="headerlink" title="骚扰"></a>骚扰</h2><p>36.怀孕。让你3-5-7年内不能怀孕，违背公序良俗。</p>
<p>36.正式员工怀孕时，不能被辞退，也不能降薪。</p>
<p>37.女性遇到性骚扰，要学会保留证据，一击即中。</p>
<p>38.试用期怀孕。《劳动合同法》第39条：“劳动者在试用期间被证明不符合录用条件，用人单位可以与劳动者解除劳动合同。也就是说，悬。</p>
<h2 id="派遣"><a href="#派遣" class="headerlink" title="派遣"></a>派遣</h2><p>42.派遣。国家那种编外派遣，还差不多。其他的，仁者见仁。</p>
<h2 id="三方协议"><a href="#三方协议" class="headerlink" title="三方协议"></a>三方协议</h2><p>51.三方协议，是学校为没有出校门、没有接受社会“关爱”，提供的保护你的好东西。</p>
<h2 id="查看公司"><a href="#查看公司" class="headerlink" title="查看公司"></a>查看公司</h2><p>53.法定代表人还是有风险的。例：京D换人</p>
<p>54.几个月没发工资了?跑路吧。</p>
<p>55.股权激励，有些是饼有些是真的，看公司发展。</p>
<h2 id="节假日"><a href="#节假日" class="headerlink" title="节假日"></a>节假日</h2><p>57.调休。先看最近的五一，这个话题，略。(为什么，有人看不懂五一梗，so，还是略)(谁说普通调休，我说企业三倍工资调休)</p>
<p>58.法定节假日放假，带薪年假，病假(患病or非因工负伤，必须要给医疗期)有钱。婚假(女20岁、男22岁)3天，有工资。</p>
<p>59.产假(98天，产前休假15天。难产+15，多胞胎+15)。怀孕流产也有假，不满4个月，15-30天;满4个月，42天。晚育，奖励30天，配偶10天护理假。(劳动时间内，还有一个小时哺乳时间。多胞胎，多一个，加一个小时。)</p>
<p>63.离开工位。看离开时长。一般情况去洗手间，去接水喝水，不能制止我吧。如果是其他事情，较长时间，建议请假或者告知自己去干什么多少分钟回。(主要是急事现场找不到人，领导就火大，火大就惨了)不同公司具体规章不一样，严重情况且多次可能列为旷工。例如：一月旷工N次，就拜拜。</p>
<h2 id="公司文化"><a href="#公司文化" class="headerlink" title="公司文化"></a>公司文化</h2><p>66.公司文化呢，要不是保护人权的区别于同行或其他公司的东西，还有就是拼搏(狼性)、奋斗、快乐、幸福等精神，包容、女性关怀、年轻员工等一些关爱措施。(卖身，那是不可能的)</p>
<p>举例:我们这行还是有年轻律师起薪几个万元俱乐部;还有些给年轻律师配行政秘书的;还有给年轻妈妈设置专门的空间喂奶或小孩玩乐区域。等等。(健身房?那是让你更好的工作😏)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/05/06/%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%AE%9E%E8%B7%B5/" data-id="ckooh4zj6000q78f5b85w42av" data-title="我的工作实践" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%9E%E8%B7%B5/" rel="tag">实践</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Infectious-Disease-Model" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/04/30/Infectious-Disease-Model/" class="article-date">
  <time class="dt-published" datetime="2021-04-30T02:11:59.000Z" itemprop="datePublished">2021-04-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/04/30/Infectious-Disease-Model/">Infectious Disease Model</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="概念介绍"><a href="#概念介绍" class="headerlink" title="概念介绍"></a>概念介绍</h2><p>S (Susceptible)易感者指缺乏免疫能力健康人，与感染者接触后容易受到感染；</p>
<p>E (Exposed)暴露者 指接触过感染者但暂无传染性的人，可用于存在潜伏期的传染病；</p>
<p>I (Infectious)患病者指有传染性的病人，可以传播给 S，将其变为 E 或 I ；</p>
<p>R (Recovered)康复者指病愈后具有免疫力的人，如是终身免疫性传染病，则不可被重新变为 S 、E 或 I ，如果免疫期有限，就可以重新变为 S 类，进而被感染。</p>
<p>各个变量之间并不是相互独立，而是可以相互转化。</p>
<p>The various variables are not independent of each other, but can be transformed into each other.</p>
<p>COVID19 3.7-3.8</p>
<h2 id="模型一：SI-Model"><a href="#模型一：SI-Model" class="headerlink" title="模型一：SI-Model"></a>模型一：SI-Model</h2><p>不进行人为的控制</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210504220927.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.integrate <span class="keyword">as</span> spi</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># N为人群总数</span></span><br><span class="line">N = <span class="number">10000</span></span><br><span class="line"><span class="comment"># β为传染率系数</span></span><br><span class="line">beta = <span class="number">0.25</span></span><br><span class="line"><span class="comment"># gamma为恢复率系数</span></span><br><span class="line">gamma = <span class="number">0</span></span><br><span class="line"><span class="comment"># I_0为感染者的初始人数</span></span><br><span class="line">I_0 = <span class="number">1</span></span><br><span class="line"><span class="comment"># S_0为易感者的初始人数</span></span><br><span class="line">S_0 = N - I_0</span><br><span class="line"><span class="comment"># T为传播时间</span></span><br><span class="line">T = <span class="number">150</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># INI为初始状态下的数组</span></span><br><span class="line">INI = (S_0,I_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funcSI</span>(<span class="params">inivalue,_</span>):</span></span><br><span class="line">    Y = np.zeros(<span class="number">2</span>)</span><br><span class="line">    X = inivalue</span><br><span class="line">    <span class="comment"># 易感个体变化</span></span><br><span class="line">    Y[<span class="number">0</span>] = - (beta * X[<span class="number">0</span>] * X[<span class="number">1</span>]) / N + gamma * X[<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># 感染个体变化</span></span><br><span class="line">    Y[<span class="number">1</span>] = (beta * X[<span class="number">0</span>] * X[<span class="number">1</span>]) / N - gamma * X[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> Y</span><br><span class="line"></span><br><span class="line">T_range = np.arange(<span class="number">0</span>,T + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">RES = spi.odeint(funcSI,INI,T_range)</span><br><span class="line"></span><br><span class="line">plt.plot(RES[:,<span class="number">0</span>],color = <span class="string">&#x27;darkblue&#x27;</span>,label = <span class="string">&#x27;Susceptible&#x27;</span>,marker = <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">plt.plot(RES[:,<span class="number">1</span>],color = <span class="string">&#x27;red&#x27;</span>,label = <span class="string">&#x27;Infection&#x27;</span>,marker = <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;SI Model&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Day&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Number&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="模型二：SIS-Model"><a href="#模型二：SIS-Model" class="headerlink" title="模型二：SIS-Model"></a>模型二：SIS-Model</h2><p>易感染者–&gt;感染者—TIME—&gt;易感染者</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210504221004.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">import scipy.integrate as spi</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># N为人群总数</span><br><span class="line">N &#x3D; 10000</span><br><span class="line"># β为传染率系数</span><br><span class="line">beta &#x3D; 0.25</span><br><span class="line"># gamma为恢复率系数</span><br><span class="line">gamma &#x3D; 0.05</span><br><span class="line"># I_0为感染者的初始人数</span><br><span class="line">I_0 &#x3D; 1</span><br><span class="line"># S_0为易感者的初始人数</span><br><span class="line">S_0 &#x3D; N - I_0</span><br><span class="line"># T为传播时间</span><br><span class="line">T &#x3D; 150</span><br><span class="line"></span><br><span class="line"># INI为初始状态下的数组</span><br><span class="line">INI &#x3D; (S_0,I_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def funcSIS(inivalue,_):</span><br><span class="line">    Y &#x3D; np.zeros(2)</span><br><span class="line">    X &#x3D; inivalue</span><br><span class="line">    # 易感个体变化</span><br><span class="line">    Y[0] &#x3D; - (beta * X[0]) &#x2F; N * X[1] + gamma * X[1]</span><br><span class="line">    # 感染个体变化</span><br><span class="line">    Y[1] &#x3D; (beta * X[0] * X[1]) &#x2F; N - gamma * X[1]</span><br><span class="line">    return Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">T_range &#x3D; np.arange(0,T + 1)</span><br><span class="line"></span><br><span class="line">RES &#x3D; spi.odeint(funcSIS,INI,T_range)</span><br><span class="line"></span><br><span class="line">plt.plot(RES[:,0],color &#x3D; &#39;darkblue&#39;,label &#x3D; &#39;Susceptible&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,1],color &#x3D; &#39;red&#39;,label &#x3D; &#39;Infection&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.title(&#39;SIS Model&#39;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(&#39;Day&#39;)</span><br><span class="line">plt.ylabel(&#39;Number&#39;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="模型三：SIR-Model"><a href="#模型三：SIR-Model" class="headerlink" title="模型三：SIR-Model"></a>模型三：SIR-Model</h2><p>易感染者–&gt;感染者—time—&gt;康复者（隔离or抗体）—-no–&gt;易感染者</p>
<p>拐点：infected峰值的时间</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210504221039.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import scipy.integrate as spi</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># N为人群总数</span><br><span class="line">N &#x3D; 10000</span><br><span class="line"># β为传染率系数</span><br><span class="line">beta &#x3D; 0.25</span><br><span class="line"># gamma为恢复率系数</span><br><span class="line">gamma &#x3D; 0.05</span><br><span class="line"># I_0为感染者的初始人数</span><br><span class="line">I_0 &#x3D; 1</span><br><span class="line"># R_0为治愈者的初始人数</span><br><span class="line">R_0 &#x3D; 0</span><br><span class="line"># S_0为易感者的初始人数</span><br><span class="line">S_0 &#x3D; N - I_0 - R_0</span><br><span class="line"># T为传播时间</span><br><span class="line">T &#x3D; 150</span><br><span class="line"></span><br><span class="line"># INI为初始状态下的数组</span><br><span class="line">INI &#x3D; (S_0,I_0,R_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def funcSIR(inivalue,_):</span><br><span class="line">    Y &#x3D; np.zeros(3)</span><br><span class="line">    X &#x3D; inivalue</span><br><span class="line">    # 易感个体变化</span><br><span class="line">    Y[0] &#x3D; - (beta * X[0] * X[1]) &#x2F; N</span><br><span class="line">    # 感染个体变化</span><br><span class="line">    Y[1] &#x3D; (beta * X[0] * X[1]) &#x2F; N - gamma * X[1]</span><br><span class="line">    # 治愈个体变化</span><br><span class="line">    Y[2] &#x3D; gamma * X[1]</span><br><span class="line">    return Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">T_range &#x3D; np.arange(0,T + 1)</span><br><span class="line"></span><br><span class="line">RES &#x3D; spi.odeint(funcSIR,INI,T_range)</span><br><span class="line"></span><br><span class="line">plt.plot(RES[:,0],color &#x3D; &#39;darkblue&#39;,label &#x3D; &#39;Susceptible&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,1],color &#x3D; &#39;red&#39;,label &#x3D; &#39;Infection&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,2],color &#x3D; &#39;green&#39;,label &#x3D; &#39;Recovery&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.title(&#39;SIR Model&#39;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(&#39;Day&#39;)</span><br><span class="line">plt.ylabel(&#39;Number&#39;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="模型四：SIRS-Model"><a href="#模型四：SIRS-Model" class="headerlink" title="模型四：SIRS-Model"></a>模型四：SIRS-Model</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/142117535">数学建模常用算法——传染病模型（四）SIRS模型 - 知乎 (zhihu.com)</a></p>
<p>适用于有易感者、患病者和康复者三类人群，康复者只有暂时性的免疫力，单位时间后变为易感者，有可能再次被感染而患病。</p>
<p><strong>模型假设</strong></p>
<p>易感者与患病者有效接触即被感染，变为患病者，可被治愈再次变为易感者，有短暂免疫力，无潜伏期。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">import scipy.integrate as spi</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># N为人群总数</span><br><span class="line">N &#x3D; 10000</span><br><span class="line"># β为传染率系数</span><br><span class="line">beta &#x3D; 0.25</span><br><span class="line"># gamma为恢复率系数</span><br><span class="line">gamma &#x3D; 0.05</span><br><span class="line"># Ts为抗体持续时间</span><br><span class="line">Ts &#x3D; 7</span><br><span class="line"># I_0为感染者的初始人数</span><br><span class="line">I_0 &#x3D; 1</span><br><span class="line"># R_0为治愈者的初始人数</span><br><span class="line">R_0 &#x3D; 0</span><br><span class="line"># S_0为易感者的初始人数</span><br><span class="line">S_0 &#x3D; N - I_0 - R_0</span><br><span class="line"># T为传播时间</span><br><span class="line">T &#x3D; 150</span><br><span class="line"></span><br><span class="line"># INI为初始状态下的数组</span><br><span class="line">INI &#x3D; (S_0,I_0,R_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def funcSIRS(inivalue,_):</span><br><span class="line">    Y &#x3D; np.zeros(3)</span><br><span class="line">    X &#x3D; inivalue</span><br><span class="line">    # 易感个体变化</span><br><span class="line">    Y[0] &#x3D; - (beta * X[0] * X[1]) &#x2F; N + X[2] &#x2F; Ts</span><br><span class="line">    # 感染个体变化</span><br><span class="line">    Y[1] &#x3D; (beta * X[0] * X[1]) &#x2F; N - gamma * X[1]</span><br><span class="line">    # 治愈个体变化</span><br><span class="line">    Y[2] &#x3D; gamma * X[1] - X[2] &#x2F; Ts</span><br><span class="line">    return Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">T_range &#x3D; np.arange(0,T + 1)</span><br><span class="line"></span><br><span class="line">RES &#x3D; spi.odeint(funcSIRS,INI,T_range)</span><br><span class="line"></span><br><span class="line">plt.plot(RES[:,0],color &#x3D; &#39;darkblue&#39;,label &#x3D; &#39;Susceptible&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,1],color &#x3D; &#39;red&#39;,label &#x3D; &#39;Infection&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,2],color &#x3D; &#39;green&#39;,label &#x3D; &#39;Recovery&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.title(&#39;SIRS Model&#39;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(&#39;Day&#39;)</span><br><span class="line">plt.ylabel(&#39;Number&#39;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="模型五：SEIR-Model"><a href="#模型五：SEIR-Model" class="headerlink" title="模型五：SEIR-Model"></a>模型五：SEIR-Model</h2><p>暴露者：处于潜伏期的人，有一定概率变成感染者</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210504221108.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">import scipy.integrate as spi</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># N为人群总数</span><br><span class="line">N &#x3D; 10000</span><br><span class="line"># β为传染率系数</span><br><span class="line">beta &#x3D; 0.6</span><br><span class="line"># gamma为恢复率系数</span><br><span class="line">gamma &#x3D; 0.1</span><br><span class="line"># Te为疾病潜伏期</span><br><span class="line">Te &#x3D; 14</span><br><span class="line"># I_0为感染者的初始人数</span><br><span class="line">I_0 &#x3D; 1</span><br><span class="line"># E_0为潜伏者的初始人数</span><br><span class="line">E_0 &#x3D; 0</span><br><span class="line"># R_0为治愈者的初始人数</span><br><span class="line">R_0 &#x3D; 0</span><br><span class="line"># S_0为易感者的初始人数</span><br><span class="line">S_0 &#x3D; N - I_0 - E_0 - R_0</span><br><span class="line"># T为传播时间</span><br><span class="line">T &#x3D; 150</span><br><span class="line"></span><br><span class="line"># INI为初始状态下的数组</span><br><span class="line">INI &#x3D; (S_0,E_0,I_0,R_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def funcSEIR(inivalue,_):</span><br><span class="line">    Y &#x3D; np.zeros(4)</span><br><span class="line">    X &#x3D; inivalue</span><br><span class="line">    # 易感个体变化</span><br><span class="line">    Y[0] &#x3D; - (beta * X[0] * X[2]) &#x2F; N</span><br><span class="line">    # 潜伏个体变化</span><br><span class="line">    Y[1] &#x3D; (beta * X[0] * X[2]) &#x2F; N - X[1] &#x2F; Te</span><br><span class="line">    # 感染个体变化</span><br><span class="line">    Y[2] &#x3D; X[1] &#x2F; Te - gamma * X[2]</span><br><span class="line">    # 治愈个体变化</span><br><span class="line">    Y[3] &#x3D; gamma * X[2]</span><br><span class="line">    return Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">T_range &#x3D; np.arange(0,T + 1)</span><br><span class="line"></span><br><span class="line">RES &#x3D; spi.odeint(funcSEIR,INI,T_range)</span><br><span class="line"></span><br><span class="line">plt.plot(RES[:,0],color &#x3D; &#39;darkblue&#39;,label &#x3D; &#39;Susceptible&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,1],color &#x3D; &#39;orange&#39;,label &#x3D; &#39;Exposed&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,2],color &#x3D; &#39;red&#39;,label &#x3D; &#39;Infection&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,3],color &#x3D; &#39;green&#39;,label &#x3D; &#39;Recovery&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line"></span><br><span class="line">plt.title(&#39;SEIR Model&#39;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(&#39;Day&#39;)</span><br><span class="line">plt.ylabel(&#39;Number&#39;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="模型六：SEIRS-Model"><a href="#模型六：SEIRS-Model" class="headerlink" title="模型六：SEIRS-Model"></a>模型六：SEIRS-Model</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">import scipy.integrate as spi</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># N为人群总数</span><br><span class="line">N &#x3D; 10000</span><br><span class="line"># β为传染率系数</span><br><span class="line">beta &#x3D; 0.6</span><br><span class="line"># gamma为恢复率系数</span><br><span class="line">gamma &#x3D; 0.1</span><br><span class="line"># Ts为抗体持续时间</span><br><span class="line">Ts &#x3D; 7</span><br><span class="line"># Te为疾病潜伏期</span><br><span class="line">Te &#x3D; 14</span><br><span class="line"># I_0为感染者的初始人数</span><br><span class="line">I_0 &#x3D; 1</span><br><span class="line"># E_0为潜伏者的初始人数</span><br><span class="line">E_0 &#x3D; 0</span><br><span class="line"># R_0为治愈者的初始人数</span><br><span class="line">R_0 &#x3D; 0</span><br><span class="line"># S_0为易感者的初始人数</span><br><span class="line">S_0 &#x3D; N - I_0 - E_0 - R_0</span><br><span class="line"># T为传播时间</span><br><span class="line">T &#x3D; 150</span><br><span class="line"></span><br><span class="line"># INI为初始状态下的数组</span><br><span class="line">INI &#x3D; (S_0,E_0,I_0,R_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def funcSEIRS(inivalue,_):</span><br><span class="line">    Y &#x3D; np.zeros(4)</span><br><span class="line">    X &#x3D; inivalue</span><br><span class="line">    # 易感个体变化</span><br><span class="line">    Y[0] &#x3D; - (beta * X[0] * X[2]) &#x2F; N + X[3] &#x2F; Ts</span><br><span class="line">    # 潜伏个体变化</span><br><span class="line">    Y[1] &#x3D; (beta * X[0] * X[2]) &#x2F; N - X[1] &#x2F; Te</span><br><span class="line">    # 感染个体变化</span><br><span class="line">    Y[2] &#x3D; X[1] &#x2F; Te - gamma * X[2]</span><br><span class="line">    # 治愈个体变化</span><br><span class="line">    Y[3] &#x3D; gamma * X[2] - X[3] &#x2F; Ts</span><br><span class="line">    return Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">T_range &#x3D; np.arange(0,T + 1)</span><br><span class="line"></span><br><span class="line">RES &#x3D; spi.odeint(funcSEIRS,INI,T_range)</span><br><span class="line"></span><br><span class="line">plt.plot(RES[:,0],color &#x3D; &#39;darkblue&#39;,label &#x3D; &#39;Susceptible&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,1],color &#x3D; &#39;orange&#39;,label &#x3D; &#39;Exposed&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,2],color &#x3D; &#39;red&#39;,label &#x3D; &#39;Infection&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,3],color &#x3D; &#39;green&#39;,label &#x3D; &#39;Recovery&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line"></span><br><span class="line">plt.title(&#39;SEIRS Model&#39;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(&#39;Day&#39;)</span><br><span class="line">plt.ylabel(&#39;Number&#39;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/04/30/Infectious-Disease-Model/" data-id="ckooh4zib000e78f5dv2pbwon" data-title="Infectious Disease Model" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Nerual-Network" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/04/30/Nerual-Network/" class="article-date">
  <time class="dt-published" datetime="2021-04-30T02:06:39.000Z" itemprop="datePublished">2021-04-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/04/30/Nerual-Network/">Nerual-Network</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="MLP"><a href="#MLP" class="headerlink" title="MLP"></a>MLP</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"><span class="keyword">from</span> keras.datasets <span class="keyword">import</span> mnist</span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dropout</span><br><span class="line"><span class="keyword">from</span> keras.utils <span class="keyword">import</span> np_utils</span><br><span class="line"><span class="comment"># fix random seed for reproducibility</span></span><br><span class="line"></span><br><span class="line">seed = <span class="number">7</span></span><br><span class="line">numpy.random.seed(seed)</span><br><span class="line"><span class="comment"># load data</span></span><br><span class="line">(X_train, y_train), (X_test, y_test) = mnist.load_data()</span><br><span class="line"><span class="comment"># flatten 28*28 images to a 784 vector for each image</span></span><br><span class="line">num_pixels = X_train.shape[<span class="number">1</span>] * X_train.shape[<span class="number">2</span>]</span><br><span class="line">X_train = X_train.reshape(X_train.shape[<span class="number">0</span>], num_pixels).astype(<span class="string">&#x27;float32&#x27;</span>)</span><br><span class="line">X_test = X_test.reshape(X_test.shape[<span class="number">0</span>], num_pixels).astype(<span class="string">&#x27;float32&#x27;</span>)</span><br><span class="line"><span class="comment"># normalize inputs from 0-255 to 0-1</span></span><br><span class="line">X_train = X_train / <span class="number">255</span></span><br><span class="line">X_test = X_test / <span class="number">255</span></span><br><span class="line"><span class="comment"># one hot encode outputs</span></span><br><span class="line">y_train = np_utils.to_categorical(y_train)</span><br><span class="line">y_test = np_utils.to_categorical(y_test)</span><br><span class="line">num_classes = y_test.shape[<span class="number">1</span>]</span><br><span class="line"><span class="comment"># define baseline model</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">baseline_model</span>():</span></span><br><span class="line">    <span class="comment"># create model</span></span><br><span class="line">    model = Sequential()</span><br><span class="line"></span><br><span class="line">    <span class="comment"># default value--init is error(exception)</span></span><br><span class="line">    <span class="comment"># model.add(Dense(num_pixels, input_dim=num_pixels, init=&#x27;normal&#x27;, activation=&#x27;relu&#x27;))</span></span><br><span class="line">    <span class="comment"># model.add(Dense(num_classes, init=&#x27;normal&#x27;, activation=&#x27;softmax&#x27;))</span></span><br><span class="line"></span><br><span class="line">    model.add(Dense(num_pixels, input_dim=num_pixels, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">    model.add(Dense(num_classes, activation=<span class="string">&#x27;softmax&#x27;</span>))</span><br><span class="line"></span><br><span class="line">    <span class="comment"># Compile model</span></span><br><span class="line">    model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;categorical_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">    <span class="keyword">return</span> model</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># build the model</span></span><br><span class="line">model = baseline_model()</span><br><span class="line"><span class="comment"># Fit the model</span></span><br><span class="line">model.fit(X_train, y_train, validation_data=(X_test, y_test), epochs=<span class="number">10</span>, batch_size=<span class="number">200</span>, verbose=<span class="number">2</span>)</span><br><span class="line"><span class="comment"># Final evaluation of the model</span></span><br><span class="line">scores = model.evaluate(X_test, y_test, verbose=<span class="number">0</span>)</span><br><span class="line">print(<span class="string">&quot;MLP Error: %.2f%%&quot;</span> % (<span class="number">100</span>-scores[<span class="number">1</span>]*<span class="number">100</span>))</span><br></pre></td></tr></table></figure>

<h2 id="CNN"><a href="#CNN" class="headerlink" title="CNN"></a>CNN</h2><p><code>Convolution Neural Network</code></p>
<p>卷积神经网络主要有三层构成包括：卷积层、线性整流层和池化层。完整的神经网络结构有以下构成，包括输入层（input layer）、卷积层（Convolutional Layer）、线性整流层（Rectified Linear Units Layer）又称activation function–Relu、池化层（Pooling Layer）又称（Down sampling Layer）、全连接层（Full Connected Layer）、输出层（output layer）。</p>
<p>The convolutional layer can turn the original data(for image) into feature map by convolutional kernel. Convolution Kernel designed by the mechanical learning and modified by the full connected layer based on back propagation algorithm.</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"><span class="keyword">from</span> keras.datasets <span class="keyword">import</span> mnist</span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dropout</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Flatten</span><br><span class="line"><span class="keyword">from</span> keras.layers.convolutional <span class="keyword">import</span> Convolution2D</span><br><span class="line"><span class="keyword">from</span> keras.layers.convolutional <span class="keyword">import</span> MaxPooling2D</span><br><span class="line"><span class="keyword">from</span> keras.utils <span class="keyword">import</span> np_utils</span><br><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line"></span><br><span class="line"><span class="comment"># fix random seed for reproducibility</span></span><br><span class="line"></span><br><span class="line">seed = <span class="number">7</span></span><br><span class="line">numpy.random.seed(seed)</span><br><span class="line"></span><br><span class="line"><span class="comment"># load data</span></span><br><span class="line">(X_train, y_train), (X_test, y_test) = mnist.load_data()</span><br><span class="line"></span><br><span class="line"><span class="comment"># reshape to be [samples][pixels][width][height]</span></span><br><span class="line">X_train = X_train.reshape(X_train.shape[<span class="number">0</span>], <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>).astype(<span class="string">&#x27;float32&#x27;</span>)</span><br><span class="line">X_test = X_test.reshape(X_test.shape[<span class="number">0</span>], <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>).astype(<span class="string">&#x27;float32&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># normalize inputs from 0-255 to 0-1</span></span><br><span class="line">X_train = X_train / <span class="number">255</span></span><br><span class="line">X_test = X_test / <span class="number">255</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># one hot encode outputs</span></span><br><span class="line">y_train = np_utils.to_categorical(y_train)</span><br><span class="line">y_test = np_utils.to_categorical(y_test)</span><br><span class="line">num_classes = y_test.shape[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">baseline_model</span>():</span></span><br><span class="line">   <span class="comment"># create model</span></span><br><span class="line">   model = Sequential()</span><br><span class="line">   model.add(Convolution2D(<span class="number">32</span>, (<span class="number">5</span>, <span class="number">5</span>), padding=<span class="string">&#x27;valid&#x27;</span>, input_shape=(<span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>), activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">   model.add(MaxPooling2D(pool_size=(<span class="number">2</span>, <span class="number">2</span>)))</span><br><span class="line">   model.add(Dropout(<span class="number">0.2</span>))</span><br><span class="line">   model.add(Flatten())</span><br><span class="line">   model.add(Dense(<span class="number">128</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">   model.add(Dense(num_classes, activation=<span class="string">&#x27;softmax&#x27;</span>))</span><br><span class="line">   <span class="comment"># Compile model</span></span><br><span class="line">   model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;categorical_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">   <span class="keyword">return</span> model</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># build the model</span></span><br><span class="line">model = baseline_model()</span><br><span class="line"><span class="comment"># Fit the model</span></span><br><span class="line">model.fit(X_train, y_train, validation_data=(X_test, y_test), epochs=<span class="number">10</span>, batch_size=<span class="number">200</span>, verbose=<span class="number">2</span>)</span><br><span class="line"><span class="comment"># Final evaluation of the model</span></span><br><span class="line">scores = model.evaluate(X_test, y_test, verbose=<span class="number">0</span>)</span><br><span class="line">print(<span class="string">&quot;CNN Error: %.2f%%&quot;</span> % (<span class="number">100</span>-scores[<span class="number">1</span>]*<span class="number">100</span>))</span><br></pre></td></tr></table></figure>

<h2 id="Enhancement-CNN"><a href="#Enhancement-CNN" class="headerlink" title="Enhancement CNN"></a>Enhancement CNN</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> numpy</span><br><span class="line"><span class="keyword">from</span> keras.datasets <span class="keyword">import</span> mnist</span><br><span class="line"><span class="keyword">from</span> keras.models <span class="keyword">import</span> Sequential</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dense</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Dropout</span><br><span class="line"><span class="keyword">from</span> keras.layers <span class="keyword">import</span> Flatten</span><br><span class="line"><span class="keyword">from</span> keras.layers.convolutional <span class="keyword">import</span> Convolution2D</span><br><span class="line"><span class="keyword">from</span> keras.layers.convolutional <span class="keyword">import</span> MaxPooling2D</span><br><span class="line"><span class="keyword">from</span> keras.utils <span class="keyword">import</span> np_utils</span><br><span class="line"><span class="keyword">from</span> keras <span class="keyword">import</span> backend <span class="keyword">as</span> K</span><br><span class="line"></span><br><span class="line"><span class="comment"># fix random seed for reproducibility</span></span><br><span class="line"></span><br><span class="line">seed = <span class="number">7</span></span><br><span class="line">numpy.random.seed(seed)</span><br><span class="line"></span><br><span class="line"><span class="comment"># load data</span></span><br><span class="line">(X_train, y_train), (X_test, y_test) = mnist.load_data()</span><br><span class="line"></span><br><span class="line"><span class="comment"># reshape to be [samples][pixels][width][height]</span></span><br><span class="line">X_train = X_train.reshape(X_train.shape[<span class="number">0</span>], <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>).astype(<span class="string">&#x27;float32&#x27;</span>)</span><br><span class="line">X_test = X_test.reshape(X_test.shape[<span class="number">0</span>], <span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>).astype(<span class="string">&#x27;float32&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># normalize inputs from 0-255 to 0-1</span></span><br><span class="line">X_train = X_train / <span class="number">255</span></span><br><span class="line">X_test = X_test / <span class="number">255</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># one hot encode outputs</span></span><br><span class="line">y_train = np_utils.to_categorical(y_train)</span><br><span class="line">y_test = np_utils.to_categorical(y_test)</span><br><span class="line">num_classes = y_test.shape[<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">larger_model</span>():</span></span><br><span class="line">   <span class="comment"># create model</span></span><br><span class="line">   model = Sequential()</span><br><span class="line">   model.add(Convolution2D(<span class="number">30</span>, (<span class="number">5</span>, <span class="number">5</span>), padding=<span class="string">&#x27;valid&#x27;</span>, input_shape=(<span class="number">28</span>, <span class="number">28</span>, <span class="number">1</span>), activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">   model.add(MaxPooling2D(pool_size=(<span class="number">2</span>, <span class="number">2</span>)))</span><br><span class="line">   model.add(Convolution2D(<span class="number">15</span>, <span class="number">3</span>, <span class="number">3</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">   model.add(MaxPooling2D(pool_size=(<span class="number">2</span>, <span class="number">2</span>)))</span><br><span class="line">   model.add(Dropout(<span class="number">0.2</span>))</span><br><span class="line">   model.add(Flatten())</span><br><span class="line">   model.add(Dense(<span class="number">128</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">   model.add(Dense(<span class="number">50</span>, activation=<span class="string">&#x27;relu&#x27;</span>))</span><br><span class="line">   model.add(Dense(num_classes, activation=<span class="string">&#x27;softmax&#x27;</span>))</span><br><span class="line"></span><br><span class="line">   <span class="comment"># Compile model</span></span><br><span class="line">   model.<span class="built_in">compile</span>(loss=<span class="string">&#x27;categorical_crossentropy&#x27;</span>, optimizer=<span class="string">&#x27;adam&#x27;</span>, metrics=[<span class="string">&#x27;accuracy&#x27;</span>])</span><br><span class="line">   <span class="keyword">return</span> model</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># build the model</span></span><br><span class="line">model = larger_model()</span><br><span class="line"></span><br><span class="line"><span class="comment"># Fit the model</span></span><br><span class="line">model.fit(X_train, y_train, validation_data=(X_test, y_test), epochs=<span class="number">10</span>, batch_size=<span class="number">200</span>, verbose=<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Final evaluation of the model</span></span><br><span class="line">scores = model.evaluate(X_test, y_test, verbose=<span class="number">0</span>)</span><br><span class="line">print(<span class="string">&quot;Larger CNN Error: %.2f%%&quot;</span> % (<span class="number">100</span>-scores[<span class="number">1</span>]*<span class="number">100</span>))</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/04/30/Nerual-Network/" data-id="ckooh4zif000g78f5gdzfdde9" data-title="Nerual-Network" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  
    <article id="post-Python-Problems" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/04/16/Python-Problems/" class="article-date">
  <time class="dt-published" datetime="2021-04-16T04:38:04.000Z" itemprop="datePublished">2021-04-16</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/04/16/Python-Problems/">Python-Problems</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Daily-Python-Problems"><a href="#Daily-Python-Problems" class="headerlink" title="Daily Python Problems"></a>Daily Python Problems</h1><p>Weekly issues(start:2021/4/16)</p>
<h2 id="Special-Edition-Recursion7"><a href="#Special-Edition-Recursion7" class="headerlink" title="Special Edition: Recursion7"></a>Special Edition: Recursion7</h2><h3 id="Q7Levenshtein"><a href="#Q7Levenshtein" class="headerlink" title="Q7Levenshtein"></a>Q7Levenshtein</h3><p>在计算文本的相似性时，经常会用到编辑距离。编辑距离，又称Levenshtein距离，是指两个字串之间，由一个转成另一个所需的最少编辑操作次数。通常来说，编辑距离越小，两个文本的相似性越大。这里的编辑操作主要包括三种：</p>
<ul>
<li>插入：将一个字符插入某个字符串；</li>
<li>删除：将字符串中的某个字符删除；</li>
<li>替换：将字符串中的某个字符替换为另外一个字符。</li>
</ul>
<hr>
<p>当两个字符串都为空串，那么编辑距离为0；</p>
<p>当其中一个字符串为空串时，那么编辑距离为另一个非空字符串的长度；</p>
<p>当两个字符串均为非空时(长度分别为 i 和 j )，取以下三种情况最小值即可：</p>
<ul>
<li>长度分别为 i-1 和 j 的字符串的编辑距离已知，那么加1即可；</li>
<li>长度分别为 i 和 j-1 的字符串的编辑距离已知，那么加1即可；</li>
<li>长度分别为 i-1 和 j-1 的字符串的编辑距离已知，此时考虑两种情况，若第i个字符和第j个字符不同，那么加1即可；如果不同，那么不需要加1。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minDistance</span>(<span class="params">word1, word2</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> word1:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(word2 <span class="keyword">or</span> <span class="string">&#x27;&#x27;</span>) <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> word2:</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(word1 <span class="keyword">or</span> <span class="string">&#x27;&#x27;</span>) <span class="keyword">or</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    size1 = <span class="built_in">len</span>(word1)</span><br><span class="line">    size2 = <span class="built_in">len</span>(word2)</span><br><span class="line"></span><br><span class="line">    last = <span class="number">0</span></span><br><span class="line">    tmp = <span class="built_in">range</span>(size2 + <span class="number">1</span>)</span><br><span class="line">    value = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(size1):</span><br><span class="line">        tmp[<span class="number">0</span>] = i + <span class="number">1</span></span><br><span class="line">        last = i</span><br><span class="line">        <span class="comment"># print word1[i], last, tmp</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(size2):</span><br><span class="line">            <span class="keyword">if</span> word1[i] == word2[j]:</span><br><span class="line">                value = last</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                value = <span class="number">1</span> + <span class="built_in">min</span>(last, tmp[j], tmp[j + <span class="number">1</span>])</span><br><span class="line">                <span class="comment"># print(last, tmp[j], tmp[j + 1], value)</span></span><br><span class="line">            last = tmp[j+<span class="number">1</span>]</span><br><span class="line">            tmp[j+<span class="number">1</span>] = value</span><br><span class="line">        <span class="comment"># print tmp</span></span><br><span class="line">    <span class="keyword">return</span> value</span><br><span class="line"></span><br><span class="line">==optimization==&gt;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">editdistance</span>(<span class="params">str1, str2</span>):</span></span><br><span class="line"></span><br><span class="line">    edit = [[i + j <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(str2) + <span class="number">1</span>)] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(str1) + <span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(str1) + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(str2) + <span class="number">1</span>):</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> str1[i - <span class="number">1</span>] == str2[j - <span class="number">1</span>]:</span><br><span class="line">                d = <span class="number">0</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                d = <span class="number">1</span></span><br><span class="line"></span><br><span class="line">            edit[i][j] = <span class="built_in">min</span>(edit[i - <span class="number">1</span>][j] + <span class="number">1</span>, edit[i][j - <span class="number">1</span>] + <span class="number">1</span>, edit[i - <span class="number">1</span>][j - <span class="number">1</span>] + d)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> edit[<span class="built_in">len</span>(str1)][<span class="built_in">len</span>(str2)]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">print(editdistance(<span class="string">&#x27;hello&#x27;</span>, <span class="string">&#x27;he&#x27;</span>))</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">3</span></span><br></pre></td></tr></table></figure>

<h3 id="Q6Pascal-Triangle"><a href="#Q6Pascal-Triangle" class="headerlink" title="Q6Pascal Triangle"></a>Q6Pascal Triangle</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Function Method</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">triangle</span>():</span></span><br><span class="line">    N = [<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">yield</span> N     <span class="comment"># generator特点在于：在执行过程中，遇到yield就中断，下次又继续执行</span></span><br><span class="line">        N.append(<span class="number">0</span>)  <span class="comment"># 每次都要在最后一位加个0，用于后续的叠加</span></span><br><span class="line">        N = [N[i]+N[i-<span class="number">1</span>] <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(N))]</span><br><span class="line"> </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">print_triangle</span>(<span class="params">x</span>):</span></span><br><span class="line">    a = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> t <span class="keyword">in</span> triangle():  <span class="comment"># 这里可以每次调用一个N（得力于Yield函数）</span></span><br><span class="line">        print(t)</span><br><span class="line">        a += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> a ==x:</span><br><span class="line">             <span class="keyword">break</span></span><br><span class="line">print_triangle(<span class="number">10</span>) <span class="comment"># 打印10行</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># ----------------------------------------</span></span><br><span class="line"></span><br><span class="line">N = [<span class="number">1</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):  <span class="comment"># 打印10行</span></span><br><span class="line">    print(N)</span><br><span class="line">    N.append(<span class="number">0</span>)</span><br><span class="line">    N = [N[k] + N[k-<span class="number">1</span>] <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">2</span>)]</span><br><span class="line">    </span><br><span class="line">==optimization==&gt;</span><br><span class="line"></span><br><span class="line">N = [<span class="number">1</span>]  <span class="comment"># 先把第一行给定义好</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>):  <span class="comment"># 打印10行</span></span><br><span class="line">    <span class="comment"># 从这里开始我们就要把list转换为一个居中的字符串打印出来</span></span><br><span class="line">    L = N.copy()   <span class="comment"># 我们需要吧N复制给L,而不能直接L = N，因为这样L和N会在同一个地址，后续算法就会出错</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(L)):   <span class="comment"># 遍历和转化</span></span><br><span class="line">        temp = <span class="built_in">str</span>(L[j])</span><br><span class="line">        L[j] = temp</span><br><span class="line">    l = <span class="string">&#x27; &#x27;</span>.join(L).center(<span class="number">50</span>)  <span class="comment"># 组合和剧中一起写</span></span><br><span class="line">    print(l)      <span class="comment"># 这里就是打印l了</span></span><br><span class="line">    N.append(<span class="number">0</span>)   <span class="comment"># 因为复制之后L是L，N是N，所以我们还是继续在N末尾加0</span></span><br><span class="line">    N = [N[k] + N[k-<span class="number">1</span>] <span class="keyword">for</span> k <span class="keyword">in</span> <span class="built_in">range</span>(i+<span class="number">2</span>)]</span><br></pre></td></tr></table></figure>



<h3 id="Q5River-Crossing-Problem【Unsolved】"><a href="#Q5River-Crossing-Problem【Unsolved】" class="headerlink" title="Q5River Crossing Problem【Unsolved】"></a>Q5River Crossing Problem【Unsolved】</h3><p>写一个程序来解决这样一个问题:3只羚羊和3只狮子准备乘船过河，河边有一艘能容纳2只动物的小船。但是,如果两侧河岸上的狮子数量大于羚羊数量,羚羊就会被吃掉。找到运送办法，使得所有动物都能安全渡河。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"></span><br></pre></td></tr></table></figure>



<h3 id="Q4Least-Common-Multiple"><a href="#Q4Least-Common-Multiple" class="headerlink" title="Q4Least Common Multiple"></a>Q4Least Common Multiple</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lcm</span>(<span class="params">a, b</span>):</span></span><br><span class="line">    c = a</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> c % a == <span class="number">0</span> <span class="keyword">and</span> c % b == <span class="number">0</span>:</span><br><span class="line">            print(c)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        c += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">lcm(<span class="number">8</span>, <span class="number">2</span>)</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">8</span></span><br></pre></td></tr></table></figure>

<h3 id="Q3Gread-Common-Divisor"><a href="#Q3Gread-Common-Divisor" class="headerlink" title="Q3Gread Common Divisor"></a>Q3Gread Common Divisor</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># recursion method</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcd</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">    <span class="keyword">if</span> y == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> self.gcd(y, x % y)</span><br><span class="line">==optimization==&gt;&gt;   </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcd</span>(<span class="params">a, b</span>):</span></span><br><span class="line">	<span class="keyword">if</span> b == <span class="number">0</span>:<span class="keyword">return</span> a</span><br><span class="line">	<span class="keyword">return</span> gcd(b, a % b)</span><br><span class="line"></span><br><span class="line"><span class="comment"># Euclid Algorithm(Toss and divide)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcd</span>(<span class="params">m,n</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Euclid Algorithm:calculate the greatest common divisor&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">while</span> m % n != <span class="number">0</span>:</span><br><span class="line">        oldm = m</span><br><span class="line">        oldn = n</span><br><span class="line">        </span><br><span class="line">        m = oldn</span><br><span class="line">        n = oldm % oldn</span><br><span class="line">    <span class="keyword">return</span> n</span><br><span class="line">==optimization==&gt;&gt;</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcd</span>(<span class="params">m, n</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Euclid Algorithm:calculate the greatest common divisor&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">while</span> m % n != <span class="number">0</span>:</span><br><span class="line">        m, n = n, m % n</span><br><span class="line">    <span class="keyword">return</span> n</span><br></pre></td></tr></table></figure>



<h3 id="Q2Three-Water-Problem"><a href="#Q2Three-Water-Problem" class="headerlink" title="Q2Three Water Problem"></a>Q2Three Water Problem</h3><p>====essential===&gt; target_number % gcd == 0</p>
<p>贝祖定理/裴蜀定理：对任何整数a、b和它们的最大公约数d，关于未知数x和y的线性不定方程（称为裴蜀等式）：若a,b是整数,且gcd(a,b)=d，那么对于任意的整数x,y–&gt;ax+by都一定是d的倍数，特别地，一定存在整数x,y，使ax+by=d成立。</p>
<p>倒水问题属于数论应用题，可以运用丢番图方程进行解答。丢番图方程 ax+by=c (a、b、c是整数)有解，当且仅当c||gcd(a,b)成立</p>
<p>&lt;&lt;整数a、b和它们的最大公约数c。</p>
<p>一定存在整数x,y，使ax+by=c成立。</p>
<p>若d是c的倍数，显然也一定存在整数x,y，使得 ax+by=d成立。&gt;&gt;</p>
<p><strong>实际上，两个容量互质的水杯，可以倒出任意容量的水。</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">canMeasureWater</span>(<span class="params">self, x, y, z</span>):</span></span><br><span class="line">        <span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">        :type x: int</span></span><br><span class="line"><span class="string">        :type y: int</span></span><br><span class="line"><span class="string">        :type z: int</span></span><br><span class="line"><span class="string">        :rtype: bool</span></span><br><span class="line"><span class="string">        &quot;&quot;&quot;</span></span><br><span class="line">        tmp = self.gcd(x, y)</span><br><span class="line">        <span class="keyword">if</span> z == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">if</span> z &gt; x + y:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> z % tmp == <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">gcd</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">        <span class="keyword">if</span> y == <span class="number">0</span>:</span><br><span class="line">            <span class="keyword">return</span> x</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> self.gcd(y, x % y)</span><br><span class="line"></span><br><span class="line">ans = Solution()</span><br><span class="line">b = ans.canMeasureWater(<span class="number">5</span>, <span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">print(b)</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="literal">True</span></span><br></pre></td></tr></table></figure>

<p><code>use recursion to calculate the sum of list</code></p>
<h3 id="Q1Sum-List"><a href="#Q1Sum-List" class="headerlink" title="Q1Sum List"></a>Q1Sum List</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># common case</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">alist</span>):</span></span><br><span class="line">    ans = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> alist:</span><br><span class="line">        ans += x</span><br><span class="line">    <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># recursive case</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sum</span>(<span class="params">alist</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(alist) == <span class="number">1</span>:</span><br><span class="line">		<span class="keyword">return</span> alist[<span class="number">0</span>]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> alist[<span class="number">0</span>] + <span class="built_in">sum</span>(alist[<span class="number">1</span>:])</span><br></pre></td></tr></table></figure>

<h2 id="FirthIssue-5-22-27-4"><a href="#FirthIssue-5-22-27-4" class="headerlink" title="FirthIssue(5/22-27)4"></a>FirthIssue(5/22-27)4</h2><h3 id="Q4Binary-Search"><a href="#Q4Binary-Search" class="headerlink" title="Q4Binary Search"></a>Q4Binary Search</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Method one</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_search</span>(<span class="params">alist, item</span>):</span></span><br><span class="line">    found = <span class="literal">False</span></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> found:</span><br><span class="line">        n = <span class="built_in">len</span>(alist) % <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> n != <span class="number">0</span>:</span><br><span class="line">            base_num = (<span class="built_in">len</span>(alist) + <span class="number">1</span>) // <span class="number">2</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            base_num = <span class="built_in">len</span>(alist) // <span class="number">2</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(alist) == <span class="number">1</span>:</span><br><span class="line">            base_num = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> alist[base_num] == item:</span><br><span class="line">            found = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">elif</span> alist[base_num] &gt; item:</span><br><span class="line">            alist = alist[:base_num]</span><br><span class="line">            print(alist)</span><br><span class="line">        <span class="keyword">elif</span> alist[base_num] &lt; item:</span><br><span class="line">            alist = alist[base_num:]</span><br><span class="line">            print(alist)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> found</span><br><span class="line"><span class="comment"># Merhod Two[the best way]</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_search</span>(<span class="params">alist, item</span>):</span></span><br><span class="line">    first = <span class="number">0</span></span><br><span class="line">    last = <span class="built_in">len</span>(alist) - <span class="number">1</span></span><br><span class="line">    found = <span class="literal">False</span></span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> first &lt;= last <span class="keyword">and</span> <span class="keyword">not</span> found:</span><br><span class="line">        midpoint = (first + last) // <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> alist[midpoint] == item:</span><br><span class="line">            found = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> item &lt; alist[midpoint]:</span><br><span class="line">                last = midpoint - <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                first = midpoint - <span class="number">1</span></span><br><span class="line">	<span class="keyword">return</span> found</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># Method three: Recuesion</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_search_recursion</span>(<span class="params">alist, item</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(alist) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        midpos = <span class="built_in">len</span>(alist) // <span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> alist[midpos] == item:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> item &lt; alist[midpos]:</span><br><span class="line">                <span class="keyword">return</span> binary_search_recursion(alist[:midpos], item)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">return</span> binary_search_recursion(alist[midpos+<span class="number">1</span>:], item)</span><br><span class="line"></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line">print(binary_search(lst, <span class="number">5</span>))</span><br><span class="line">&gt;&gt;</span><br><span class="line">[<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">[<span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line"><span class="literal">True</span></span><br><span class="line">&gt;&gt;test <span class="number">100</span> tiems</span><br><span class="line">method <span class="number">1</span>: <span class="number">0.0007410999999999945</span></span><br><span class="line">method <span class="number">2</span>: <span class="number">3.929999999999212e-05</span></span><br><span class="line">method <span class="number">3</span>(recursion): <span class="number">1.1018111</span></span><br></pre></td></tr></table></figure>

<h3 id="Q3Fibonacci-Sequence"><a href="#Q3Fibonacci-Sequence" class="headerlink" title="Q3Fibonacci Sequence"></a>Q3Fibonacci Sequence</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">#---- Recursion[the worst way*] ----</span><br><span class="line">def Fibonacci_Recursion_tool(n):</span><br><span class="line">    if n &lt;&#x3D; 0:</span><br><span class="line">        return 0</span><br><span class="line">    elif n &#x3D;&#x3D; 1:</span><br><span class="line">        return 1</span><br><span class="line">    else:</span><br><span class="line">        return Fibonacci_Recursion_tool(n - 1) + Fibonacci_Recursion_tool(n - 2)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def Fibonacci_Recursion(n):</span><br><span class="line">    result_list &#x3D; []</span><br><span class="line">    for i in range(1, n + 1):</span><br><span class="line">        result_list.append(Fibonacci_Recursion_tool(i))</span><br><span class="line">    return result_list</span><br><span class="line"></span><br><span class="line">#---- Loop [the best way****] ----</span><br><span class="line">def Fibonacci_Loop_tool(n):</span><br><span class="line">    a, b &#x3D; 0, 1</span><br><span class="line">    while n &gt; 0:</span><br><span class="line">        a, b &#x3D; b, a + b</span><br><span class="line">        n -&#x3D; 1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def Fibonacci_Loop(n):</span><br><span class="line">    result_list &#x3D; []</span><br><span class="line">    a, b &#x3D; 0, 1</span><br><span class="line">    while n &gt; 0:</span><br><span class="line">        result_list.append(b)</span><br><span class="line">        a, b &#x3D; b, a + b</span><br><span class="line">        n -&#x3D; 1</span><br><span class="line">    return result_list</span><br><span class="line"></span><br><span class="line">#---- Yield [the best way****] ----</span><br><span class="line">def Fibonacci_Yield_tool(n):</span><br><span class="line">    a, b &#x3D; 0, 1</span><br><span class="line">    while n &gt; 0:</span><br><span class="line">        yield b</span><br><span class="line">        a, b &#x3D; b, a + b</span><br><span class="line">        n -&#x3D; 1</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def Fibonacci_Yield(n):</span><br><span class="line">    # return [f for i, f in enumerate(Fibonacci_Yield_tool(n))]</span><br><span class="line">    return list(Fibonacci_Yield_tool(n))</span><br><span class="line"></span><br><span class="line">&gt;&gt;</span><br><span class="line">print(Fibonacci_Recursion(5))</span><br><span class="line">[1, 1, 2, 3, 5]</span><br></pre></td></tr></table></figure>

<h3 id="Q2Recursion-List"><a href="#Q2Recursion-List" class="headerlink" title="Q2Recursion List"></a>Q2Recursion List</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">rev_list</span>(<span class="params">l</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(l) == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> l</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> [l[-<span class="number">1</span>]] + rev_list(l[:-<span class="number">1</span>])  <span class="comment"># -1 才算是取最后一位之前的所有</span></span><br><span class="line"></span><br><span class="line">lst = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">b = rev_list(lst)</span><br><span class="line">print(b)</span><br><span class="line">&gt;&gt;</span><br><span class="line">[<span class="number">5</span>, <span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h3 id="Q1Greedy-Algorithm"><a href="#Q1Greedy-Algorithm" class="headerlink" title="Q1Greedy Algorithm"></a>Q1Greedy Algorithm</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">dpmakechange</span>(<span class="params">coinvaluelist, change, mincoins, coinsused</span>):</span></span><br><span class="line">    <span class="keyword">for</span> cents <span class="keyword">in</span> <span class="built_in">range</span>(change+<span class="number">1</span>):</span><br><span class="line">        coincount = cents</span><br><span class="line">        newcoin = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> [c <span class="keyword">for</span> c <span class="keyword">in</span> coinvaluelist <span class="keyword">if</span> c &lt;= cents]:</span><br><span class="line">            <span class="keyword">if</span> mincoins[cents-j] + <span class="number">1</span> &lt; coincount:</span><br><span class="line">                coincount = mincoins[cents - j] + <span class="number">1</span></span><br><span class="line">                newcoin = j</span><br><span class="line">        mincoins[cents] = coincount</span><br><span class="line">        coinsused[cents] = newcoin</span><br><span class="line">    <span class="keyword">return</span> mincoins</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printcoins</span>(<span class="params">coinsused, change</span>):</span></span><br><span class="line">    coin = change</span><br><span class="line">    <span class="keyword">while</span> coin &gt; <span class="number">0</span>:</span><br><span class="line">        thiscoin = coinsused[coin]</span><br><span class="line">        print(thiscoin)</span><br><span class="line">        coin -= thiscoin</span><br><span class="line"></span><br><span class="line">c1 = [<span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">21</span>, <span class="number">25</span>]</span><br><span class="line">coinsused = [<span class="number">0</span>] * <span class="number">64</span></span><br><span class="line">coincount = [<span class="number">0</span>] * <span class="number">64</span></span><br><span class="line">dpmakechange(c1, <span class="number">63</span>, coincount, coinsused)</span><br><span class="line">printcoins(coinsused, <span class="number">63</span>)</span><br><span class="line">print(<span class="string">&#x27;--------&#x27;</span>)</span><br><span class="line">printcoins(coinsused, <span class="number">52</span>)</span><br><span class="line">print(<span class="string">&#x27;--------&#x27;</span>)</span><br><span class="line">print(coinsused)</span><br><span class="line"></span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">21</span></span><br><span class="line"><span class="number">21</span></span><br><span class="line"><span class="number">21</span></span><br><span class="line">--------</span><br><span class="line"><span class="number">10</span></span><br><span class="line"><span class="number">21</span></span><br><span class="line"><span class="number">21</span></span><br><span class="line">--------</span><br><span class="line">[<span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">21</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">25</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">21</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">21</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">25</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">1</span>, <span class="number">10</span>, <span class="number">21</span>]</span><br></pre></td></tr></table></figure>



<h2 id="FourthIssue-5-14-22-6"><a href="#FourthIssue-5-14-22-6" class="headerlink" title="FourthIssue(5/14-22)6"></a>FourthIssue(5/14-22)6</h2><h3 id="Q6Tower-of-Hanoi"><a href="#Q6Tower-of-Hanoi" class="headerlink" title="Q6Tower of Hanoi"></a>Q6Tower of Hanoi</h3><p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210522135218.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">movedisk</span>(<span class="params">fp, tp</span>):</span></span><br><span class="line">    print(<span class="string">&#x27;moving disk from %d to %d&#x27;</span> % (fp, ))</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">movetower</span>(<span class="params">height, frompole, topole, withpole</span>):</span></span><br><span class="line">    <span class="keyword">if</span> height &gt; <span class="number">1</span>:</span><br><span class="line">        movetower(height-<span class="number">1</span>, frompole, withpole, topole)</span><br><span class="line">        movedisk(frompole, topole)</span><br><span class="line">        movetower(height-<span class="number">1</span>, withpole, topole, frompole)</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">hanoi</span>(<span class="params">n, x, y, z</span>):</span></span><br><span class="line">    <span class="keyword">global</span> count</span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        print(<span class="string">&#x27;第%d步：从%s到%s&#x27;</span> % (count, x, z))</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        hanoi(n - <span class="number">1</span>, x, z, y)  <span class="comment"># 将n-1个盘子由X移动到Y上</span></span><br><span class="line">        print(<span class="string">&#x27;第%d步：从%s到%s&#x27;</span> % (count, x, z))  <span class="comment"># 将最底下的盘子由X移动到Z上。</span></span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">        hanoi(n - <span class="number">1</span>, y, x, z)  <span class="comment"># 将Y上的n-1个盘子由Y移动到Z上</span></span><br><span class="line"></span><br><span class="line">count = <span class="number">1</span></span><br><span class="line">n = <span class="number">3</span></span><br><span class="line">hanoi(n, <span class="string">&#x27;X&#x27;</span>, <span class="string">&#x27;Y&#x27;</span>, <span class="string">&#x27;Z&#x27;</span>)</span><br><span class="line">&gt;&gt;</span><br><span class="line">第<span class="number">1</span>步：从X到Z</span><br><span class="line">第<span class="number">2</span>步：从X到Y</span><br><span class="line">第<span class="number">3</span>步：从Z到Y</span><br><span class="line">第<span class="number">4</span>步：从X到Z</span><br><span class="line">第<span class="number">5</span>步：从Y到X</span><br><span class="line">第<span class="number">6</span>步：从Y到Z</span><br><span class="line">第<span class="number">7</span>步：从X到Z</span><br></pre></td></tr></table></figure>

<h3 id="Q5Integer-to-arbitary-base-string"><a href="#Q5Integer-to-arbitary-base-string" class="headerlink" title="Q5Integer to arbitary base string"></a>Q5Integer to arbitary base string</h3><p>key steps:  tostr(<strong><em>n//base</em></strong>, base)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># uesing recursion</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tostr</span>(<span class="params">n, base</span>):</span></span><br><span class="line">    convertstring = <span class="string">&#x27;0123456789ABCDEF&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> n &lt; base:</span><br><span class="line">        <span class="keyword">return</span> convertstring[n]</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> tostr(n//base, base) + convertstring[n % base]</span><br><span class="line">tostr(<span class="number">8</span>, <span class="number">2</span>)</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">1000</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># useing stack </span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">tostr</span>(<span class="params">n, base</span>):</span></span><br><span class="line">    templist = []</span><br><span class="line">    convertstring = <span class="string">&#x27;0123456789ABCDEF&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> n &lt; base:</span><br><span class="line">        templist.insert(<span class="number">0</span>, convertstring[n])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        templist.insert(<span class="number">0</span>, convertstring[n % base])</span><br><span class="line">        tostr(n//base, base)</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&#x27;&#x27;</span>.join(temlist)</span><br><span class="line"></span><br><span class="line">tostr(<span class="number">8</span>, <span class="number">2</span>)</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">1000</span></span><br></pre></td></tr></table></figure>

<h3 id="Q4InfixExp-convert-PostExp"><a href="#Q4InfixExp-convert-PostExp" class="headerlink" title="Q4InfixExp convert PostExp"></a>Q4InfixExp convert PostExp</h3><h3 id="Q3Unordered-Linked-List"><a href="#Q3Unordered-Linked-List" class="headerlink" title="Q3Unordered Linked List"></a>Q3Unordered Linked List</h3><p>implement unordered linked list by python</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Node</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, initdata</span>):</span></span><br><span class="line">        self.data = initdata</span><br><span class="line">        self.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getData</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.data</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getNext</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.<span class="built_in">next</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setData</span>(<span class="params">self, item</span>):</span></span><br><span class="line">        self.data = item</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">setNext</span>(<span class="params">self, newnext</span>):</span></span><br><span class="line">        self.<span class="built_in">next</span> = newnext</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;%s--%s&#x27;</span> % (self.data, self.<span class="built_in">next</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Unorderlist</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.head = <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isEmpty</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> self.head <span class="keyword">is</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">length</span>(<span class="params">self</span>):</span></span><br><span class="line">        current = self.head</span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">while</span> current <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span>:</span><br><span class="line">            current = current.getNext()</span><br><span class="line">            count += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> count</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">add</span>(<span class="params">self, item</span>):</span></span><br><span class="line">        temp = Node(item)</span><br><span class="line">        temp.setNext(self.head)</span><br><span class="line">        self.head = temp</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">search</span>(<span class="params">self, item</span>):</span></span><br><span class="line">        current = self.head</span><br><span class="line">        found = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">while</span> current <span class="keyword">is</span> <span class="keyword">not</span> <span class="literal">None</span> <span class="keyword">and</span> <span class="keyword">not</span> found:</span><br><span class="line">            <span class="keyword">if</span> current.getData() == item:</span><br><span class="line">                found = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                current = current.getNext()</span><br><span class="line">        <span class="keyword">return</span> found</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">remove</span>(<span class="params">self, item</span>):</span></span><br><span class="line">        current = self.head</span><br><span class="line">        previous = <span class="literal">None</span></span><br><span class="line">        found = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> found:</span><br><span class="line">            <span class="keyword">if</span> current.getData() == item:</span><br><span class="line">                found = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                previous = current</span><br><span class="line">                current = current.getNext()</span><br><span class="line">        <span class="keyword">if</span> previous <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            self.head = current.getNext()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            previous.setNext(current.getNext())</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__repr__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;the linked list is %s&#x27;</span> % self.head</span><br></pre></td></tr></table></figure>



<h3 id="Q2Joseph-ring-problem"><a href="#Q2Joseph-ring-problem" class="headerlink" title="Q2Joseph ring problem"></a>Q2Joseph ring problem</h3><p>we can simulate a ring with Queue, the essential of joseph ring problem is Queue Problem</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210515122658.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">print(listname)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">simulation_pass_potatoes</span>(<span class="params">listname, num</span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(listname) != <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">            cur_ele = listname.pop()</span><br><span class="line">            listname.insert(<span class="number">0</span>, cur_ele)</span><br><span class="line">        listname.pop()</span><br><span class="line">        print(listname)</span><br><span class="line">    print(listname)</span><br><span class="line"></span><br><span class="line">simulation_pass_potatoes(listname, <span class="number">7</span>)</span><br><span class="line">&gt;&gt;</span><br><span class="line">[<span class="string">&#x27;brad&#x27;</span>, <span class="string">&#x27;kent&#x27;</span>, <span class="string">&#x27;jane&#x27;</span>, <span class="string">&#x27;susan&#x27;</span>, <span class="string">&#x27;david&#x27;</span>, <span class="string">&#x27;bill&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;bill&#x27;</span>, <span class="string">&#x27;brad&#x27;</span>, <span class="string">&#x27;kent&#x27;</span>, <span class="string">&#x27;jane&#x27;</span>, <span class="string">&#x27;susan&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;jane&#x27;</span>, <span class="string">&#x27;susan&#x27;</span>, <span class="string">&#x27;bill&#x27;</span>, <span class="string">&#x27;brad&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;susan&#x27;</span>, <span class="string">&#x27;bill&#x27;</span>, <span class="string">&#x27;brad&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;brad&#x27;</span>, <span class="string">&#x27;susan&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;susan&#x27;</span>]</span><br></pre></td></tr></table></figure>



<h3 id="Q1Fixed-Point-Problem"><a href="#Q1Fixed-Point-Problem" class="headerlink" title="Q1Fixed-Point Problem"></a>Q1Fixed-Point Problem</h3><p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210514232046.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">post_potatoes</span>(<span class="params">namelist, num</span>):</span></span><br><span class="line">    cur_list = namelist.copy()</span><br><span class="line">    print(cur_list)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(cur_list) != <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(cur_list) &gt;= num:</span><br><span class="line">            index = num - <span class="number">1</span></span><br><span class="line">            cur_list.pop(index)</span><br><span class="line">            print(cur_list)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            index = num % <span class="built_in">len</span>(cur_list) - <span class="number">1</span></span><br><span class="line">            cur_list.pop(index)</span><br><span class="line">            print(cur_list)</span><br><span class="line">    print(cur_list)</span><br><span class="line">    <span class="keyword">return</span> cur_list</span><br><span class="line"></span><br><span class="line">name_list = [<span class="string">&#x27;drink&#x27;</span>, <span class="string">&#x27;star&#x27;</span>, <span class="string">&#x27;fire&#x27;</span>, <span class="string">&#x27;drinking&#x27;</span>, <span class="string">&#x27;drinkle&#x27;</span>, <span class="string">&#x27;top&#x27;</span>]</span><br><span class="line">num = <span class="number">4</span></span><br><span class="line"></span><br><span class="line">post_potatoes(name_list, num)</span><br><span class="line">&gt;&gt;</span><br><span class="line">[<span class="string">&#x27;drink&#x27;</span>, <span class="string">&#x27;star&#x27;</span>, <span class="string">&#x27;fire&#x27;</span>, <span class="string">&#x27;drinking&#x27;</span>, <span class="string">&#x27;drinkle&#x27;</span>, <span class="string">&#x27;top&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;drink&#x27;</span>, <span class="string">&#x27;star&#x27;</span>, <span class="string">&#x27;fire&#x27;</span>, <span class="string">&#x27;drinkle&#x27;</span>, <span class="string">&#x27;top&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;drink&#x27;</span>, <span class="string">&#x27;star&#x27;</span>, <span class="string">&#x27;fire&#x27;</span>, <span class="string">&#x27;top&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;drink&#x27;</span>, <span class="string">&#x27;star&#x27;</span>, <span class="string">&#x27;fire&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;star&#x27;</span>, <span class="string">&#x27;fire&#x27;</span>]</span><br><span class="line">[<span class="string">&#x27;star&#x27;</span>]</span><br></pre></td></tr></table></figure>

<h2 id="ThirdIssue-5-10-14-4"><a href="#ThirdIssue-5-10-14-4" class="headerlink" title="ThirdIssue(5/10-14)4"></a>ThirdIssue(5/10-14)4</h2><h3 id="Q4-Convert-list-to-String"><a href="#Q4-Convert-list-to-String" class="headerlink" title="Q4:Convert list to String"></a>Q4:Convert list to String</h3><p>use the <code>builtin function:&#39;&#39;.join(list)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">temp_list = [<span class="built_in">chr</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">65</span>, <span class="number">91</span>)]</span><br><span class="line"><span class="built_in">str</span> = <span class="string">&#x27;&#x27;</span>.join(temp_list)</span><br><span class="line">str1 = <span class="string">&#x27;.&#x27;</span>.join(temp_list)</span><br><span class="line">print(<span class="built_in">str</span>)</span><br><span class="line">&gt;&gt;ABCDEFGHIJKLMNOPQRSTUVWXYZ</span><br><span class="line">print(str1)</span><br><span class="line">&gt;&gt;A.B.C.D.E.F.G.H.I.J.K.L.M.N.O.P.Q.R.S.T.U.V.W.X.Y.Z</span><br></pre></td></tr></table></figure>

<h3 id="Q3-Pre-Middle-PostExpression-Conversion"><a href="#Q3-Pre-Middle-PostExpression-Conversion" class="headerlink" title="Q3:Pre/Middle/PostExpression Conversion"></a>Q3:Pre/Middle/PostExpression Conversion</h3><table>
<thead>
<tr>
<th align="center">Middle Expression</th>
<th align="center">Per Expression</th>
<th align="center">Post Expression</th>
</tr>
</thead>
<tbody><tr>
<td align="center">A + B</td>
<td align="center">+ A B</td>
<td align="center">A B +</td>
</tr>
<tr>
<td align="center">A + (B * C)</td>
<td align="center">+ A * B C</td>
<td align="center">A B C * +</td>
</tr>
<tr>
<td align="center">(A + B) * C</td>
<td align="center">*+ A B</td>
<td align="center">A  B + C *</td>
</tr>
</tbody></table>
<p><code>The preorder expression requires all operators to appear before the two operands it acts on ps: pay attention to bracket</code></p>
<p>First in First out</p>
<p>InfixExp(中序表达式)转换PostfixExp(后序表达式)算法：</p>
<p>1）当输入的是操作数时候，直接输出到后序表达式PostfixExp序列中</p>
<p>2）当输入开括号时候，把它压栈</p>
<p>3）当输入的是闭括号时候，先判断栈是否为空，若为空，则发生错误并进行相关处理。若非空，把栈中元素依次弹出并输出到Postfix中，知道遇到第一个开括号，若没有遇到开括号，也发生错误，进行相关处理</p>
<p>4）当输入是运算符op（+、- 、×、/）时候</p>
<p>a)循环，当（栈非空and栈顶不是开括号and栈顶运算符的优先级不低于输入的运算符的优先级）时，反复操作：将栈顶元素弹出并添加到Postfix中</p>
<p>b)把输入的运算符op压栈</p>
<p>5）当中序表达式InfixExp的符号序列全部读入后，若栈内扔有元素，把他们依次弹出并放到后序表达式PostfixExp序列尾部。若弹出的元素遇到空括号，则说明不匹配，发生错误，并进行相关处理</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># convert middle-expression to post expression</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">infixToPostfix</span>(<span class="params">infixerpr</span>):</span></span><br><span class="line">    temp_list = [<span class="built_in">chr</span>(i) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">65</span>, <span class="number">91</span>)]</span><br><span class="line">    alphabet = <span class="string">&#x27;&#x27;</span>.join(temp_list)</span><br><span class="line">    priority_dict = &#123;<span class="string">&#x27;*&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;/&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;+&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;-&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;(&#x27;</span>: <span class="number">1</span>&#125;</span><br><span class="line"></span><br><span class="line">    Operators = []</span><br><span class="line">    AlphaBet = []</span><br><span class="line"></span><br><span class="line">    input_str_to_list = infixerpr.split()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> element <span class="keyword">in</span> input_str_to_list:</span><br><span class="line">        <span class="keyword">if</span> element <span class="keyword">in</span> alphabet:</span><br><span class="line">            AlphaBet.append(element)</span><br><span class="line">        <span class="keyword">elif</span> element == <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">            Operators.append(element)</span><br><span class="line">        <span class="keyword">elif</span> element == <span class="string">&#x27;)&#x27;</span>:</span><br><span class="line">            tempelement = Operators.pop()</span><br><span class="line">            <span class="keyword">while</span> tempelement != <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">                AlphaBet.append(tempelement)</span><br><span class="line">                tempelement = Operators.pop()</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">while</span> (<span class="built_in">len</span>(Operators) != <span class="number">0</span>) <span class="keyword">and</span> (priority_dict[Operators[<span class="built_in">len</span>(Operators)-<span class="number">1</span>]] &gt;= priority_dict[element]):</span><br><span class="line">                AlphaBet.append(Operators.pop())</span><br><span class="line">            Operators.append(element)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="built_in">len</span>(Operators) != <span class="number">0</span>:</span><br><span class="line">        AlphaBet.append(Operators.pop())</span><br><span class="line">    print(<span class="string">&quot; &quot;</span>.join(AlphaBet))</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">infixToPostfix(<span class="string">&#x27;( A + B ) * ( C + D )&#x27;</span>)</span><br><span class="line">infixToPostfix(<span class="string">&#x27;( A + B )&#x27;</span>)</span><br><span class="line">&gt;&gt; A B + C D + *</span><br><span class="line">&gt;&gt; A B +</span><br></pre></td></tr></table></figure>

<h3 id="Q2-1Calculate-Post-Expression"><a href="#Q2-1Calculate-Post-Expression" class="headerlink" title="Q2.1Calculate Post Expression"></a>Q2.1Calculate Post Expression</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">post_calculateion_expression</span>(<span class="params">postfixexpr</span>):</span></span><br><span class="line">    list1 = []</span><br><span class="line"></span><br><span class="line">    tokenlist = postfixexpr.split()</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> token <span class="keyword">in</span> tokenlist:</span><br><span class="line">        <span class="keyword">if</span> token <span class="keyword">in</span> <span class="string">&#x27;0123456789&#x27;</span>:</span><br><span class="line">            list1.append(<span class="built_in">int</span>(token))</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            operand2 = list1.pop()</span><br><span class="line">            operand1 = list1.pop()</span><br><span class="line">            result = doMath(token, operand1, operand2)</span><br><span class="line">            list1.append(result)</span><br><span class="line">    <span class="keyword">return</span> list1.pop()</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">doMath</span>(<span class="params">op, op1, op2</span>):</span></span><br><span class="line">    <span class="keyword">if</span> op == <span class="string">&#x27;*&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> op1 * op2</span><br><span class="line">    <span class="keyword">elif</span> op == <span class="string">&#x27;/&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> op1 / op2</span><br><span class="line">    <span class="keyword">elif</span> op == <span class="string">&#x27;+&#x27;</span>:</span><br><span class="line">        <span class="keyword">return</span> op1 + op2</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> op1 - op2</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">a = post_calculateion_expression(<span class="string">&#x27;1 2 + 3 *&#x27;</span>)</span><br><span class="line">print(a)</span><br><span class="line">&gt;&gt;<span class="number">9</span></span><br></pre></td></tr></table></figure>

<h3 id="Q1-BaseConversion"><a href="#Q1-BaseConversion" class="headerlink" title="Q1:BaseConversion"></a>Q1:BaseConversion</h3><p><code>Decimal Conversion</code></p>
<p>remainder number optimization by string`s index</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decimal</span>(<span class="params">num</span>):</span></span><br><span class="line"></span><br><span class="line">    bin_num = []</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> num &gt; <span class="number">0</span>:</span><br><span class="line">        rem = num % <span class="number">12</span></span><br><span class="line">        num //= <span class="number">12</span></span><br><span class="line">        <span class="keyword">if</span> rem <span class="keyword">in</span> [<span class="number">10</span>, <span class="number">11</span>, <span class="number">12</span>]:</span><br><span class="line">            <span class="keyword">if</span> rem == <span class="number">10</span>:</span><br><span class="line">                bin_num.append(<span class="string">&#x27;A&#x27;</span>)</span><br><span class="line">            <span class="keyword">elif</span> rem == <span class="number">11</span>:</span><br><span class="line">                bin_num.append(<span class="string">&#x27;B&#x27;</span>)</span><br><span class="line">            <span class="keyword">elif</span> rem == <span class="number">12</span>:</span><br><span class="line">                bin_num.append(<span class="string">&#x27;C&#x27;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            bin_num.append(rem)</span><br><span class="line"></span><br><span class="line">    bin_num.reverse()</span><br><span class="line"></span><br><span class="line">    ans = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> bin_num:</span><br><span class="line">        ans = ans + <span class="built_in">str</span>(x)</span><br><span class="line">    print(ans)</span><br><span class="line"><span class="comment"># remaind number`s optimization, Take hexadecimal as an example</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">decimal_conversion</span>(<span class="params">num</span>):</span></span><br><span class="line">    </span><br><span class="line">    digits = <span class="string">&#x27;0123456789ABCDEF&#x27;</span></span><br><span class="line">    </span><br><span class="line">    con_num = []</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">while</span> num &gt; <span class="number">0</span>:</span><br><span class="line">        rem = num % <span class="number">16</span></span><br><span class="line">        num //= <span class="number">16</span></span><br><span class="line">        con_num.append(digits[rem])</span><br><span class="line">    </span><br><span class="line">    con_num.reserve()</span><br><span class="line">    </span><br><span class="line">    ans = <span class="string">&#x27;&#x27;</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> con_num:</span><br><span class="line">        ans = ans + <span class="built_in">str</span>(x)</span><br><span class="line">    print(ans)</span><br></pre></td></tr></table></figure>

<h2 id="Second-Issue-5-3-8-3"><a href="#Second-Issue-5-3-8-3" class="headerlink" title="Second Issue(5/3-8)3"></a>Second Issue(5/3-8)3</h2><h3 id="Q3-RegularExpression"><a href="#Q3-RegularExpression" class="headerlink" title="Q3:RegularExpression"></a>Q3:RegularExpression</h3><p><a target="_blank" rel="noopener" href="https://deerchao.cn/tutorials/regex/regex.htm">https://deerchao.cn/tutorials/regex/regex.htm</a></p>
<p><strong>注意：本题是整个面试流程中的第一道开卷试题。</strong><br>请写一个 匹配 简历中 中英文<strong>本科学位</strong>名称 的 Python 正则表达式。<br>本题考察的技能和思维严谨性是这份工作最需要的，请仔细查一查想一想，最好上机调试一下，再作答。</p>
<p>简历中 描述本科学位，一般说：“Bachelor”, “本科”，等等。举几个从实际简历pdf提取的文字例子：<br><strong>例1：</strong><br>Education<br>Philippines University MBA<br>Pepperdine University – Malibu, CA Bachelor of Arts, Economics<br>要求正则匹配“Bachelor”。<br><strong>例2：</strong><br>学历教育<br>中国地质大学（武汉）地理信息系统专业——硕士<br>中国地质大学（武汉）地理信息系统专业——工学学士<br>要求正则匹配“学士”。<br><strong>例3：</strong><br>EDUCATION<br>Bachelor of Science in CSE/Bio-engineering; Bioinformatics, University of California, San Diego.<br>要求正则匹配“Bachelor”。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> re</span><br><span class="line"></span><br><span class="line">text1 = <span class="string">&#x27;Pepperdine University – Malibu, CA Bachelor of Arts, Economics&#x27;</span></span><br><span class="line">text2 = <span class="string">&#x27;中国地质大学（武汉）地理信息系统专业——工学学士&#x27;</span></span><br><span class="line">text3 = <span class="string">&#x27;Bachelor of Science in CSE/Bio-engineering; Bioinformatics, University of California, San Diego.&#x27;</span></span><br><span class="line"></span><br><span class="line">pattern0 = <span class="string">r&#x27;\bBachelor.*|\B专业.*|\bBachelor.*\b&#x27;</span></span><br><span class="line"></span><br><span class="line">ans = re.search(pattern0, text1)</span><br><span class="line"></span><br><span class="line">print(ans.group())</span><br></pre></td></tr></table></figure>

<h3 id="Q2-Match-Brackets"><a href="#Q2-Match-Brackets" class="headerlink" title="Q2:Match Brackets"></a>Q2:Match Brackets</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> Stack</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">match_brackets</span>(<span class="params">str1</span>):</span></span><br><span class="line">    </span><br><span class="line">    s = Stack()</span><br><span class="line">    balanced = <span class="literal">True</span></span><br><span class="line">    index = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> index &lt; <span class="built_in">len</span>(str1) <span class="keyword">and</span> balanced:</span><br><span class="line">        symbol = str1[index</span><br><span class="line">        <span class="keyword">if</span> symbol == <span class="string">&#x27;(&#x27;</span>:</span><br><span class="line">            s.push(symbol)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">if</span> s.isEmpty():</span><br><span class="line">                balanced = <span class="literal">False</span></span><br><span class="line">            <span class="keyword">else</span>: </span><br><span class="line">                s.pop()</span><br><span class="line">        index += <span class="number">1</span></span><br><span class="line">    <span class="keyword">if</span> balanced <span class="keyword">and</span> s.isEmpty():</span><br><span class="line">        retuen <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        </span><br></pre></td></tr></table></figure>

<h3 id="Q1-Heterologous-Detection"><a href="#Q1-Heterologous-Detection" class="headerlink" title="Q1:Heterologous Detection"></a>Q1:Heterologous Detection</h3><h4 id="Method1Counting"><a href="#Method1Counting" class="headerlink" title="Method1Counting"></a>Method1Counting</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">counting_method</span>(<span class="params">s1, s2</span>):</span></span><br><span class="line">    c1 = [<span class="number">0</span>] * <span class="number">26</span></span><br><span class="line">    c2 = [<span class="number">0</span>] * <span class="number">26</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s1)):</span><br><span class="line">        pos = <span class="built_in">ord</span>(s1[i]) - <span class="built_in">ord</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">        c1[pos] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(s2)):</span><br><span class="line">        pos = <span class="built_in">ord</span>(s2[i]) - <span class="built_in">ord</span>(<span class="string">&#x27;a&#x27;</span>)</span><br><span class="line">        c2[pos] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">    j = <span class="number">0</span></span><br><span class="line">    stillok = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">while</span> j &lt; <span class="number">26</span> <span class="keyword">and</span> stillok:</span><br><span class="line">        <span class="keyword">if</span> c1[j] == c2[j]:</span><br><span class="line">            j += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            stillok = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> stillok</span><br></pre></td></tr></table></figure>

<p>ord(character) –return–&gt;the ascii code</p>
<p>example: ord(‘a’)–return–&gt; 97</p>
<h4 id="Method2Sorting"><a href="#Method2Sorting" class="headerlink" title="Method2Sorting"></a>Method2Sorting</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sortingmethod</span>(<span class="params">s1, s2</span>):</span></span><br><span class="line">	list1 = <span class="built_in">list</span>(s1)</span><br><span class="line">	list2 = <span class="built_in">list</span>(s2)</span><br><span class="line">	</span><br><span class="line">    list1.sort()</span><br><span class="line">    list2.sort()</span><br><span class="line">    </span><br><span class="line">	<span class="keyword">if</span> list1 == list2:</span><br><span class="line">		print(list1)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(list1 <span class="string">&#x27;\n&#x27;</span> list2)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">False</span></span><br></pre></td></tr></table></figure>



<h2 id="First-Issue-4-16-4-23-2"><a href="#First-Issue-4-16-4-23-2" class="headerlink" title="First Issue(4/16-4/23)2"></a>First Issue(4/16-4/23)2</h2><h3 id="Q2-Fraction-Class"><a href="#Q2-Fraction-Class" class="headerlink" title="Q2:Fraction Class"></a>Q2:Fraction Class</h3><p>create a instance to inplement the fraction`s add-method</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcd</span>(<span class="params">m, n</span>):</span></span><br><span class="line">    <span class="string">&quot;&quot;&quot;Euclid Algorithm:calculate the greatest common divisor&quot;&quot;&quot;</span></span><br><span class="line">    <span class="keyword">while</span> m % n != <span class="number">0</span>:</span><br><span class="line">        m, n = n, m % n</span><br><span class="line">    <span class="keyword">return</span> n</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Fraction</span>():</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, top, bottom</span>):</span></span><br><span class="line">        self.top = top</span><br><span class="line">        self.bottom = bottom</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">show</span>(<span class="params">self</span>):</span></span><br><span class="line">        print(<span class="built_in">str</span>(self.top) + <span class="string">&#x27;/&#x27;</span> + <span class="built_in">str</span>(self.bottom))</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__add__</span>(<span class="params">self, otherfraction</span>)</span></span><br><span class="line">    	newtop = self.top * otherfraction.bottom + \</span><br><span class="line">        	self.bottom * otherfraction.top</span><br><span class="line">        newbottom = self.bottom * otherfraction.bottom</span><br><span class="line">        common = gcd(newtop, newbottom)</span><br><span class="line">        <span class="keyword">return</span> Fraction(newtop//common, newbottom//common)</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span>(<span class="built_in">str</span>(self.top) + <span class="string">&#x27;/&#x27;</span> + <span class="built_in">str</span>(self.bottom))</span><br><span class="line"></span><br><span class="line">f1 = Fraction(<span class="number">1</span>, <span class="number">5</span>)</span><br><span class="line">f2 = Fraction(<span class="number">2</span>, <span class="number">4</span>)</span><br><span class="line">f3 = f1 + f2 <span class="comment"># __add__ ==&gt; &#x27;+&#x27;</span></span><br><span class="line">print(f3) <span class="comment"># __str__ ==&gt; return-&gt;str(Fraction) </span></span><br></pre></td></tr></table></figure>



<h3 id="Q1-Split-string-into-individual-letters"><a href="#Q1-Split-string-into-individual-letters" class="headerlink" title="Q1:Split string into individual letters"></a>Q1:Split string into individual letters</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">string = <span class="string">&#x27;ab_cdefg&#x27;</span></span><br><span class="line">y = []</span><br><span class="line">alphabet = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>, <span class="string">&#x27;g&#x27;</span>, <span class="string">&#x27;h&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;i&#x27;</span>, <span class="string">&#x27;j&#x27;</span>, <span class="string">&#x27;q&#x27;</span>, <span class="string">&#x27;l&#x27;</span>, <span class="string">&#x27;m&#x27;</span>, <span class="string">&#x27;n&#x27;</span>, <span class="string">&#x27;o&#x27;</span>, <span class="string">&#x27;p&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;q&#x27;</span>, <span class="string">&#x27;r&#x27;</span>, <span class="string">&#x27;s&#x27;</span>, <span class="string">&#x27;t&#x27;</span>, <span class="string">&#x27;u&#x27;</span>, <span class="string">&#x27;v&#x27;</span>, <span class="string">&#x27;w&#x27;</span>, <span class="string">&#x27;x&#x27;</span>,</span><br><span class="line">            <span class="string">&#x27;y&#x27;</span>, <span class="string">&#x27;z&#x27;</span>]</span><br><span class="line"><span class="comment"># another method about calling alphabet</span></span><br><span class="line"><span class="comment"># alphabet = [chr(i) for i in range(97, 123)]</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> string:</span><br><span class="line">    print(i)</span><br><span class="line">    <span class="keyword">if</span> i <span class="keyword">in</span> alphabet:</span><br><span class="line">        y.append(i)</span><br><span class="line">print(y)</span><br></pre></td></tr></table></figure>

<ul>
<li>number(0-9):the representation of ASCII is 48~57</li>
<li>Lower case letters(a-z):the representation of ASCII is 97~122</li>
<li>uppercase letters(A-Z):the representation of ASCII is 65~90</li>
</ul>
<p>ASCII: American standard code for information interchange</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/04/16/Python-Problems/" data-id="ckooh4zin000i78f56kj2alub" data-title="Python-Problems" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-English-Study-4" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/04/15/English-Study-4/" class="article-date">
  <time class="dt-published" datetime="2021-04-15T14:37:30.000Z" itemprop="datePublished">2021-04-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/04/15/English-Study-4/">English-Study-4</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Implement-Data-Structure"><a href="#Implement-Data-Structure" class="headerlink" title="Implement Data Structure"></a>Implement Data Structure</h1><h2 id="Part-1-Introduction"><a href="#Part-1-Introduction" class="headerlink" title="Part 1 Introduction"></a>Part 1 Introduction</h2><h3 id="Short-Sentences"><a href="#Short-Sentences" class="headerlink" title="Short Sentences"></a>Short Sentences</h3><p>Hash Mapping Relations –&gt; deal with conflicts</p>
<p>Open addressing &lt;==&gt; Linear detection </p>
<p>If there is no termination condition, it will enter an endless loop, the program will crash, and the stack will overflow</p>
<p>Complex recursion problem </p>
<p>Calculate the sum of a column of numbers</p>
<p>Three principles of recursion</p>
<p>The base case recursive algorithm must change the state and move closer to the base case</p>
<p>RecursionError: maximum recursion depth exceeded while getting the str of an object</p>
<p>Each element has a position relative to the other elements</p>
<p>lambda variable : variable <code>operation code block</code></p>
<p>Calculate execution time</p>
<p>The realization of abstract data types is called data structure</p>
<p>Understand the pre-order, middle-order, and post-order expressions </p>
<p>By running the code 10,000 times to find the time required for each method, we conclude that the best method is list(range())</p>
<p>python data structure performance:<code>数据结构的性能</code></p>
<p>Realize the inventory plan </p>
<p>Examples of heterologous word detection</p>
<p>The number in the computer is expressed in binary, and the leftmost bit is generally used to indicate whether the number is positive or negative. In this case, the number is a signed integer. If the leftmost bit is not used to indicate positive or negative, but is connected with the following to indicate an integer, then it cannot be distinguished whether the number is positive or negative, and it can only be a positive number, which is an unsigned integer.</p>
<p>Comparison with None performed with equality operators </p>
<p>Instance attribute pinA defined outside <strong>init</strong></p>
<p>Lowercase variable imported as non lowercase :<code>小写变量导入为非小写</code></p>
<p>categorical cross entropy ：<code>分类交叉熵</code></p>
<p>Remove redundant parentheses </p>
<p>row –&gt; 行        column |–列</p>
<p>hyper-parameter: parameters set manually</p>
<p><code>Relu</code>:rectified linear units layer</p>
<p>The choice depends on the big data and full connected layer based on back propagation.(Convolution Kernel)</p>
<p>The selection of the convolution kernel is not manual operation, but mechanical learning with the help of big data. The key lies in the loss function of the fully connected layer and the principle of back propagation.</p>
<p>Rectified Linear Units layer == Modified linear unit(Relu layer)</p>
<p>back propagation –&gt; down sampling</p>
<p>Modified linear unit(Relu layer)</p>
<p><code>Relu activation function</code>–beneficial to–&gt; Gradient descent </p>
<p>The relu function turns negative numbers in the feature map to zero</p>
<p>Activation function</p>
<p>The marginal area will be processed with zero padding</p>
<p>Ability to reduce the data volume of the feature map while retaining the original data</p>
<p>Convolution kernel</p>
<p>Convolutional Neural Network：<code>CNN</code></p>
<p>gcd: greatest common divisor</p>
<p>Euclid Algorithm:<code>欧几里得算法</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcd</span>(<span class="params">m, n</span>):</span></span><br><span class="line">    <span class="keyword">while</span> m % n != <span class="number">0</span>:</span><br><span class="line">        oldm = m</span><br><span class="line">        oldn = n</span><br><span class="line"></span><br><span class="line">        m = oldn</span><br><span class="line">        n = oldm % oldn</span><br><span class="line">    <span class="keyword">return</span> n</span><br></pre></td></tr></table></figure>

<p>A common example is to implement a data type of construct class fraction</p>
<p>library root：库根</p>
<p>Image recognition process</p>
<p>representation learning development history</p>
<p>Input layer    ==&gt;    Hidden layer    ==&gt;    Output layer</p>
<p>Professional Edition</p>
<p>enhanced CNN </p>
<p>download dataset</p>
<p>Paper framework</p>
<p>Introduction to unsupervised learning</p>
<p>Mechanical learning</p>
<p>Marked data</p>
<p>format specification ==&gt; syntax specification</p>
<p>Exception handling contains[Syntax Error  ==&gt;  logical error]</p>
<p>Separate ==&gt;  Delimiter(sep=””)</p>
<p>Control structure contains Iteration(while) and branch(if/elif/else)</p>
<p>Single branch structure</p>
<p>Absolute value</p>
<p>return a boolean value</p>
<p>Unordered collection</p>
<p>Set does not allow duplicate elements </p>
<p>Heterogeneous data</p>
<p>Tabs：<code>制表符</code></p>
<p>Newline:<code>换行符</code></p>
<p>Space:<code>空格</code></p>
<p>Thought report:<code>思想汇报</code></p>
<p>Experience:<code>心得体会</code></p>
<p>Uppercase letter</p>
<p>Lower case letters</p>
<p>Built-in collection data type(set/list/dictionary/hash map/tuple/string)</p>
<p>Built-in atomic data type(binary data type/float/int/ : contains Numerical class    Boolean value)</p>
<p>Take an integer  ==&gt;  a//b</p>
<p>Take the remainder  ==&gt;  a%b</p>
<p>Object-Oriented Programming </p>
<p>Data perspective independent of reality </p>
<p>The implementation of abstract data types is called data structure</p>
<p>Information hiding</p>
<p>How to learn data structure and abstract data types</p>
<p>Sequential execution == 顺序执行</p>
<p>Decision branch == 决策分支</p>
<p>Loop iteration == 循环迭代</p>
<p>control statement</p>
<p>data type</p>
<p>This is an example of process abstraction</p>
<p>What is programming</p>
<p>square root    ==    Cube</p>
<p>what is the computer science</p>
<p>the process of solving questions</p>
<h3 id="Word-List"><a href="#Word-List" class="headerlink" title="Word List"></a>Word List</h3><p>merge</p>
<p>Framework thinking    awareness    Hash table    Mapping relations</p>
<p>Cache    Cookies    Recursive call    Dynamic programming<br>Fractal    basic situation    Key term    Programming exercises</p>
<p>Palindrome detector    Linked list</p>
<p>logarithm    time    complexity    index<br>Brute-force    Ordinary situation    Magnitude</p>
<p>magnitude    Worst way    List comprehension    generate</p>
<p>Architecture    nutshell    batch    filter    regression</p>
<p>Modifiable    sequence    grammar    Interactive</p>
<p>encapsulation    annotation    notation    assign</p>
<p>alphabet    introduction    Objectives of this chapter</p>
<p>getting Started    interface    Low-level details</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/04/15/English-Study-4/" data-id="ckooh4zi2000978f5gyspgtqj" data-title="English-Study-4" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/English-Study/" rel="tag">English Study</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-左翼同盟会章程" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/04/14/%E5%B7%A6%E7%BF%BC%E5%90%8C%E7%9B%9F%E4%BC%9A%E7%AB%A0%E7%A8%8B/" class="article-date">
  <time class="dt-published" datetime="2021-04-14T15:01:46.000Z" itemprop="datePublished">2021-04-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/04/14/%E5%B7%A6%E7%BF%BC%E5%90%8C%E7%9B%9F%E4%BC%9A%E7%AB%A0%E7%A8%8B/">左翼同盟会章程</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="序章"><a href="#序章" class="headerlink" title="序章"></a>序章</h2><p>二零二一年四月十四分，辽宁阜新，二十三点零三分。</p>
<p>对于社会思考的越多，越有一个迫切的想法——在目前的企业里，没有一个是公有制企业，除国营企业外，个人私有制、家族私有制、红色资本家和帝国买办阶级占据了绝大多数。共产主义者绝对不能仅仅停留在提出问题上，更应该根据实际解决问题，独立自主，联合但不能失去自己的独立性，要保持经济基础和上层建筑相适应，始终以马列毛作为自己的思想基础。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/04/14/%E5%B7%A6%E7%BF%BC%E5%90%8C%E7%9B%9F%E4%BC%9A%E7%AB%A0%E7%A8%8B/" data-id="ckooh4zj9000r78f58cis8krf" data-title="左翼同盟会章程" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%B7%A6%E7%BF%BC%E5%90%8C%E7%9B%9F%E4%BC%9A/" rel="tag">左翼同盟会</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-English-Study-3" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/04/11/English-Study-3/" class="article-date">
  <time class="dt-published" datetime="2021-04-11T09:00:04.000Z" itemprop="datePublished">2021-04-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/04/11/English-Study-3/">English-Study-3</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="English-Study-Three"><a href="#English-Study-Three" class="headerlink" title="English Study Three"></a>English Study Three</h1><h2 id="COVID19"><a href="#COVID19" class="headerlink" title="COVID19"></a>COVID19</h2><p><code>covid-19</code> epidemic forecast</p>
<p>Research on data-driven evaluation and prediction modeling of the development and spread of the new crown epidemic</p>
<h2 id="Implement-Data-Structure-By-Python"><a href="#Implement-Data-Structure-By-Python" class="headerlink" title="Implement Data Structure By Python"></a>Implement Data Structure By Python</h2><p>Book structure  ==&gt; review</p>
<h2 id="Data-Structure"><a href="#Data-Structure" class="headerlink" title="Data Structure"></a>Data Structure</h2><h3 id="Graph"><a href="#Graph" class="headerlink" title="Graph"></a>Graph</h3><p>Graph database </p>
<p>Breadth first search</p>
<p>depth first search</p>
<p>Directed graph  ==  Undirected graph</p>
<h3 id="Binary-Tree"><a href="#Binary-Tree" class="headerlink" title="Binary Tree"></a>Binary Tree</h3><p>Diagram/graph connecting everything</p>
<p>Only trees created with randomly shuffled data can be more balanced. If all inserted data is sorted, then the binary tree is out of balance.</p>
<p>If there are two sub nodes, the value of one sub node must be less than the sup node, and the value of the other sub node must be greater than the sup node.</p>
<h3 id="Quick-Select"><a href="#Quick-Select" class="headerlink" title="Quick Select"></a>Quick Select</h3><p>Binary tree that makes everything faster</p>
<p>Doubly linked list</p>
<p>Worst case</p>
<p>Node-based data structure</p>
<p>Store data and next physical address</p>
<h3 id="Recursion"><a href="#Recursion" class="headerlink" title="Recursion"></a>Recursion</h3><p>Recursion in the eyes of computers</p>
<p>Fast recursive algorithm</p>
<h3 id="QUEUE"><a href="#QUEUE" class="headerlink" title="QUEUE"></a>QUEUE</h3><p><code>Queue: first in, first out[FIFO]</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/QUEUE.png"></p>
<p>The queue is also an ideal tool for processing asynchronous requests-it can ensure that the requests are executed in the order in which they are received. In addition, it is also often used to simulate real-world scenarios where things need to be processed in an orderly manner, such as airplanes waiting in line for take-off, patients waiting in line to see a doctor</p>
<p>insert data at the end</p>
<p>read data at the begin</p>
<p>remove data at the begin</p>
<h3 id="STACK"><a href="#STACK" class="headerlink" title="STACK"></a>STACK</h3><p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/stack.png"></p>
<p>insert data at the end </p>
<p>read data at the end</p>
<p>remove data at the end</p>
<p><code>Queue: last in, first out[LIFO]</code></p>
<p>Stack: all operations at the end of stack(STACK TOP)</p>
<p>When the order of data processing is opposite to the order of acceptance (LIFO), the stack is just right, like the “undo” action of a word processor, or the function call of a network application, it should be implemented with a stack</p>
<p>Stacks are rarely used in scenarios that require long-term retention of data, but are often used in various algorithms for processing temporary data</p>
<p>rules to follow: last in, first out</p>
<p>The end of the stack is called the top of the stack</p>
<p>The beginning of the stack is called the bottom of the stack</p>
<p>Its operations are at the end of the data structure</p>
<p>So far, our discussion of data structure has focused on its performance</p>
<p>Use stacks and queues to construct smart code</p>
<h3 id="Hash-Table"><a href="#Hash-Table" class="headerlink" title="Hash Table"></a>Hash Table</h3><p>Hash table in two ways: one is the same value as the Value of Key, the general structure of this case we call for the Set (collection); and if the Key and Value corresponding to the content is not the same, then we call it One case is Map, which is commonly known as a collection of key-value pairs.</p>
<p>The ratio of the amount of data to the number of grids is called the load factor ==&gt; (0.7)</p>
<p>The golden rule to avoid conflicts and save space: add ten grids for every seven elements added</p>
<p>Split link</p>
<p>Deal with conflicts</p>
<p>Alphabet </p>
<p>multiply list</p>
<p>A dictionary of fun and profitable synonyms</p>
<p>hash tables ==&gt; dictionary (data structure)</p>
<p>Find a quick hash table<code>查找快速哈希表</code></p>
<p>Intersection</p>
<p>Average situation</p>
<p>The role of <code>O()</code></p>
<p>The two exchange positions</p>
<h2 id="Sorting-Algorithm"><a href="#Sorting-Algorithm" class="headerlink" title="Sorting Algorithm"></a>Sorting Algorithm</h2><h3 id="Select-Sort"><a href="#Select-Sort" class="headerlink" title="Select Sort"></a>Select Sort</h3><p>The two exchange positions</p>
<p>Compare the remaining values with the extracted values, find the minimum value and assign its index to the minimum value</p>
<p>Exchange the position of the extracted value and the minimum value according to the index </p>
<h3 id="Bubble-Sort"><a href="#Bubble-Sort" class="headerlink" title="Bubble Sort"></a>Bubble Sort</h3><p>The essence of the sorting algorithm is a loop, so you only need to focus on the first loop.</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/04/11/English-Study-3/" data-id="ckooh4zhe000378f516stejrw" data-title="English-Study-3" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/English-Study/" rel="tag">English Study</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-DataStructure" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/04/10/DataStructure/" class="article-date">
  <time class="dt-published" datetime="2021-04-10T11:09:15.000Z" itemprop="datePublished">2021-04-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/04/10/DataStructure/">DataStructure</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Part2AlgorithmAnalysis"><a href="#Part2AlgorithmAnalysis" class="headerlink" title="Part2AlgorithmAnalysis"></a>Part2AlgorithmAnalysis</h2><h3 id="Four-methods-for-generating-list"><a href="#Four-methods-for-generating-list" class="headerlink" title="Four methods for generating list"></a>Four methods for generating list</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> timeit</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">connect</span>():</span></span><br><span class="line">	l = []</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">		l = l + [i]</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">append</span>():</span></span><br><span class="line">	l = []</span><br><span class="line">	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">		l.append(i)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">comprehension</span>():</span></span><br><span class="line">	l = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>)]</span><br><span class="line">	</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">list_range</span>():</span></span><br><span class="line">	l = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1000</span>))</span><br><span class="line"></span><br><span class="line">t1 = timeit.timeit(<span class="string">&#x27;connect()&#x27;</span>, <span class="string">&#x27;from __main__ import connect&#x27;</span>, number = <span class="number">100000</span>)</span><br><span class="line">print(<span class="string">&#x27;connect &#x27;</span>, t1, <span class="string">&#x27;millisecondes&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p>By running the code 100,000 times to find the time required for each method, we conclude that the best method is <code>list range() </code></p>
<p>O(1) &lt;– append    O(n) &lt;– + if the length of list needed connecting is n</p>
<h2 id="Part1Introduction"><a href="#Part1Introduction" class="headerlink" title="Part1Introduction"></a>Part1Introduction</h2><h3 id="GCD-LCM"><a href="#GCD-LCM" class="headerlink" title="GCD_LCM"></a>GCD_LCM</h3><p>GCD: greatest common divisor</p>
<p>Euclid Algorithm:<code>欧几里得算法</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gcd</span>(<span class="params">n, m</span>):</span></span><br><span class="line">	<span class="keyword">while</span> n % m != <span class="number">0</span>:</span><br><span class="line">		oldm = m</span><br><span class="line">		oldn = n</span><br><span class="line">		</span><br><span class="line">		m = oldn</span><br><span class="line">		n = oldm % oldn</span><br><span class="line">	<span class="keyword">return</span> n</span><br></pre></td></tr></table></figure>

<p>LCM: least common multiple</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lcm</span>(<span class="params">x, y</span>):</span></span><br><span class="line">    <span class="keyword">if</span> x &gt; y:</span><br><span class="line">        greater = x</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        greater = y</span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        <span class="keyword">if</span> greater % x == <span class="number">0</span> <span class="keyword">and</span> greater % y == <span class="number">0</span>:</span><br><span class="line">            lcmnum = greater</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        greater += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> lcmnum</span><br></pre></td></tr></table></figure>

<h3 id="Set-Collection"><a href="#Set-Collection" class="headerlink" title="Set/Collection"></a>Set/Collection</h3><p>有序集合：可以包含任意数量的、各不相同的元素，有序集合的每个元素都关联着一个浮点数格式的分值（score），并且有序集合会按照分值，以从小到大的顺序来排列有序集合中的各个元素。</p>
<p>无序集合：集合（set）是一个无序的不重复元素序列。可以使用大括号 <strong>{ }</strong> 或者 <strong>set()</strong> 函数创建集合，注意：创建一个空集合必须用 <strong>set()</strong> 而不是 <strong>{ }**，因为 **{ }</strong> 是用来创建一个空字典。</p>
<p>集合不含重复元素，有序和无序的区别在于是否可以用score(index)进行排序</p>
<p><code>list</code> <code>tuple</code> <code>string</code>是有序集合 </p>
<p><code>dictionary</code> <code>set</code> 是无序集合</p>
<p>注：set是一个不含key的字典，含有key-value pairs的字典又称为Hash Map</p>
<h3 id="Sorting-Algorithm"><a href="#Sorting-Algorithm" class="headerlink" title="Sorting Algorithm"></a>Sorting Algorithm</h3><p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/datastructure.png"></p>
<h4 id="1Bubble-Sort"><a href="#1Bubble-Sort" class="headerlink" title="1Bubble Sort"></a>1Bubble Sort</h4><p>The idea of bubble sort is that in each cycle, the big element goes down and the small one goes up, so that sorting is carried out. The specific process is as follows:</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/bubblesort.gif"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">       </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bubble_sort</span>(<span class="params">alist</span>):</span></span><br><span class="line">        <span class="keyword">for</span> passnum <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(alist) - <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>):</span><br><span class="line">        	<span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(passnum):</span><br><span class="line">            	<span class="keyword">if</span> alist[i] &gt; alist[i+<span class="number">1</span>]:</span><br><span class="line">                	temp = alist[i]</span><br><span class="line">                	alist[i] = alist[i+<span class="number">1</span>]</span><br><span class="line">                	alist[i+<span class="number">1</span>] = temp</span><br><span class="line">    	<span class="keyword">return</span> alist</span><br><span class="line"></span><br><span class="line"><span class="comment"># enhancement bubble sort</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">sbubble_sort</span>(<span class="params">lst</span>):</span></span><br><span class="line"></span><br><span class="line">    unsorted_index = <span class="built_in">len</span>(lst) - <span class="number">1</span></span><br><span class="line">    sorted_sign = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">while</span> <span class="keyword">not</span> sorted_sign:</span><br><span class="line">        sorted_sign = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(unsorted_index):</span><br><span class="line">            <span class="keyword">if</span> lst[i] &gt; lst[i+<span class="number">1</span>]:</span><br><span class="line">                sorted_sign = <span class="literal">False</span></span><br><span class="line">                lst[i], lst[i+<span class="number">1</span>] = lst[i+<span class="number">1</span>], lst[i]</span><br><span class="line">        unsorted_index = unsorted_index - <span class="number">1</span></span><br></pre></td></tr></table></figure>

<h4 id="2Select-Sort"><a href="#2Select-Sort" class="headerlink" title="2Select Sort"></a>2Select Sort</h4><p>The idea of select sort is to find the smallest value in the first place in the process of each loop, loop to find other smaller values and place it in the next position, and sort by searching. The process is as follows:</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/SelectSort.gif"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">select_sort</span>(<span class="params">a</span>):</span></span><br><span class="line">    n = <span class="built_in">len</span>(a) - <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        min_index = i</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i, n+<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> a[j] &lt; a[min_index]:</span><br><span class="line">                min_index = j</span><br><span class="line">        a[i], a[min_index] = a[min_index], a[i]</span><br><span class="line">    <span class="keyword">return</span> a</span><br></pre></td></tr></table></figure>

<h4 id="3Insert-Sort"><a href="#3Insert-Sort" class="headerlink" title="3Insert Sort"></a>3Insert Sort</h4><p>The idea of insert sort is to compare with the previous elements. The big elements are placed at the back and the small ones are placed at the front. The specific process is as follows:</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/InsertSort.gif"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">insert_sort</span>(<span class="params">a</span>):</span></span><br><span class="line">    n = <span class="built_in">len</span>(a)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n):</span><br><span class="line">        cur_val = a[i]</span><br><span class="line">        pos = i</span><br><span class="line">        <span class="keyword">while</span> pos &gt; <span class="number">0</span> <span class="keyword">and</span> a[pos - <span class="number">1</span>] &gt; cur_val:</span><br><span class="line">            a[pos] = a[pos - <span class="number">1</span>]</span><br><span class="line">            pos -= <span class="number">1</span></span><br><span class="line">        a[pos] = cur_val</span><br><span class="line">    <span class="keyword">return</span> a</span><br></pre></td></tr></table></figure>

<h4 id="4ShellSort"><a href="#4ShellSort" class="headerlink" title="4ShellSort"></a>4ShellSort</h4><p>Shell sort is another variation of insert sort. The final sort is achieved through interval insert sort and gradually reducing the interval. The process is as follows:</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/ShellSort.gif"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">shell_sort</span>(<span class="params">a</span>):</span></span><br><span class="line">    n = <span class="built_in">len</span>(a)</span><br><span class="line">    gap = n // <span class="number">2</span></span><br><span class="line">    <span class="keyword">while</span> gap &gt; <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(gap):</span><br><span class="line">            gap_insert(a, i, gap)   <span class="comment">#有间隔的插入排序</span></span><br><span class="line">        gap //= <span class="number">2</span></span><br><span class="line">    <span class="keyword">return</span> a</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">gap_insert</span>(<span class="params">a, sta, gap</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(sta + gap, <span class="built_in">len</span>(a), gap):</span><br><span class="line">        cur_val = a[i]</span><br><span class="line">        pos = i</span><br><span class="line">        <span class="keyword">while</span> pos &gt; sta <span class="keyword">and</span> a[pos - gap] &gt; cur_val:</span><br><span class="line">            a[pos] = a[pos - gap]</span><br><span class="line">            pos -= gap</span><br><span class="line">        a[pos] = cur_val</span><br><span class="line">    <span class="keyword">return</span> a</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = [<span class="number">90</span>, <span class="number">5</span>, <span class="number">83</span>, <span class="number">42</span>, <span class="number">12</span>, <span class="number">15</span>]</span><br><span class="line">    print(shell_sort(a))</span><br></pre></td></tr></table></figure>

<h4 id="5MergeSort"><a href="#5MergeSort" class="headerlink" title="5MergeSort"></a>5MergeSort</h4><p>Merge sort is based on the idea of divide and conquer. The data to be sorted is divided into two subsequences, the subsequences are sorted, and then the sorted subsequences are merged to achieve the final sorting. The process is as follows:</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/MergeSort.gif"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge_sort</span>(<span class="params">a</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(a) &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    n = <span class="built_in">len</span>(a) // <span class="number">2</span></span><br><span class="line">    left = merge_sort(a[:n])    <span class="comment">#子序列归并排序</span></span><br><span class="line">    right = merge_sort(a[n:])   </span><br><span class="line">    <span class="keyword">return</span> merge(left, right)   <span class="comment">#合并排好序的子序列</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">merge</span>(<span class="params">left, right</span>):</span></span><br><span class="line">    l, r = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="keyword">while</span> l &lt; <span class="built_in">len</span>(left) <span class="keyword">and</span> r &lt; <span class="built_in">len</span>(right):</span><br><span class="line">        <span class="keyword">if</span> left[l] &lt; right[r]:</span><br><span class="line">            res.append(left[l])</span><br><span class="line">            l += <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            res.append(right[r])</span><br><span class="line">            r += <span class="number">1</span></span><br><span class="line">    res.extend(left[l:])</span><br><span class="line">    res.extend(right[r:])</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = [<span class="number">90</span>, <span class="number">5</span>, <span class="number">83</span>, <span class="number">42</span>, <span class="number">12</span>, <span class="number">15</span>]</span><br><span class="line">    print(merge_sort(a))</span><br></pre></td></tr></table></figure>

<h4 id="6HeapSort"><a href="#6HeapSort" class="headerlink" title="6HeapSort"></a>6HeapSort</h4><p>The idea of heap sort is to create a big root heap, exchange the top position of the heap with the last one, and then create a big root heap, repeat the above operations to achieve sorting, the process is as follows:</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/HeapSort.gif"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">heap_sort</span>(<span class="params">a</span>):</span></span><br><span class="line">    n = <span class="built_in">len</span>(a)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n // <span class="number">2</span> - <span class="number">1</span>, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">        siftdown(a, i, n - <span class="number">1</span>)          <span class="comment">#建立大根堆</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n - <span class="number">1</span>, <span class="number">0</span>, -<span class="number">1</span>):</span><br><span class="line">        a[<span class="number">0</span>], a[j] = a[j], a[<span class="number">0</span>]        <span class="comment">#交换后，继续建立大根堆</span></span><br><span class="line">        siftdown(a, <span class="number">0</span>, j-<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">return</span> a</span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">siftdown</span>(<span class="params">a, sta, end</span>):</span></span><br><span class="line">    root = sta                  <span class="comment">#根节点</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        child = <span class="number">2</span> * root + <span class="number">1</span>    <span class="comment">#左孩子节点</span></span><br><span class="line">        <span class="keyword">if</span> child &gt; end:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> child + <span class="number">1</span> &lt;= end <span class="keyword">and</span> a[child] &lt; a[child + <span class="number">1</span>]:   <span class="comment">#存在右孩子节点</span></span><br><span class="line">            child += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> a[root] &lt; a[child]:                      <span class="comment">#维护大根堆</span></span><br><span class="line">            a[root], a[child] = a[child], a[root]</span><br><span class="line">            root = child</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">return</span> a</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = [<span class="number">90</span>, <span class="number">5</span>, <span class="number">83</span>, <span class="number">42</span>, <span class="number">12</span>, <span class="number">15</span>]</span><br><span class="line">    print(heap_sort(a))</span><br></pre></td></tr></table></figure>

<h4 id="7QuickSort"><a href="#7QuickSort" class="headerlink" title="7QuickSort"></a>7QuickSort</h4><p>The idea of quick sorting is to select a baseline, put the one smaller than the baseline on one side, and put the one larger than the baseline on the other side, and achieve the final sorting by sorting the two parts. The process is as follows:</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/QuickSort.gif"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">quick_sort</span>(<span class="params">a</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(a) &lt;= <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    left = []</span><br><span class="line">    right = []</span><br><span class="line">    base = a.pop()</span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> a:</span><br><span class="line">        <span class="keyword">if</span> x &lt; base:</span><br><span class="line">            left.append(x)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            right.append(x)</span><br><span class="line">    <span class="keyword">return</span> quick_sort(left) + [base] + quick_sort(right)</span><br><span class="line">            </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = [<span class="number">90</span>, <span class="number">5</span>, <span class="number">83</span>, <span class="number">42</span>, <span class="number">12</span>, <span class="number">15</span>]</span><br><span class="line">    print(quick_sort(a))</span><br></pre></td></tr></table></figure>

<h4 id="8CountSort"><a href="#8CountSort" class="headerlink" title="8CountSort"></a>8CountSort</h4><p>The idea of count sort is to establish a counter, count the number of times each number appears, and then output the statistical results to achieve the final sort. The process is as follows:</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/CountSort.gif"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">count_sort</span>(<span class="params">a</span>):</span></span><br><span class="line">    n = <span class="built_in">len</span>(a)</span><br><span class="line">    max_val = <span class="built_in">max</span>(a)</span><br><span class="line">    count = [<span class="number">0</span>] * (max_val + <span class="number">1</span>)</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        count[a[i]] += <span class="number">1</span></span><br><span class="line">    res = []</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(max_val + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(count[i]):</span><br><span class="line">            res.append(i)</span><br><span class="line">    <span class="keyword">return</span> res</span><br><span class="line">            </span><br><span class="line">            </span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = [<span class="number">90</span>, <span class="number">5</span>, <span class="number">83</span>, <span class="number">42</span>, <span class="number">12</span>, <span class="number">15</span>]</span><br><span class="line">    print(count_sort(a))</span><br></pre></td></tr></table></figure>

<h4 id="9BucketSort"><a href="#9BucketSort" class="headerlink" title="9BucketSort"></a>9BucketSort</h4><p>The idea of bucket sorting is to put the elements in the corresponding range into the bucket, sort the elements in the bucket, and then take the elements out in order to complete the final sorting. The process is as follows:</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/BucketSort.gif"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">bucket_sort</span>(<span class="params">a,n=<span class="number">100</span>,max_num=<span class="number">10000</span></span>):</span></span><br><span class="line">    buckets = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)]   <span class="comment">#创建桶</span></span><br><span class="line">    <span class="keyword">for</span> x <span class="keyword">in</span> a:</span><br><span class="line">        i = <span class="built_in">min</span>(x // (max_num // n) , n - <span class="number">1</span>)    </span><br><span class="line">        buckets[i].append(x)      <span class="comment">#将对应的数据放进桶中</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(buckets[i]) - <span class="number">1</span> , <span class="number">0</span> ,-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> buckets[i][j] &lt; buckets[i][j - <span class="number">1</span>]:</span><br><span class="line">                buckets[i][j] , buckets[i][j - <span class="number">1</span>] = buckets[i][j - <span class="number">1</span>] , buckets[i][j]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">    result = []</span><br><span class="line">    <span class="keyword">for</span> <span class="built_in">bin</span> <span class="keyword">in</span> buckets:</span><br><span class="line">        result.extend(<span class="built_in">bin</span>)</span><br><span class="line">    <span class="keyword">return</span> result</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = [<span class="number">90</span>, <span class="number">5</span>, <span class="number">83</span>, <span class="number">42</span>, <span class="number">12</span>, <span class="number">15</span>]</span><br><span class="line">    print(bucket_sort(a))</span><br></pre></td></tr></table></figure>

<h4 id="10RadixSort"><a href="#10RadixSort" class="headerlink" title="10RadixSort"></a>10RadixSort</h4><p>The idea of radix sort is to divide integers into different numbers by bit, and compare each number. The specific process is as follows:</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/RadixSort.gif"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">radix_sort</span>(<span class="params">a</span>):</span></span><br><span class="line">    max_val = <span class="built_in">max</span>(a)</span><br><span class="line">    it = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> <span class="number">10</span> ** it &lt;= max_val:</span><br><span class="line">        buckets = [[] <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10</span>)]</span><br><span class="line">        <span class="keyword">for</span> x <span class="keyword">in</span> a:</span><br><span class="line">            i = (x // (<span class="number">10</span> ** it)) % <span class="number">10</span></span><br><span class="line">            buckets[i].append(x)</span><br><span class="line">        a = [j <span class="keyword">for</span> i <span class="keyword">in</span> buckets <span class="keyword">for</span> j <span class="keyword">in</span> i]</span><br><span class="line">        it += <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> a</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    a = [<span class="number">90</span>, <span class="number">5</span>, <span class="number">83</span>, <span class="number">42</span>, <span class="number">12</span>, <span class="number">15</span>]</span><br><span class="line">    print(radix_sort(a))</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/04/10/DataStructure/" data-id="ckooh4zgn000078f51kor2qh6" data-title="DataStructure" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/English-Study/" rel="tag">English Study</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/English-Study/" rel="tag">English Study</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GoodNotes/" rel="tag">GoodNotes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/consciousness/" rel="tag">consciousness</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%96%E7%95%8C%E8%A7%82-%E6%96%B9%E6%B3%95%E8%AE%BA/" rel="tag">世界观 方法论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E8%B7%B5/" rel="tag">实践</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A6%E7%BF%BC%E5%90%8C%E7%9B%9F%E4%BC%9A/" rel="tag">左翼同盟会</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B0%E9%97%BB%E8%81%94%E6%92%AD/" rel="tag">新闻联播</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%B4%E4%BD%A0%E7%9A%84%E4%B8%80%E5%B0%81%E4%BF%A1/" rel="tag">致你的一封信</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/English-Study/" style="font-size: 20px;">English Study</a> <a href="/tags/GoodNotes/" style="font-size: 10px;">GoodNotes</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/consciousness/" style="font-size: 10px;">consciousness</a> <a href="/tags/%E4%B8%96%E7%95%8C%E8%A7%82-%E6%96%B9%E6%B3%95%E8%AE%BA/" style="font-size: 10px;">世界观 方法论</a> <a href="/tags/%E5%AE%9E%E8%B7%B5/" style="font-size: 10px;">实践</a> <a href="/tags/%E5%B7%A6%E7%BF%BC%E5%90%8C%E7%9B%9F%E4%BC%9A/" style="font-size: 10px;">左翼同盟会</a> <a href="/tags/%E6%96%B0%E9%97%BB%E8%81%94%E6%92%AD/" style="font-size: 10px;">新闻联播</a> <a href="/tags/%E8%87%B4%E4%BD%A0%E7%9A%84%E4%B8%80%E5%B0%81%E4%BF%A1/" style="font-size: 10px;">致你的一封信</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/05/23/Framework-Thinking/">Framework-Thinking</a>
          </li>
        
          <li>
            <a href="/2021/05/15/Python-Underlying-Structure/">Python-Underlying-Structure</a>
          </li>
        
          <li>
            <a href="/2021/05/06/%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%AE%9E%E8%B7%B5/">我的工作实践</a>
          </li>
        
          <li>
            <a href="/2021/04/30/Infectious-Disease-Model/">Infectious Disease Model</a>
          </li>
        
          <li>
            <a href="/2021/04/30/Nerual-Network/">Nerual-Network</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 Drink<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>