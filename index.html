<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Drink`s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Drink&#96;s Blog">
<meta property="og:url" content="https://drinkle.top/index.html">
<meta property="og:site_name" content="Drink&#96;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Drink">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Drink`s Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Drink`s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://drinkle.top"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-独到科技" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/08/02/%E7%8B%AC%E5%88%B0%E7%A7%91%E6%8A%80/" class="article-date">
  <time class="dt-published" datetime="2021-08-02T13:33:16.000Z" itemprop="datePublished">2021-08-02</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/08/02/%E7%8B%AC%E5%88%B0%E7%A7%91%E6%8A%80/">独到科技</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Target"><a href="#Target" class="headerlink" title="Target"></a>Target</h2><ul>
<li><input disabled="" type="checkbox"> redis</li>
<li><input disabled="" type="checkbox"> flask</li>
<li><input disabled="" type="checkbox"> ssh</li>
<li><input disabled="" type="checkbox"> git</li>
</ul>
<h2 id="Day2"><a href="#Day2" class="headerlink" title="Day2"></a>Day2</h2><h3 id="git基础"><a href="#git基础" class="headerlink" title="git基础"></a>git基础</h3><h4 id="逻辑模式"><a href="#逻辑模式" class="headerlink" title="逻辑模式"></a><strong>逻辑模式</strong></h4><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/blog-tian/p/14031285.html">photos</a></p>
<p>![image-20210803094748281](/Users/edy/Library/Application Support/typora-user-images/image-20210803094748281.png)</p>
<p>【working】 – 【index】 – 【master｜local repository】</p>
<p>工作区（本地dir）–add–index（缓存区）–commit – git repo｜local repo【在.git文件夹里】–push–remot repo【github】</p>
<p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/hand-blog/p/13818563.html">git将文件存储的位置</a></p>
<h4 id="【创建｜查看用户】"><a href="#【创建｜查看用户】" class="headerlink" title="【创建｜查看用户】"></a>【创建｜查看用户】</h4><p><strong>查看邮箱｜名字</strong></p>
<p><strong>git config –global –list</strong></p>
<p><strong>【修改】</strong></p>
<p><strong>git config –global user.name “username”</strong></p>
<p> <strong>git config –global user.email “email”</strong></p>
<p><em>邮箱地址是本地git客户端的一个变量，不随git库而改变。而不同项目，设置的用户名和密码不同</em></p>
<hr>
<p><strong>git config user.name</strong></p>
<p><strong>git config user.password</strong></p>
<p><strong>git config user.email</strong></p>
<hr>
<p>git分为三个区，working directory–modify【add】–&gt;index「缓存区」–commit–&gt;改动的内容在local repository中生效，之后使用push到远程仓库中remote repository</p>
<h4 id="添加文件-夹｜撤销"><a href="#添加文件-夹｜撤销" class="headerlink" title="添加文件/夹｜撤销"></a><strong>添加文件/夹｜撤销</strong></h4><p><strong>【1.create new repository】</strong></p>
<p>​        git init | git init new_repo[sub dir]</p>
<hr>
<p><strong>【2.create new file】</strong></p>
<p>​        touch file_name</p>
<p>​        [使用git status发现此时的file_name并没有被追踪]：git status可以查看branch和提交信息以及dir中的文件是否被追踪</p>
<hr>
<p>*<em>【3.git add . | <em>】</em></em></p>
<p>​        <code>只用dir中touch了一个file，才可以使用git add file，将文件追踪以备commit</code></p>
<p>​        使用git . ｜ *进行commit时默认提交所有【修改】和【未被追踪】的文件，添加到git system的index区（缓存区）⚠️并不包括【删除文件】</p>
<p>命令选项：</p>
<p><strong>-u</strong></p>
<p>表示将已跟踪文件中的修改和删除的文件添加到暂存区，不包括新增加的文件，注意这些被删除的文件被加入到暂存区再被提交并推送到服务器的版本库之后这个文件就会从git系统中消失了。</p>
<p><strong>-A</strong></p>
<p>-A 表示将所有的已跟踪的文件的修改与删除和新增的未跟踪的文件都添加到暂存区。</p>
<p>*<strong>.html</strong></p>
<p>添加某个文件类型到暂存区，比如所有的 <code>.html</code> 文件。</p>
<p><strong>index/</strong></p>
<p>添加整个文件夹到暂存区，比如根目录的 index 文件夹。</p>
<p><strong>index/index.html</strong></p>
<p>添加某个文件或者某个文件夹中的某个文件到暂存区 ，比如 index 下的 <code>index.html</code> 文件。</p>
<hr>
<p>【一些自动生成的，比如日志文件，或者编译过程中创建的临时文件等，不需要纳入 Git 的管理，在这种情况下，我们可以创建一个名为 .gitignore 的文件，来跳过上传。】</p>
<p><strong>【0取消｜撤销文件】</strong></p>
<p><strong>git reset HEAD file_name</strong></p>
<p>注意并不是在dir中del了file，而是将file从git库中删除，在working中依然存在，并且status变成了touch状态「untracked」</p>
<h4 id="commit"><a href="#commit" class="headerlink" title="commit"></a>commit</h4><p>【save changes（index） to the local repository <strong>[git</strong> **repository]**】</p>
<h4 id="【1-git-commit-m‘message’】"><a href="#【1-git-commit-m‘message’】" class="headerlink" title="【1.git commit -m‘message’】"></a>【1.git commit -m‘message’】</h4><p>commit to local repository with message[annontation]</p>
<p><strong><a target="_blank" rel="noopener" href="https://www.cnblogs.com/qianqiannian/p/6005628.html">【git commit详细解读】</a></strong></p>
<p>当我们修改了很多文件，而不想每一个都add，想commit自动来提交本地修改，我们可以使用-a标识</p>
<p><code>git commit -a -m‘changed some files’</code></p>
<p>git commit 命令的-a选项可将所有<strong>被修改或者已删除的且已经被git管理的文档</strong>提交到仓库中。</p>
<p>千万注意，-a不会造成新文件被提交，只能修改。</p>
<h3 id="Project-address"><a href="#Project-address" class="headerlink" title="Project address"></a>Project address</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">git remote add origin + address</span><br><span class="line">address:</span><br><span class="line">git@gitlab.zidouchat.com:liuyuhao&#x2F;test.git</span><br></pre></td></tr></table></figure>

<h4 id="新建repo使用git"><a href="#新建repo使用git" class="headerlink" title="新建repo使用git"></a>新建repo使用git</h4><h5 id="Git-global-setup"><a href="#Git-global-setup" class="headerlink" title="Git global setup"></a>Git global setup</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git config --global user.name &quot;liuyuhao&quot;</span><br><span class="line">git config --global user.email &quot;liuyuhao@doodod.com&quot;</span><br></pre></td></tr></table></figure>

<h5 id="Create-a-new-repository"><a href="#Create-a-new-repository" class="headerlink" title="Create a new repository"></a>Create a new repository</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">git clone git@gitlab.zidouchat.com:liuyuhao&#x2F;test.git</span><br><span class="line"></span><br><span class="line">cd repo_name</span><br><span class="line"></span><br><span class="line"># working创建</span><br><span class="line">touch README.md</span><br><span class="line"></span><br><span class="line"># 将file添加到index</span><br><span class="line">git add README.md</span><br><span class="line"></span><br><span class="line"># 将file转移到local repo</span><br><span class="line">git commit -m &quot;add README&quot;</span><br><span class="line"></span><br><span class="line"># push到remote repo</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<h5 id="Push-an-existing-folder"><a href="#Push-an-existing-folder" class="headerlink" title="Push an existing folder"></a>Push an existing folder</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">cd existing_folder</span><br><span class="line">git init</span><br><span class="line">git remote add origin git@gitlab.zidouchat.com:liuyuhao&#x2F;test.git</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;Initial commit&quot;</span><br><span class="line">git push -u origin master</span><br></pre></td></tr></table></figure>

<h5 id="Push-an-existing-Git-repository"><a href="#Push-an-existing-Git-repository" class="headerlink" title="Push an existing Git repository"></a>Push an existing Git repository</h5><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cd existing_repo</span><br><span class="line">git remote rename origin old-origin</span><br><span class="line">git remote add origin git@gitlab.zidouchat.com:liuyuhao&#x2F;test.git</span><br><span class="line">git push -u origin --all</span><br><span class="line">git push -u origin --tags</span><br></pre></td></tr></table></figure>

<h3 id="Git-push报错"><a href="#Git-push报错" class="headerlink" title="Git push报错"></a>Git push报错</h3><h4 id="【origin报错】"><a href="#【origin报错】" class="headerlink" title="【origin报错】"></a><strong>【origin报错】</strong></h4><p>当使用Git进行代码push提交时，出现报错信息<code>“fatal: &#39;origin&#39; does not appear to be a git repository...”，</code></p>
<p><code>$ git push -u origin master</code><br><code>fatal: &#39;origin&#39; does not appear to be a git repository</code><br><code>fatal: Could not read from remote repository.</code></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">是因为远程不存在origin这个仓库名称，可以使用如下操作方法，查看远程仓库名称以及路径相关信息，可以删除错误的远程仓库名称，重新添加新的远程仓库；</span><br><span class="line"></span><br><span class="line">git remote -v:查看远程仓库详细信息，可以看到仓库名称</span><br><span class="line"></span><br><span class="line">git remote remove orign:删除orign仓库（如果把origin拼写成orign，删除错误名称仓库）</span><br><span class="line"></span><br><span class="line">git remote add origin 仓库地址:重新添加远程仓库地址</span><br><span class="line"></span><br><span class="line">git push -u origin master:提交到远程仓库的master主干</span><br></pre></td></tr></table></figure>

<h4 id="【-rejected-master-gt-master-fetch-first-】"><a href="#【-rejected-master-gt-master-fetch-first-】" class="headerlink" title="【! [rejected] master -&gt; master (fetch first)】"></a>【! [rejected] master -&gt; master (fetch first)】</h4><p><strong>报错原因：</strong></p>
<p>remote repository与local repository在version方面不一样</p>
<p><strong>解决方法：</strong></p>
<p>【温柔型】</p>
<p>使用git pull将local与remote的version更新到一样</p>
<p>⚠️：local中的modify可能会被覆盖，最好使用git fetch（不会自动合并）</p>
<p>【暴力型】</p>
<p>git push -f</p>
<p>⚠️忽略版本不一致，将remote repo覆盖</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">同步remote的master</span><br><span class="line">git pull origin master</span><br><span class="line">git push origin master</span><br></pre></td></tr></table></figure>

<h4 id="【-rejected-master-gt-master-pre-receive-hook-declined-】"><a href="#【-rejected-master-gt-master-pre-receive-hook-declined-】" class="headerlink" title="【! [rejected] master -&gt; master (pre-receive hook declined)】"></a>【! [rejected] master -&gt; master (pre-receive hook declined)】</h4><p><strong>【问题原因】</strong></p>
<p>git push上不去的原因在于push的分支权限为protected，只用管理员或者项目的管理员指派具有权限的人才可以操作</p>
<p><strong>【解决方法】</strong></p>
<p>1.将所要push的内容所在的分支protected全县关闭</p>
<ul>
<li>进入project的settings</li>
<li>点击protected branches，点击unprotected，将master分支权限关闭</li>
</ul>
<p>2.新建其他分支，将project push到新的分支上，在进行merge</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># create new branch</span><br><span class="line">git branch new_branch</span><br><span class="line"></span><br><span class="line"># exchange branch</span><br><span class="line">git checkout new_branch</span><br><span class="line"></span><br><span class="line"># push project</span><br><span class="line">git add .</span><br><span class="line">git commit -m &#39;push_mes&#39;</span><br><span class="line">git remote add origin repo_address</span><br><span class="line">git push -u origin new_branch</span><br></pre></td></tr></table></figure>

<h3 id="合并分支"><a href="#合并分支" class="headerlink" title="合并分支"></a>合并分支</h3><p>分支指令</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 查看已有的分支git branch -a# 创建分支git branch newbranch# 切换分支git checkout targetbranch# 合并分支git checkout mastergit merge subbranch# 删除分支git branch -d subbranch# 恢复误删分支git log --查找分支号git branch delbranch分支号# 查看分支图git log --graph# 重新命名分支git branch -m &lt;cur_branch&gt; &lt;new_branch&gt;</span><br></pre></td></tr></table></figure>

<p><strong><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_42780289/article/details/97945300">【如何合并分支】</a></strong></p>
<p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_36672905/article/details/82776293"><strong>【分支的介绍】</strong></a></p>
<h3 id="DevOps"><a href="#DevOps" class="headerlink" title="DevOps"></a>DevOps</h3><p>DevOps(Development OPerations) 是一组过程｜方法｜系统｜的统称，用于促进开发（应用程序｜软件工程）、技术运营和质量保障部门之间的沟通、协作与整合</p>
<h3 id="Pip-报错"><a href="#Pip-报错" class="headerlink" title="Pip 报错"></a>Pip 报错</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">“”“<span class="number">0.</span>首先check在python <span class="built_in">dir</span>是否存在pip	which pythd on	cd /Library/Frameworks/Python.framework/Versions/<span class="number">3.6</span>/<span class="built_in">bin</span>/	ls1.使用pip3｜pip22.sudo easy_install pip[python2.x]”“”</span><br></pre></td></tr></table></figure>

<h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><h4 id="简介"><a href="#简介" class="headerlink" title="简介"></a>简介</h4><p>docker是一个开源的应用容器引擎，可以让开发者打包他们的应用以及依赖包到一个轻量级、可移植的容器中，然后发布到任何流行的 Linux 机器上，也可以实现虚拟化。</p>
<p>容器是完全使用沙箱机制，相互之间不会有任何接口（类似 iPhone 的 app）,更重要的是容器性能开销极低。</p>
<p>Docker 使用客户端-服务器 (C/S) 架构模式，使用远程API来管理和创建Docker容器。</p>
<p>Docker 容器通过 Docker 镜像来创建。</p>
<p>容器与镜像的关系类似于面向对象编程中的对象与类。</p>
<table>
<thead>
<tr>
<th align="center">Docker</th>
<th align="center">面向对象</th>
</tr>
</thead>
<tbody><tr>
<td align="center">容器</td>
<td align="center">对象</td>
</tr>
<tr>
<td align="center">镜像</td>
<td align="center">类</td>
</tr>
</tbody></table>
<h4 id="常用命令"><a href="#常用命令" class="headerlink" title="常用命令"></a>常用命令</h4><h3 id="Flask框架"><a href="#Flask框架" class="headerlink" title="Flask框架"></a>Flask框架</h3><h4 id="什么是Flask框架"><a href="#什么是Flask框架" class="headerlink" title="什么是Flask框架"></a>什么是Flask框架</h4><p>Flask是一个用Python编写的Web应用程序框架。 它由 <strong>Armin Ronacher</strong> 开发，他领导一个名为Pocco的国际Python爱好者团队。 Flask基于Werkzeug WSGI工具包和Jinja2模板引擎。两者都是Pocco项目。</p>
<h4 id="WSGI"><a href="#WSGI" class="headerlink" title="WSGI"></a>WSGI</h4><p>Web Server Gateway Interface（Web服务器网关接口，WSGI）已被用作Python Web应用程序开发的标准。 WSGI是Web服务器和Web应用程序之间通用接口的规范。</p>
<h4 id="Werkzeug"><a href="#Werkzeug" class="headerlink" title="Werkzeug"></a>Werkzeug</h4><p>它是一个WSGI工具包，它实现了请求，响应对象和实用函数。 这使得能够在其上构建web框架。 Flask框架使用Werkzeug作为其基础之一。</p>
<h4 id="jinja2"><a href="#jinja2" class="headerlink" title="jinja2"></a>jinja2</h4><p>jinja2是Python的一个流行的模板引擎。Web模板系统将模板与特定数据源组合以呈现动态网页。</p>
<p>Flask通常被称为微框架。 它旨在保持应用程序的核心简单且可扩展。Flask没有用于数据库处理的内置抽象层，也没有形成验证支持。相反，Flask支持扩展以向应用程序添加此类功能。一些受欢迎的Flask扩展将在本教程后续章节进行讨论。</p>
<h2 id="Day1"><a href="#Day1" class="headerlink" title="Day1"></a>Day1</h2><h3 id="框架"><a href="#框架" class="headerlink" title="框架"></a>框架</h3><h4 id="紫豆助手-团小蜜"><a href="#紫豆助手-团小蜜" class="headerlink" title="紫豆助手|团小蜜"></a>紫豆助手|团小蜜</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">flask</span><br></pre></td></tr></table></figure>

<h3 id="venv"><a href="#venv" class="headerlink" title="venv"></a>venv</h3><h4 id="安装module"><a href="#安装module" class="headerlink" title="安装module"></a>安装module</h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 此命令需要管理员权限，在linux或macossudo pip install virtualenvpip install virtualenv# 创建新的虚拟环境-创建所需目录mkdir newvenvcd newvenv# 配置环境virtualenv venv# 激活linux|macos cd venv/binsource activate# windowsvenv/scripts/activate</span></span><br></pre></td></tr></table></figure>

<h4 id="设置venv"><a href="#设置venv" class="headerlink" title="设置venv"></a><strong>设置venv</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">python -m venv my_venv_name</span><br></pre></td></tr></table></figure>

<h4 id="激活venv"><a href="#激活venv" class="headerlink" title="激活venv"></a><strong>激活venv</strong></h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cd + myvenv&#x2F;binSource + activate</span><br></pre></td></tr></table></figure>

<h4 id="退出venv"><a href="#退出venv" class="headerlink" title="退出venv"></a>退出venv</h4><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">deactivate</span><br></pre></td></tr></table></figure>

<h3 id="ssh"><a href="#ssh" class="headerlink" title="ssh"></a>ssh</h3><p><a target="_blank" rel="noopener" href="https://www.cnblogs.com/ftl1012/p/ssh.html">【详细了解ssh】</a></p>
<p><strong>查看ssh</strong></p>
<p>进入ssh路径<code>cd ~/.ssh</code></p>
<p><strong>generate ssh</strong></p>
<p><code>ssh-keygen -t rsa -C&#39;email@email.com&#39;</code></p>
<p><strong>查看是否链接成功</strong></p>
<p><code>ssh -T git@email@email.com</code></p>
<p><strong>什么是ssh？</strong></p>
<p>·SSH是一种网络协议，用于计算机之间的加密登录</p>
<p>·SSH的默认端口是22，也就是说，你的登录请求会送进远程主机的22端口。使用p参数，可以修改这个端口。</p>
<p><strong>ssh配置完成后有一下文件</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Id_rsa: private keyid_rsa.pub: public keyknow_hosts:ssh会把你每个你访问过计算机的公钥(public key)都记录在~&#x2F;.ssh&#x2F;known_hosts。当下次访问相同计算机时，OpenSSH会核对公钥。如果公钥不同，OpenSSH会发出警告， 避免你受到DNS Hijack之类的攻击。</span><br></pre></td></tr></table></figure>

<p><strong>【什么是know_hosts】</strong></p>
<h3 id="ssh登陆远程服务器"><a href="#ssh登陆远程服务器" class="headerlink" title="ssh登陆远程服务器"></a>ssh登陆远程服务器</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"># 默认端口进入(22)ssh username@ip# 指定端口进入ssh -p port username@ip# 调用图像界面程序ssh -X username@ip</span><br></pre></td></tr></table></figure>

<h3 id="git"><a href="#git" class="headerlink" title="git"></a>git</h3><p><strong>任务阅读</strong></p>
<p><a target="_blank" rel="noopener" href="https://www.runoob.com/git/git-tutorial.html#:~:text=Git%20%E6%98%AF%E4%B8%80%E4%B8%AA%E5%BC%80%E6%BA%90%E7%9A%84%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E7%B3%BB%E7%BB%9F%EF%BC%8C%E7%94%A8%E4%BA%8E%E6%95%8F%E6%8D%B7%E9%AB%98%E6%95%88%E5%9C%B0%E5%A4%84%E7%90%86%E4%BB%BB%E4%BD%95%E6%88%96%E5%B0%8F%E6%88%96%E5%A4%A7%E7%9A%84%E9%A1%B9%E7%9B%AE%E3%80%82%20Git%20%E6%98%AF%20Linus%20Torvalds%20%E4%B8%BA%E4%BA%86%E5%B8%AE%E5%8A%A9%E7%AE%A1%E7%90%86,Linux%20%E5%86%85%E6%A0%B8%E5%BC%80%E5%8F%91%E8%80%8C%E5%BC%80%E5%8F%91%E7%9A%84%E4%B8%80%E4%B8%AA%E5%BC%80%E6%94%BE%E6%BA%90%E7%A0%81%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E8%BD%AF%E4%BB%B6%E3%80%82%20Git%20%E4%B8%8E%E5%B8%B8%E7%94%A8%E7%9A%84%E7%89%88%E6%9C%AC%E6%8E%A7%E5%88%B6%E5%B7%A5%E5%85%B7%20CVS%2C%20Subversion%20%E7%AD%89%E4%B8%8D%E5%90%8C%EF%BC%8C%E5%AE%83%E9%87%87%E7%94%A8%E4%BA%86%E5%88%86%E5%B8%83%E5%BC%8F%E7%89%88%E6%9C%AC%E5%BA%93%E7%9A%84%E6%96%B9%E5%BC%8F%EF%BC%8C%E4%B8%8D%E5%BF%85%E6%9C%8D%E5%8A%A1%E5%99%A8%E7%AB%AF%E8%BD%AF%E4%BB%B6%E6%94%AF%E6%8C%81%E3%80%82">详细了解什么是git</a></p>
<p><strong>什么是git？</strong></p>
<p>Git 是一个开源的分布式版本控制系统，用于敏捷高效地处理任何或小或大的项目。</p>
<p>Git init：初始化git</p>
<h3 id="修改host"><a href="#修改host" class="headerlink" title="修改host"></a>修改host</h3><p>terminal中输入sudo vi /etc/hosts</p>
<p>1.输入本机密码后，打开hosts文件，键盘输入 i （插入），修改hosts文件后，按 esc 键退出,再按shift+：键，再输入w和q，保存退出</p>
<p>2.不保存退出，则按q和！键</p>
<h3 id="mongohub【数据库】"><a href="#mongohub【数据库】" class="headerlink" title="mongohub【数据库】"></a>mongohub【数据库】</h3><p><strong>参见阅读</strong></p>
<p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/59753955">MongoDB 是什么 ? 为什么网页用它？</a></p>
<p>MongoDB 是一个基于分布式文件存储的数据库。由 C++ 语言编写。旨在为 WEB 应用提供可扩展的高性能数据存储解决方案。</p>
<p>MongoDB 是一个介于关系数据库和非关系数据库之间的产品，是非关系数据库当中功能最丰富，最像关系数据库的。</p>
<h3 id="homebrew【包insatll】"><a href="#homebrew【包insatll】" class="headerlink" title="homebrew【包insatll】"></a>homebrew【包insatll】</h3><p>参见阅读<a target="_blank" rel="noopener" href="https://www.jianshu.com/p/de6f1d2d37bf">Homebrew介绍和使用 </a></p>
<p>Homebrew是一款Mac OS平台下的软件包管理工具，拥有安装、卸载、更新、查看、搜索等很多实用的功能。简单的一条指令，就可以实现包管理，而不用你关心各种依赖和文件路径的情况，十分方便快捷。</p>
<h3 id="redis【数据库】"><a href="#redis【数据库】" class="headerlink" title="redis【数据库】"></a>redis【数据库】</h3><p>参见阅读<a target="_blank" rel="noopener" href="https://www.redis.com.cn/tutorial.html">Redis中文教程</a></p>
<p>Redis 是一个开源（BSD许可）的，内存中的数据结构存储系统，它可以用作数据库、缓存和消息中间件。 它支持多种类型的数据结构</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">字符串（strings） 散列（hashes）列表（lists） 集合（sets）有序集合（sorted sets）</span><br><span class="line">范围查询 bitmaps hyperloglogs</span><br><span class="line">地理空间（geospatial） 索引半径查询。</span><br><span class="line">Redis 内置了 复制（replication），LUA脚本（Lua scripting）， LRU驱动事件（LRU eviction），事务（transactions） 和不同级别的磁盘持久化（persistence）， 并通过 Redis哨兵（Sentinel）和自动分区（Cluster）提供高可用性（high availability）。</span><br></pre></td></tr></table></figure>

<h3 id="新拉的项目没有环境"><a href="#新拉的项目没有环境" class="headerlink" title="新拉的项目没有环境"></a>新拉的项目没有环境</h3><p>新拉的project没有对应的环境，也没有对应的terminal</p>
<p>1.首先先在setting中配置虚拟环境，增加新的环境venv</p>
<p>2.在全局路径中寻找requirements.txt文件，查看需要安装的包</p>
<p>3.在terminal中输入</p>
<p>pip install -r requirements.txt</p>
<h3 id="安装文件的使用"><a href="#安装文件的使用" class="headerlink" title="安装文件的使用"></a>安装文件的使用</h3><p>如果requirements.txt不再dir里</p>
<p>使用：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">pip install -r config/requirements.txt</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/08/02/%E7%8B%AC%E5%88%B0%E7%A7%91%E6%8A%80/" data-id="ckrurzwfk0001wsf5hy7g1fe5" data-title="独到科技" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E7%8B%AC%E5%88%B0%E7%A7%91%E6%8A%80/" rel="tag">独到科技</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-每日复盘" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/26/%E6%AF%8F%E6%97%A5%E5%A4%8D%E7%9B%98/" class="article-date">
  <time class="dt-published" datetime="2021-07-26T12:28:52.000Z" itemprop="datePublished">2021-07-26</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/26/%E6%AF%8F%E6%97%A5%E5%A4%8D%E7%9B%98/">每日复盘</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="2021-8-3"><a href="#2021-8-3" class="headerlink" title="2021/8/3"></a>2021/8/3</h2><ul>
<li><input checked="" disabled="" type="checkbox"> git操作逻辑？</li>
</ul>
<p>Working - index - local</p>
<ul>
<li><input disabled="" type="checkbox"> git常用指令？</li>
<li><input checked="" disabled="" type="checkbox"> 生成ssh指令？</li>
</ul>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ssh-keygen -t rsa -C&#39;your@email.com&#39;</span><br></pre></td></tr></table></figure>

<ul>
<li><input disabled="" type="checkbox"> ssh常用指令？</li>
<li><input disabled="" type="checkbox"> git分支的意义？</li>
<li><input disabled="" type="checkbox"> 如何合并不同的分支里的文件</li>
<li><input checked="" disabled="" type="checkbox"> git分支合并不是合并file</li>
</ul>
<hr>
<h3 id="rabbitmq"><a href="#rabbitmq" class="headerlink" title="rabbitmq"></a>rabbitmq</h3><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/79ca08116d57/"><strong>【基础介绍】</strong></a></p>
<h3 id="Docker"><a href="#Docker" class="headerlink" title="Docker"></a>Docker</h3><figure class="highlight dockerfile"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">images. --- &gt; 创建容器</span><br><span class="line"></span><br><span class="line">docker images</span><br><span class="line">docker ps</span><br><span class="line">docker exec -it 容器名/容器id /bin/bash(/bin/sh)</span><br><span class="line">docker rm 容器名/容器id</span><br><span class="line"></span><br><span class="line">tail -<span class="number">100</span>f</span><br><span class="line">docker logs --tail <span class="number">100</span> -f 容器名</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">ssh username@ip -i /Users/edy/.ssh/id_rsa</span><br></pre></td></tr></table></figure>

<h3 id=""><a href="#" class="headerlink" title=""></a></h3><hr>
<h3 id="flink"><a href="#flink" class="headerlink" title="flink"></a>flink</h3><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/96105903?from_voters_page=true"><strong>【基本概念】</strong></a></p>
<h3 id="es｜es索引"><a href="#es｜es索引" class="headerlink" title="es｜es索引"></a>es｜es索引</h3><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/54384152"><strong>【基础知识】</strong></a></p>
<h3 id="xml"><a href="#xml" class="headerlink" title="xml"></a>xml</h3><p><a target="_blank" rel="noopener" href="https://www.w3school.com.cn/xml/xml_intro.asp"><strong>【基础知识】</strong></a></p>
<p>方向</p>
<ul>
<li>智能客服</li>
<li>聚合聊天</li>
<li>推荐</li>
</ul>
<h3 id="异步任务"><a href="#异步任务" class="headerlink" title="异步任务"></a>异步任务</h3><h3 id="Async"><a href="#Async" class="headerlink" title="Async"></a>Async</h3><h3 id="database-索引"><a href="#database-索引" class="headerlink" title="database 索引"></a>database 索引</h3><hr>
<h3 id="celery"><a href="#celery" class="headerlink" title="celery"></a>celery</h3><p><a target="_blank" rel="noopener" href="https://www.celerycn.io/ru-men/celery-chu-ci-shi-yong"><strong>【基础介绍】</strong></a></p>
<h3 id="协程"><a href="#协程" class="headerlink" title="协程"></a>协程</h3><h3 id="kafka"><a href="#kafka" class="headerlink" title="kafka"></a>kafka</h3><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/74063251"><strong>【基础知识】</strong></a></p>
<h2 id="2021-7-28"><a href="#2021-7-28" class="headerlink" title="2021/7/28"></a>2021/7/28</h2><ul>
<li><p><input disabled="" type="checkbox">  linux的查找ordering，locate|find|grep的区别？</p>
</li>
<li><p><input disabled="" type="checkbox">  mysql locate(substr, str),对大小写的敏感性，源码？</p>
</li>
<li><p><input disabled="" type="checkbox">  如何查看database|table的信息？</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"># 查看所有信息</span><br><span class="line"><span class="number">1.</span>查看所有数据库 <span class="keyword">show</span> databases</span><br><span class="line"><span class="number">2.</span>查看所有表</span><br><span class="line">	<span class="keyword">show</span> tables</span><br><span class="line">	<span class="keyword">show</span> <span class="keyword">full</span> tables</span><br><span class="line">	</span><br><span class="line"># 查看详细信息</span><br><span class="line"><span class="number">1.</span>查看表 </span><br><span class="line">	<span class="keyword">desc</span> table_name</span><br><span class="line">	<span class="keyword">show</span> columns <span class="keyword">from</span> student</span><br><span class="line"></span><br><span class="line"># summary</span><br><span class="line"><span class="keyword">show</span> clause can `<span class="keyword">show</span>` <span class="keyword">table</span> <span class="keyword">and</span> databasew</span><br><span class="line"></span><br><span class="line">des can <span class="keyword">only</span> <span class="keyword">describe</span> </span><br></pre></td></tr></table></figure>


</li>
</ul>
<h2 id="2021-7-27"><a href="#2021-7-27" class="headerlink" title="2021/7/27"></a>2021/7/27</h2><ul>
<li><input disabled="" type="checkbox"> python中函数参数的传递是值传递和引用传递？</li>
</ul>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">引用</span><br></pre></td></tr></table></figure>

<ul>
<li><input disabled="" type="checkbox"> linux中如何查看进程？</li>
</ul>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">静态查看</span><br><span class="line">ps -elf（更详细，supPID、subPID）</span><br><span class="line">ps -aux</span><br><span class="line">动态查看</span><br><span class="line">top</span><br></pre></td></tr></table></figure>

<ul>
<li><input disabled="" type="checkbox"> mysql中innodb的优点？</li>
<li><input disabled="" type="checkbox"> 什么是事务型数据库，有什么特点？</li>
<li><input disabled="" type="checkbox"> hash table的实现原理？</li>
<li><input disabled="" type="checkbox"> tuple与list的底层结构有什么不同？</li>
<li><input disabled="" type="checkbox"> class中new和init的魔法方法有什么区别？谁return实例谁什么也不返回</li>
<li><input disabled="" type="checkbox"> bubble sort是怎么实现，quick sort是怎么实现的，时间复杂度是多少？</li>
<li><input disabled="" type="checkbox"> 链接表是怎么实现的？</li>
<li><input disabled="" type="checkbox"> 有序链表中，如何检测其子序列的和与target number是否相等？</li>
</ul>
<h2 id="2021-7-26"><a href="#2021-7-26" class="headerlink" title="2021/7/26"></a>2021/7/26</h2><ul>
<li><p><input disabled="" type="checkbox">  linux的操作逻辑是什么？</p>
</li>
<li><p><input disabled="" type="checkbox">  linux对于file的operations是？</p>
</li>
<li><p><input disabled="" type="checkbox">  linux对于directory的operations是？</p>
</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/07/26/%E6%AF%8F%E6%97%A5%E5%A4%8D%E7%9B%98/" data-id="ckrurzwfj0000wsf5gt8n4lfb" data-title="每日复盘" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Daily-Plan/" rel="tag">Daily Plan</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Eternal-Spirit" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/25/Eternal-Spirit/" class="article-date">
  <time class="dt-published" datetime="2021-07-25T05:51:08.000Z" itemprop="datePublished">2021-07-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/25/Eternal-Spirit/">Eternal-Spirit</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="托马斯·桑卡拉"><a href="#托马斯·桑卡拉" class="headerlink" title="托马斯·桑卡拉"></a>托马斯·桑卡拉</h2><p>【原：上沃尔特法属殖民地】布基纳法索</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/07/25/Eternal-Spirit/" data-id="ckrjccliu00004wf58p17c8ef" data-title="Eternal-Spirit" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Spirit/" rel="tag">Spirit</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Pythonon-Source-Code" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/25/Pythonon-Source-Code/" class="article-date">
  <time class="dt-published" datetime="2021-07-25T03:12:37.000Z" itemprop="datePublished">2021-07-25</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/25/Pythonon-Source-Code/">Pythonon_Source_Code</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="1Python列表【底层-原理-剖析】"><a href="#1Python列表【底层-原理-剖析】" class="headerlink" title="1Python列表【底层|原理|剖析】"></a>1Python列表【底层|原理|剖析】</h2><h3 id="1-创建列表"><a href="#1-创建列表" class="headerlink" title="1.创建列表"></a>1.创建列表</h3><p><strong>结构体</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">typedef</span> <span class="class"><span class="keyword">struct</span>&#123;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> _<span class="title">object</span> *_<span class="title">ob_next</span>;</span></span><br><span class="line">	<span class="class"><span class="keyword">struct</span> _<span class="title">object</span> *_<span class="title">ob_prev</span>;</span> 	<span class="comment">// python内部将对象放在链表进行内存管理</span></span><br><span class="line">	Py_ssize_t ob_refcnt;		<span class="comment">// 引用计数器，就是多少变量用了它</span></span><br><span class="line">	PyObject **ob_item;			<span class="comment">// 指针的指针，存列表的元素</span></span><br><span class="line">	Py_ssize_t ob_size;			<span class="comment">// 已有元素个数</span></span><br><span class="line">	Py_ssize_t allocated;		<span class="comment">// 列表容量，可容纳个数</span></span><br><span class="line">&#125; PyListObject;</span><br></pre></td></tr></table></figure>

<p><strong>创建list</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210725111832.png"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line">PyObject *</span><br><span class="line">PyList_New(Py_ssize_t size)</span><br><span class="line">&#123;</span><br><span class="line">    PyListObject *op;</span><br><span class="line">    <span class="keyword">size_t</span> nbytes;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> SHOW_ALLOC_COUNT</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">int</span> initialized = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">if</span> (!initialized) &#123;</span><br><span class="line">        Py_AtExit(show_alloc);</span><br><span class="line">        initialized = <span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    <span class="comment">// 缓存机制</span></span><br><span class="line">    <span class="keyword">if</span> (size &lt; <span class="number">0</span>) &#123;</span><br><span class="line">        PyErr_BadInternalCall();</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/* Check for overflow without an actual overflow,</span></span><br><span class="line"><span class="comment">     *  which can cause compiler to optimise out */</span></span><br><span class="line">    <span class="keyword">if</span> ((<span class="keyword">size_t</span>)size &gt; PY_SIZE_MAX / <span class="keyword">sizeof</span>(PyObject *))</span><br><span class="line">        <span class="keyword">return</span> PyErr_NoMemory();</span><br><span class="line">    nbytes = size * <span class="keyword">sizeof</span>(PyObject *);</span><br><span class="line">    <span class="keyword">if</span> (numfree) &#123;</span><br><span class="line">        numfree--;</span><br><span class="line">        op = free_list[numfree];</span><br><span class="line">        _Py_NewReference((PyObject *)op);</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> SHOW_ALLOC_COUNT</span></span><br><span class="line">        count_reuse++;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        op = PyObject_GC_New(PyListObject, &amp;PyList_Type);</span><br><span class="line">        <span class="keyword">if</span> (op == <span class="literal">NULL</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">NULL</span>;Py</span><br><span class="line"><span class="meta">#<span class="meta-keyword">ifdef</span> SHOW_ALLOC_COUNT</span></span><br><span class="line">        count_alloc++;</span><br><span class="line"><span class="meta">#<span class="meta-keyword">endif</span></span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (size &lt;= <span class="number">0</span>)</span><br><span class="line">        op-&gt;ob_item = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        op-&gt;ob_item = (PyObject **) PyMem_MALLOC(nbytes);</span><br><span class="line">        <span class="keyword">if</span> (op-&gt;ob_item == <span class="literal">NULL</span>) &#123;</span><br><span class="line">            Py_DECREF(op);</span><br><span class="line">            <span class="keyword">return</span> PyErr_NoMemory();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">memset</span>(op-&gt;ob_item, <span class="number">0</span>, nbytes);</span><br><span class="line">    &#125;</span><br><span class="line">    Py_SIZE(op) = size;  <span class="comment">// 元素个数</span></span><br><span class="line">    op-&gt;allocated = size;   <span class="comment">// 容量</span></span><br><span class="line">    _PyObject_GC_TRACK(op); <span class="comment">//放到双向链表进行维护</span></span><br><span class="line">    <span class="keyword">return</span> (PyObject *) op; <span class="comment">//返回列表的指针</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="2-添加元素"><a href="#2-添加元素" class="headerlink" title="2.添加元素"></a>2.添加元素</h3><p>list中插入一个元素时，扩容连续的内存地址（容量），在内存创建需要插入的内容p，将地址*p放入list的空间中，所以，yListObject的ob_item是指针的指针</p>
<p><code>扩容的曲线一般就是0，4，8，16，24…</code></p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/list_source.png"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 添加元素</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span></span><br><span class="line">app1(PyListObject *self, PyObject *v)</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">// 获取实际元素个数</span></span><br><span class="line">    Py_ssize_t n = PyList_GET_SIZE(self);</span><br><span class="line"></span><br><span class="line">    assert (v != <span class="literal">NULL</span>);</span><br><span class="line">    <span class="keyword">if</span> (n == PY_SSIZE_T_MAX) &#123;</span><br><span class="line">        PyErr_SetString(PyExc_OverflowError,</span><br><span class="line">            <span class="string">&quot;cannot add more objects to list&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 计算当前容量和内部元素个数</span></span><br><span class="line">    <span class="comment">// 直接添加元素/扩容添加</span></span><br><span class="line">    <span class="keyword">if</span> (list_resize(self, n+<span class="number">1</span>) == <span class="number">-1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    <span class="comment">// 将元素添加到ob_item，v</span></span><br><span class="line">    Py_INCREF(v);</span><br><span class="line">    PyList_SET_ITEM(self, n, v);</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><strong>扩容</strong></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 扩容机制</span></span><br><span class="line"> <span class="comment">// newsize: 已存在元素个数+1</span></span><br><span class="line"><span class="keyword">static</span> <span class="keyword">int</span></span><br><span class="line">list_resize(PyListObject *self, Py_ssize_t newsize)</span><br><span class="line">&#123;</span><br><span class="line">    PyObject **items;</span><br><span class="line">    <span class="keyword">size_t</span> new_allocated;</span><br><span class="line">    Py_ssize_t allocated = self-&gt;allocated; <span class="comment">// 当前的容量</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1,容量大于个数</span></span><br><span class="line">    <span class="comment">// 2,个数大于容量的一半（容量足够且没有内存浪费）</span></span><br><span class="line">    <span class="keyword">if</span> (allocated &gt;= newsize &amp;&amp; newsize &gt;= (allocated &gt;&gt; <span class="number">1</span>)) &#123;</span><br><span class="line">        assert(self-&gt;ob_item != <span class="literal">NULL</span> || newsize == <span class="number">0</span>);</span><br><span class="line">        Py_SIZE(self) = newsize;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* </span></span><br><span class="line"><span class="comment">     * The growth pattern is:  0, 4, 8, 16, 25, 35, 46, 58, 72, 88, ...</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">     <span class="comment">// 扩容机制的算法</span></span><br><span class="line">    new_allocated = (newsize &gt;&gt; <span class="number">3</span>) + (newsize &lt; <span class="number">9</span> ? <span class="number">3</span> : <span class="number">6</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* check for integer overflow */</span></span><br><span class="line">    <span class="keyword">if</span> (new_allocated &gt; PY_SIZE_MAX - newsize) &#123;</span><br><span class="line">        PyErr_NoMemory();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        new_allocated += newsize;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (newsize == <span class="number">0</span>)</span><br><span class="line">        new_allocated = <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 扩容/缩容（涉及原来元素的迁移）</span></span><br><span class="line">    items = self-&gt;ob_item;</span><br><span class="line">    <span class="keyword">if</span> (new_allocated &lt;= (PY_SIZE_MAX / <span class="keyword">sizeof</span>(PyObject *)))</span><br><span class="line">        PyMem_RESIZE(items, PyObject *, new_allocated);</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        items = <span class="literal">NULL</span>;</span><br><span class="line">    <span class="keyword">if</span> (items == <span class="literal">NULL</span>) &#123;</span><br><span class="line">        PyErr_NoMemory();</span><br><span class="line">        <span class="keyword">return</span> <span class="number">-1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// 赋值，更新个数和容量</span></span><br><span class="line">    self-&gt;ob_item = items;</span><br><span class="line">    Py_SIZE(self) = newsize;</span><br><span class="line">    self-&gt;allocated = new_allocated;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="3-插入元素"><a href="#3-插入元素" class="headerlink" title="3.插入元素"></a>3.插入元素</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">name_list = []</span><br><span class="line"></span><br><span class="line">name_list.append(<span class="string">&#x27;武沛齐&#x27;</span>)</span><br><span class="line">name_list.append(<span class="string">&#x27;沙雕alex&#x27;</span>)</span><br><span class="line">name_list.append(<span class="string">&#x27;py于&#x27;</span>)</span><br><span class="line"></span><br><span class="line">name_list.insert(<span class="string">&#x27;0, 苑日天&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/listsource1.png"></p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/listsource2.png"></p>
<h3 id="4-移除元素"><a href="#4-移除元素" class="headerlink" title="4.移除元素"></a>4.移除元素</h3><p><strong>list.pop()</strong><br>删除最后一个元素只需要修改size，不需要清除数据，下次append可以直接覆盖这个位置指定索引位置移除后，向前补位</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/listsource3.png"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> PyObject *</span><br><span class="line">listpop(PyListObject *self, PyObject *args)</span><br><span class="line">&#123;</span><br><span class="line">    Py_ssize_t i = <span class="number">-1</span>;</span><br><span class="line">    PyObject *v;</span><br><span class="line">    <span class="keyword">int</span> status;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!PyArg_ParseTuple(args, <span class="string">&quot;|n:pop&quot;</span>, &amp;i))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (Py_SIZE(self) == <span class="number">0</span>) &#123;</span><br><span class="line">        <span class="comment">/* Special-case most common failure cause */</span></span><br><span class="line">        PyErr_SetString(PyExc_IndexError, <span class="string">&quot;pop from empty list&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span>)</span><br><span class="line">        i += Py_SIZE(self);</span><br><span class="line">    <span class="keyword">if</span> (i &lt; <span class="number">0</span> || i &gt;= Py_SIZE(self)) &#123;</span><br><span class="line">        PyErr_SetString(PyExc_IndexError, <span class="string">&quot;pop index out of range&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">NULL</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    v = self-&gt;ob_item[i];</span><br><span class="line">    <span class="comment">// 删除最后一个，仅改变size</span></span><br><span class="line">    <span class="keyword">if</span> (i == Py_SIZE(self) - <span class="number">1</span>) &#123;</span><br><span class="line">        status = list_resize(self, Py_SIZE(self) - <span class="number">1</span>);</span><br><span class="line">        assert(status &gt;= <span class="number">0</span>);</span><br><span class="line">        <span class="keyword">return</span> v; <span class="comment">/* and v now owns the reference the list had */</span></span><br><span class="line">    &#125;</span><br><span class="line">    Py_INCREF(v);</span><br><span class="line">    <span class="comment">// 不是最后一个，需要移动数据位置</span></span><br><span class="line">    status = list_ass_slice(self, i, i+<span class="number">1</span>, (PyObject *)<span class="literal">NULL</span>);</span><br><span class="line">    assert(status &gt;= <span class="number">0</span>);</span><br><span class="line">    <span class="comment">/* Use status, so that in a release build compilers don&#x27;t</span></span><br><span class="line"><span class="comment">     * complain about the unused name.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    (<span class="keyword">void</span>) status;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> v;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="5-清空元素"><a href="#5-清空元素" class="headerlink" title="5.清空元素"></a>5.清空元素</h3><p>list.clear()</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/listsource4.png"></p>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">int</span></span><br><span class="line">list_clear(PyListObject *a)</span><br><span class="line">&#123;</span><br><span class="line">    Py_ssize_t i;</span><br><span class="line">    PyObject **item = a-&gt;ob_item;</span><br><span class="line">    <span class="keyword">if</span> (item != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        i = Py_SIZE(a);</span><br><span class="line">        <span class="comment">// 各个元素设置为空</span></span><br><span class="line">        Py_SIZE(a) = <span class="number">0</span>;</span><br><span class="line">        a-&gt;ob_item = <span class="literal">NULL</span>;</span><br><span class="line">        a-&gt;allocated = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 引用计数器-1</span></span><br><span class="line">        <span class="keyword">while</span> (--i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            Py_XDECREF(item[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        PyMem_FREE(item);</span><br><span class="line">    &#125;</span><br><span class="line"> </span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<h3 id="6-销毁列表"><a href="#6-销毁列表" class="headerlink" title="6.销毁列表"></a>6.销毁列表</h3><p>del list</p>
<ul>
<li>销毁列表对象的操作</li>
<li>将列表的引用计数-1</li>
<li>引用计数&gt;0，还有应用的话不做操作</li>
<li>引用计数=0，没人使用</li>
</ul>
<ol>
<li>处理列表的元素，将所有引用计数-1（GC回收0计数）</li>
<li>ob_item=0,ob_size=0,ob_allocated=0</li>
<li>将列表从双向链表移除，可以销毁</li>
<li>为了提高效率，Python结束期在内部为free_list缓存80个list，存放无使用的list，再创建的时候直接从缓存中拿来初始化。如果已经存了80个，del 的时候直接在内存中销毁对象</li>
</ol>
<figure class="highlight c"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="keyword">void</span></span><br><span class="line">list_dealloc(PyListObject *op)</span><br><span class="line">&#123;</span><br><span class="line">    Py_ssize_t i;</span><br><span class="line">    <span class="comment">// 判断引用计数是否为0</span></span><br><span class="line">    PyObject_GC_UnTrack(op);</span><br><span class="line">    Py_TRASHCAN_SAFE_BEGIN(op)</span><br><span class="line">    <span class="keyword">if</span> (op-&gt;ob_item != <span class="literal">NULL</span>) &#123;</span><br><span class="line">        i = Py_SIZE(op);</span><br><span class="line">        <span class="keyword">while</span> (--i &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            Py_XDECREF(op-&gt;ob_item[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        PyMem_FREE(op-&gt;ob_item);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// free_list没有80个的话缓存这个list</span></span><br><span class="line">    <span class="keyword">if</span> (numfree &lt; PyList_MAXFREELIST &amp;&amp; PyList_CheckExact(op))</span><br><span class="line">        free_list[numfree++] = op;</span><br><span class="line">    <span class="keyword">else</span></span><br><span class="line">        Py_TYPE(op)-&gt;tp_free((PyObject *)op);</span><br><span class="line">    Py_TRASHCAN_SAFE_END(op)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>

<p><code>创建列表时，实际上不会直接开辟内存，而是先看看free_list</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">print(<span class="built_in">id</span>(a))</span><br><span class="line"><span class="keyword">del</span> a</span><br><span class="line">b = [<span class="string">&#x27;sd&#x27;</span>, <span class="string">&#x27;dsada&#x27;</span>]</span><br><span class="line">print(<span class="built_in">id</span>(b))</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">2925874663944</span></span><br><span class="line"><span class="number">2925874663944</span></span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/07/25/Pythonon-Source-Code/" data-id="ckrjcclja00064wf56ht40fvn" data-title="Pythonon_Source_Code" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/source-code/" rel="tag">source-code</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Object-Oriented-Programming" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/24/Object-Oriented-Programming/" class="article-date">
  <time class="dt-published" datetime="2021-07-24T03:33:07.000Z" itemprop="datePublished">2021-07-24</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/24/Object-Oriented-Programming/">Object_Oriented_Programming</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="args-kwargs"><a href="#args-kwargs" class="headerlink" title="*args|**kwargs"></a>*args|**kwargs</h2><p><code>args</code> 是 <code>arguments</code> 的缩写，表示位置参数；</p>
<p><code>kwargs</code> 是<code> keyword arguments</code> 的缩写，表示关键字参数</p>
<p><code> Python</code> 中可变参数的两种形式</p>
<p>并且 <code>*args</code> 必须放在<code> **kwargs</code> 的前面</p>
<p>因为位置参数在关键字参数的前面。</p>
<p><code>*args</code>就是就是传递一个可变参数列表给函数实参，这个参数列表的数目未知，甚至长度可以为0</p>
<p><code>**kwargs</code>则是将一个可变的关键字参数的字典传给函数实参，同样参数列表长度可以为0或为其他值。</p>
<p><code>args</code>和<code>kwargs</code>组合起来可以传入任意的参数，这在参数未知的情况下是很有效的，同时加强了函数的可拓展性</p>
<p><code>*</code>:解包</p>
<h2 id="装饰器【Decorator】"><a href="#装饰器【Decorator】" class="headerlink" title="装饰器【Decorator】"></a>装饰器【Decorator】</h2><h3 id="作用"><a href="#作用" class="headerlink" title="作用"></a>作用</h3><ol>
<li>增加代码可读性</li>
<li>给function加上一些功能，比如加上时间计时器</li>
<li>装饰器本质上是一个函数|类【利用函数闭包：函数nested函数】</li>
<li>减少重复操作</li>
<li>Decorator装饰的函数（define function而不是instance）</li>
</ol>
<h3 id="Example"><a href="#Example" class="headerlink" title="Example"></a>Example</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 输出所有的不大于num的素数</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span>(<span class="params">num</span>):</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, num+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> item % <span class="number">2</span> != <span class="number">0</span>:</span><br><span class="line">            print(item, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">            </span><br><span class="line">&gt;&gt;检测is_prime函数的运行时间</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> time</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span>(<span class="params">num</span>):</span></span><br><span class="line">    t1 = time.time()</span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, num+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> item % <span class="number">2</span> != <span class="number">0</span>:</span><br><span class="line">            print(item, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">    t2 = time.time()</span><br><span class="line">    print(<span class="string">&#x27;\n&#x27;</span>, <span class="string">&#x27;total time:&#123;:.4&#125; s&#x27;</span>.<span class="built_in">format</span>(t2-t1))</span><br><span class="line"></span><br><span class="line">&gt;&gt;增加可读性</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 增加装饰器decorator</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display_time</span>(<span class="params">func</span>):</span></span><br><span class="line">    <span class="comment"># 如果需要装饰的func中需要添加参数，则在wrapper中添加*args，并且func同样添加</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">wrapper</span>(<span class="params">*args</span>):</span></span><br><span class="line">        t1 = time.time()</span><br><span class="line">        func(*args)</span><br><span class="line">        t2 = time.time()</span><br><span class="line">        print(<span class="string">&#x27;\n&#x27;</span>, <span class="string">&#x27;total time:&#123;:.4&#125; s&#x27;</span>.<span class="built_in">format</span>(t2 - t1))</span><br><span class="line">    <span class="keyword">return</span> wrapper</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@display_time</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">is_prime</span>(<span class="params">num</span>):</span></span><br><span class="line">    <span class="keyword">for</span> item <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, num+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> item % <span class="number">2</span> != <span class="number">0</span>:</span><br><span class="line">            print(item, end=<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">            </span><br><span class="line">is_prime(<span class="number">10000</span>)</span><br><span class="line">&gt;&gt;<span class="number">1</span>~<span class="number">9999</span></span><br><span class="line">total time：<span class="number">0.03494</span> s</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/07/24/Object-Oriented-Programming/" data-id="ckrjccliy00014wf5dy51aqdg" data-title="Object_Oriented_Programming" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Object-Oriented/" rel="tag">Object Oriented</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-django" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/22/django/" class="article-date">
  <time class="dt-published" datetime="2021-07-22T13:56:14.000Z" itemprop="datePublished">2021-07-22</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/22/django/">django</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="DjangoBlog"><a href="#DjangoBlog" class="headerlink" title="DjangoBlog"></a>DjangoBlog</h1><h2 id="0-前言"><a href="#0-前言" class="headerlink" title="0.前言"></a>0.前言</h2><h3 id="python连接数据库"><a href="#python连接数据库" class="headerlink" title="python连接数据库"></a>python连接数据库</h3><ol>
<li>在mysql中创建一个数据库mydb</li>
<li>在python中import pymysql</li>
<li>连接数据库</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> pymysql</span><br><span class="line"></span><br><span class="line"><span class="comment"># 这些信息可以去mysql的GUI查询</span></span><br><span class="line">db = pymysql.connect(host=<span class="string">&#x27;localhost&#x27;</span>,</span><br><span class="line">                     user=<span class="string">&#x27;root&#x27;</span>,</span><br><span class="line">                     password=<span class="string">&#x27;*****&#x27;</span>,</span><br><span class="line">                     port=<span class="number">3306</span>,</span><br><span class="line">                     db=<span class="string">&#x27;mydb&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># python控制mysql的逻辑是模拟cursor</span></span><br><span class="line">cursor = db.cursor()</span><br><span class="line"></span><br><span class="line"><span class="comment"># define sql语句</span></span><br><span class="line">sql = <span class="string">&#x27;SELECT STUDENT_NAME, SCORE\</span></span><br><span class="line"><span class="string">	   FORM STUDENT\</span></span><br><span class="line"><span class="string">	   WHERE SCORE &gt;= 60\</span></span><br><span class="line"><span class="string">	   ORDER BY SCORE DESC&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行sql语句</span></span><br><span class="line">cursor.execute(sql)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 将cursor.fetall()return的tuple 赋值给result</span></span><br><span class="line">result = cursor.fetall()</span><br><span class="line"></span><br><span class="line"><span class="comment"># 展示data</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> result:</span><br><span class="line">    print(item, end=<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 每次运行后为了保障安全建议关闭db</span></span><br><span class="line">db.close()</span><br><span class="line"></span><br><span class="line">&gt;&gt;</span><br><span class="line">(<span class="string">&#x27;小红&#x27;</span>, <span class="number">95</span>)</span><br><span class="line">(<span class="string">&#x27;spark&#x27;</span>, <span class="number">88</span>)</span><br><span class="line">(<span class="string">&#x27;小白&#x27;</span>, <span class="number">82</span>)</span><br><span class="line">(<span class="string">&#x27;DRINK&#x27;</span>, <span class="number">80</span>)</span><br><span class="line">(<span class="string">&#x27;NEW&#x27;</span>, <span class="number">80</span>)</span><br><span class="line">(<span class="string">&#x27;OLD&#x27;</span>, <span class="number">78</span>)</span><br><span class="line">(<span class="string">&#x27;SPARK&#x27;</span>, <span class="number">72</span>)</span><br><span class="line">(<span class="string">&#x27;TANT&#x27;</span>, <span class="number">70</span>)</span><br><span class="line">(<span class="string">&#x27;小红&#x27;</span>, <span class="number">60</span>)</span><br></pre></td></tr></table></figure>

<p>Python查询Mysql使用fetchone（）方法获取单条数据，使用fetchall（）方法获取多条数据。</p>
<ul>
<li><strong>fetchone（）：该方法获取下一个查询结果集。结果集是一个对象[return single tuple]</strong></li>
<li><strong>fetchall（）：接收全部的返回结果行。[return multiple tuples]</strong></li>
<li><strong>rowcount：这是一个只读属性，并返回执行execute（）方法后影响的行数。</strong></li>
</ul>
<h3 id="创建虚拟环境"><a href="#创建虚拟环境" class="headerlink" title="创建虚拟环境"></a>创建虚拟环境</h3><p>在terminal中输入</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 在当前目录中创建虚拟环境</span></span><br><span class="line">python -m venv myvenv[虚拟环境的名字]</span><br><span class="line"></span><br><span class="line"><span class="comment"># 激活虚拟环境</span></span><br><span class="line">cd myvenv\Scripts&gt;activate</span><br><span class="line"></span><br><span class="line"><span class="comment"># 退出虚拟环境</span></span><br><span class="line">deactivate</span><br></pre></td></tr></table></figure>

<p><strong>虚拟环境的优点</strong></p>
<ol>
<li>使不同应用开发环境独立</li>
<li>环境升级不影响其他应用，也不会影响全局的python环境</li>
<li>它可以防止系统中出现包管理混乱和版本的冲突</li>
</ol>
<p><code>pip list</code>查看已经安装的module</p>
<h3 id="CD命令"><a href="#CD命令" class="headerlink" title="CD命令"></a>CD命令</h3><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#</span><span class="bash"> 切换路径</span></span><br><span class="line">xxx:cd /d D:+绝对路径</span><br><span class="line"></span><br><span class="line"><span class="meta">#</span><span class="bash"> 返回上一层</span></span><br><span class="line">xxx:cd..</span><br></pre></td></tr></table></figure>

<h3 id="requirements-txt项目依赖"><a href="#requirements-txt项目依赖" class="headerlink" title="requirements.txt项目依赖"></a>requirements.txt项目依赖</h3><p>可以是项目在另一个环境上重新构建项目所需要运行的环境依赖包</p>
<p><strong>【将依赖包目录打包到项目里】</strong></p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">使用之前先在terminal里使用cd切换好路径</span><br><span class="line">xxx： cd /d +绝对路径</span><br></pre></td></tr></table></figure>

<p><strong>第一种【适合但虚拟环境】</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># terminal windows使用</span></span><br><span class="line">pip freeze &gt; requirements.txt</span><br></pre></td></tr></table></figure>

<p>这种方式，会将环境中的依赖包全都加入，如果使用的全局环境，则下载的所有包都会在里面，不管是不时当前项目依赖的</p>
<p><strong>第二种【优先选择】</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装</span></span><br><span class="line">pip install pipreqs</span><br><span class="line"></span><br><span class="line"><span class="comment"># terminal windows使用</span></span><br><span class="line">pipreqs . --encoding=utf8 --force</span><br></pre></td></tr></table></figure>

<p><strong>【释放依赖包项目】</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># terminal windows使用</span></span><br><span class="line">pip install -r requirements.txt</span><br></pre></td></tr></table></figure>

<h2 id="1-配置虚拟环境"><a href="#1-配置虚拟环境" class="headerlink" title="1.配置虚拟环境"></a>1.配置虚拟环境</h2><p>虚拟环境（virtualenv、venv）</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/07/22/django/" data-id="ckrgbhwb50000bgf574olc9xb" data-title="django" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/django/" rel="tag">django</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-后端工程师" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/21/%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/" class="article-date">
  <time class="dt-published" datetime="2021-07-21T09:01:38.000Z" itemprop="datePublished">2021-07-21</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/21/%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/">后端工程师</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="1-后端项目实战"><a href="#1-后端项目实战" class="headerlink" title="1.后端项目实战"></a>1.后端项目实战</h2><p><strong>Python+Django+MySQL</strong></p>
<h2 id="前期准备"><a href="#前期准备" class="headerlink" title="前期准备"></a>前期准备</h2><h3 id="1-CD-shell"><a href="#1-CD-shell" class="headerlink" title="1.CD[shell]"></a>1.CD[shell]</h3><ol>
<li><em>cd</em> 即 <code>Change Directory</code>，切换路径，可以通过在后面添加接驱动器符号、完整路径和相对路径来实现路径的转换。</li>
<li>命令行工具：<code>Windows+R</code>打开运行窗口，输入<code>cmd</code>，进入命令行工具界面，默认目录为当前用户所在的目录</li>
</ol>
<h3 id="2-使用方法"><a href="#2-使用方法" class="headerlink" title="2.使用方法"></a>2.使用方法</h3><ol>
<li><p>回到根目录</p>
<p> <code>cd/</code></p>
</li>
<li><p>回到上一层目录</p>
<p> <code>cd..</code></p>
</li>
<li><p>进入任一目录</p>
<p><strong>方法1：</strong><br>(1) 直接输入<code>[该目录所在盘区]:</code>    ——以此进入该盘区目录；<br>(2) 然后输入<code>cd [在盘区下相对路径]</code> ——以此进入该目录；</p>
</li>
</ol>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">default C:\Users\Administrator</span><br><span class="line"><span class="meta">#</span><span class="bash"> 切换硬盘</span></span><br><span class="line">C:\Users\Administrator:D</span><br><span class="line">D:\&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 进入盘中的路径</span></span><br><span class="line">D:\&gt;cd django_project</span><br><span class="line">D:\django_project&gt;</span><br><span class="line"><span class="meta">#</span><span class="bash"> 返回上一层</span></span><br><span class="line">D:\django_project&gt;c..</span><br><span class="line"><span class="meta">#</span><span class="bash"> 直接切换由C--&gt;D</span></span><br><span class="line">cd /d +绝对路径</span><br><span class="line">cd /d D:\django_project</span><br></pre></td></tr></table></figure>















<h2 id="0-问题"><a href="#0-问题" class="headerlink" title="0.问题"></a>0.问题</h2><h2 id="侧重的知识"><a href="#侧重的知识" class="headerlink" title="侧重的知识"></a>侧重的知识</h2><p>在我参加的后台开发岗位面试中，主要有以下知识是比较侧重</p>
<p>\1. 数据库CRUD操作/查询优化以及数据库知识量</p>
<p>\2. 框架的对比和了解/项目具体模块的业务逻辑描述</p>
<p>\3. 常见排序算法</p>
<p>\4. Linux系统的常用命令和Linux系统了解程度考核</p>
<p>\5. 项目部署用到的服务器的配置和了解程度</p>
<h2 id="加分项"><a href="#加分项" class="headerlink" title="加分项"></a>加分项</h2><ol>
<li>数据库基本功必须掌握但同时更重要的是理解为什么和是如何实现的，拓展自己知识面</li>
<li>Linux系统的底层原理和了解程度</li>
<li>目前Golang在后端中也逐渐流行，有时间还是需要去掌握</li>
<li>技术没有终点，保持乐于学习和接受新技术的心态，面试官看重技术能力同时也更看重你的心态</li>
<li>自信且好学</li>
</ol>
<h2 id="面试提问到的问题"><a href="#面试提问到的问题" class="headerlink" title="面试提问到的问题"></a>面试提问到的问题</h2><p>问题就给大家了，答案自己去查找吧，只有经过自己努力的东西才会格外珍惜。</p>
<h2 id="Python相关"><a href="#Python相关" class="headerlink" title="Python相关"></a>Python相关</h2><ol>
<li>实现一个单例模式</li>
<li>实现一个装饰器</li>
<li>用Python实现快排</li>
<li>如果系统中需要很多个Python版本，如何进行Python版本的管理</li>
<li>如何实现一个全局变量？(除了global,还可以通过单例模式)</li>
</ol>
<h2 id="数据库相关"><a href="#数据库相关" class="headerlink" title="数据库相关"></a>数据库相关</h2><ol>
<li>数据库的数据是实时更新的吗？每点击一次，数据库数据修改一次？</li>
<li>Redis hash的个数</li>
<li>如何修改Redis数据库的库的个数？</li>
<li>Redis数据库如何实现持久化</li>
<li>Redis数据库支持的数据类型</li>
<li>Redis使用AOF方式持久化，aof文件不断增大，如何处理？</li>
<li>Redis数据库如何设置密码</li>
<li>hash表是如何生成的</li>
<li>MySQL数据库如何使用sql语句插入一条数据</li>
<li>MySQL数据库的慢查询有了解过吗</li>
<li>MySQL数据库如何进行查询优化</li>
<li>如何很多请求同时对Redis的同一个键进行访问，如何保证数据安全</li>
<li>说说Redis的淘汰机制</li>
<li>我的MySQL数据库每天晚上12点进行全备份。第二天有员工在9点钟误删除了一个数据库，但在10点钟才被发现。问如何进行恢复被误删除的数据库并同时保留9点到10点钟新增的数据同时不影响业务的正常运行?</li>
<li>当数据越来越多，如何避免hash槽中key出现相同的情况?</li>
<li>MongoDB在哪些场合使用过？</li>
</ol>
<h2 id="项目部署相关"><a href="#项目部署相关" class="headerlink" title="项目部署相关"></a>项目部署相关</h2><ol>
<li>大家都说Nginx快？快的原因是什么？</li>
<li>对RPC了解吗?</li>
<li>如何在服务器上设置业务进程数？</li>
<li>说说正向代理和反向代理</li>
</ol>
<h2 id="Linux相关"><a href="#Linux相关" class="headerlink" title="Linux相关"></a>Linux相关</h2><ol>
<li>如何查看剩余内存</li>
<li>如何查看端口是否被占用</li>
<li>如何查看一个程序的PID以及它的所有子进程</li>
<li>如何为一个目录下的所有文件添加权限</li>
<li>如果你对一个目录具有写权限，那么你是否具有对这个目录下的所有文件具有删除权限？</li>
<li>对Linux多路复用的理解</li>
<li>修改IP地址的方法</li>
</ol>
<h2 id="前端相关"><a href="#前端相关" class="headerlink" title="前端相关"></a>前端相关</h2><ol>
<li>对前端HTML CSS 和 JS了解多少？熟悉吗？</li>
<li>对React和bootstrap了解吗?</li>
<li>如何进行http优化？(响应头设置Content-Encoding: gzip)</li>
</ol>
<h2 id="网络编程相关"><a href="#网络编程相关" class="headerlink" title="网络编程相关"></a>网络编程相关</h2><ol>
<li>说一下实现TCP建立连接的过程以及当时进入了什么状态？为什么建立连接只需要3次，断开连接需要4次？为什么断开连接时第二次和第三次要分开，不能合在一起吗？</li>
</ol>
<h2 id="项目相关"><a href="#项目相关" class="headerlink" title="项目相关"></a>项目相关</h2><ol>
<li>说一下一个请求过来到返回response的过程</li>
<li>如何实现单点登录</li>
<li>JWT token是如何进行生成和校验的</li>
<li>了解过哪些后端框架？Tornado了解吗?</li>
<li>了解过webapp2吗</li>
<li>Django如何实现csrf攻击保护</li>
<li>说说你项目中遇到的困难以及如何解决</li>
<li>说说你认为自己最有成就感或最深刻的项目</li>
<li>对KAFKA了解吗？用过哪些消息队列？使用过RabbitMQ吗?</li>
<li>项目团队几个人？开发多长时间？</li>
</ol>
<h2 id="版本控制相关"><a href="#版本控制相关" class="headerlink" title="版本控制相关"></a>版本控制相关</h2><ol>
<li>如何从远程仓库拉取分支到本地</li>
<li>如何进行版本回退</li>
</ol>
<h2 id="其他"><a href="#其他" class="headerlink" title="其他"></a>其他</h2><ol>
<li>Celery的原理和应用场景</li>
<li>Elasticsearch 的原理</li>
<li>平时是如何学习的?有关注哪些技术?</li>
<li>Docker的了解，常用命令，如何暴露端口</li>
<li>对ERP了解吗？Odoo了解吗?</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/07/21/%E5%90%8E%E7%AB%AF%E5%B7%A5%E7%A8%8B%E5%B8%88/" data-id="ckrdlr5jp0000j8f50vzf7oz7" data-title="后端工程师" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python%E5%90%8E%E7%AB%AF/" rel="tag">Python后端</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Linux" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/18/Linux/" class="article-date">
  <time class="dt-published" datetime="2021-07-18T05:45:13.000Z" itemprop="datePublished">2021-07-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/18/Linux/">Linux</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="0-安装"><a href="#0-安装" class="headerlink" title="0.安装"></a>0.安装</h2><ol>
<li>官网上获得版本偶数版为稳定版，奇数版位测试版</li>
<li>下载VMware14pro，安装码百度即可</li>
<li>选择编辑添加新虚拟机</li>
<li>其中虚拟机设置里将CD/DVD 2（IED）设置为<code>centOS-8-×86_64-1905-dcd.iso</code>的路径</li>
</ol>
<p>如果开始时出现</p>
<p><strong>Pane is dead.窗格已死，解决方法为：</strong></p>
<p>​    1、把内存从1G升到2G，不管用。</p>
<p>​    2、按住 Ctrl+alt+F2， 然后输出 reboot， 依然不行。</p>
<p>​    3、更改ISO默认的映像文件，【step4】</p>
<p>安装时选择工作站版即可</p>
<h2 id="linux指令"><a href="#linux指令" class="headerlink" title="linux指令"></a>linux指令</h2><h3 id="切换用户"><a href="#切换用户" class="headerlink" title="切换用户"></a>切换用户</h3><p><strong>用户标识</strong></p>
<ul>
<li>$表示普通用户</li>
<li>#表示超级用户，也就是root用户</li>
</ul>
<p><strong>0.创建common user$</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">useradd username</span><br></pre></td></tr></table></figure>

<p><strong>1.切换common user$</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su username</span><br></pre></td></tr></table></figure>

<p><strong>2.切换到root#</strong></p>
<figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo su</span><br></pre></td></tr></table></figure>

<p><strong>【用户操作】</strong></p>
<ol>
<li>在终端输入exit或logout或使用快捷方式ctrl+d，可以退回到原来用户</li>
<li>在切换用户时，如果想在切换用户之后使用新用户的工作环境，可以在su和username之间加-，例如：【su - root】</li>
</ol>
<h3 id="查看进程"><a href="#查看进程" class="headerlink" title="查看进程"></a>查看进程</h3><p><strong>【静态查看进程信息】</strong></p>
<p>ps命令</p>
<ul>
<li><p>ps -aux</p>
</li>
<li><p>ps -elf</p>
</li>
</ul>
<p>信息更详细些，包括 PPID (对应的父进程 的PID 号)</p>
<p><strong>【动态查看进程信息】</strong></p>
<p>top命令</p>
<p><code>M: sorted by memory</code></p>
<p><code>N: sorted by time</code></p>
<p><code>p: sorted by GPU</code></p>
<p><code>q: 退出</code></p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/07/18/Linux/" data-id="ckrarjjgi00008of52xj2aau5" data-title="Linux" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-MySQL" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/18/MySQL/" class="article-date">
  <time class="dt-published" datetime="2021-07-18T05:43:55.000Z" itemprop="datePublished">2021-07-18</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/18/MySQL/">MySQL</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="1-MySQL"><a href="#1-MySQL" class="headerlink" title="1.MySQL"></a>1.MySQL</h2><h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><h3 id="round"><a href="#round" class="headerlink" title="round"></a>round</h3><p>【round(avg(COL_1), NUM)】:计算col_1的平均值并保留num有效数字</p>
<p>四舍五入</p>
<figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> ROUND(<span class="built_in">AVG</span>(SCORE), <span class="number">1</span>) <span class="keyword">AS</span> `AVEAGE SCORE`</span><br><span class="line"><span class="keyword">FROM</span> STUDNET</span><br><span class="line"><span class="operator">&gt;&gt;</span></span><br><span class="line"><span class="number">90.1</span></span><br><span class="line"><span class="number">80.2</span></span><br><span class="line">...</span><br></pre></td></tr></table></figure>

<h3 id="length"><a href="#length" class="headerlink" title="length"></a>length</h3><p>length(‘char’)</p>
<ul>
<li>中文算三个长度</li>
<li>alpha和number算一个长度</li>
</ul>
<h2 id="快捷指令"><a href="#快捷指令" class="headerlink" title="快捷指令"></a>快捷指令</h2><p>常用快捷键：</p>
<p><strong>1、执行整篇sql脚本</strong></p>
<p><code>【Ctrl】+【Shift】+【Enter】</code></p>
<p><strong>2、执行当前行：</strong></p>
<p><code>【Ctrl】+【Enter】</code></p>
<p><strong>3、注释/取消注释：</strong></p>
<p><code>【Ctrl】+【/】</code></p>
<p><strong>4、格式化sql语句（美化sql语句）：</strong></p>
<p><code>【Ctrl】+【B】 </code></p>
<p>5、（貌似和输入法有冲突）自动补全：【Ctrl】+【Space】 ，还可以使用edit-&gt;Auto-complete手动展示补全。如果有冲突可以去下面的文件找到Auto complete进行修改。Modifier的意思就是Ctrl键。</p>
<p>修改快捷键：</p>
<p>在安装根目录查到\data\main_menu.xml这个文件（Ubuntu放在/usr/share/mysql-workbench）。</p>
<p><strong>6.MySQL Clint清屏</strong></p>
<p><code>system cls</code></p>
<h2 id="Error"><a href="#Error" class="headerlink" title="Error"></a>Error</h2><p>Error Code: 1054. Unknown column ‘%%’ in ‘where clause’</p>
<p>出现类似的语法错误时，首先考虑是 <strong>‘</strong> 还是 <strong>`</strong> 出错了</p>
<p>一个是syntax error 一个是通配符使用</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">SELECT COL_NAME</span><br><span class="line">FROM TABLE_NAME</span><br><span class="line">WHERE STUDENT_NAME LIKE &#39;小%&#39;;</span><br><span class="line"></span><br><span class="line">SELECT &#96;COL_NAME&#96;</span><br><span class="line">FROM &#96;DATABASE_NAME&#96;.&#96;TABLE_NAME&#96;</span><br></pre></td></tr></table></figure>

<p>`DataBase/Table``     ‘wildcard’ </p>
<h2 id="问题"><a href="#问题" class="headerlink" title="问题"></a>问题</h2><h3 id="Schema和DataBase是否等同？"><a href="#Schema和DataBase是否等同？" class="headerlink" title="Schema和DataBase是否等同？"></a>Schema和DataBase是否等同？</h3><p><strong>schema是数据库的组织和结构，是数据库对象的集合，集合包括表，视图，储存过程，索引等。</strong></p>
<p>（1）MySQL的文档中指出，在物理上，模式与数据库是同义的，所以，模式和数据库是一回事。</p>
<p>（2）但是，Oracle的文档却指出，某些对象可以存储在数据库中，但不能存储在schema中。 因此，模式和数据库不是一回事。</p>
<p>（3）而根据这篇SQL Server技术文章<a target="_blank" rel="noopener" href="https://technet.microsoft.com/en-us/library/dd283095(v=sql.100).aspx">SQLServer technical article</a>，schema是数据库SQL Server内部的一个独立的实体。 所以，他们也不是一回事。</p>
<p>因此，取决于您使用的RDBMS，模式和数据库可能不一样。</p>
<h3 id="引擎"><a href="#引擎" class="headerlink" title="引擎"></a>引擎</h3><p><img src="https://upload-images.jianshu.io/upload_images/11464886-82267cb5926d26fb.png?imageMogr2/auto-orient/strip%7CimageView2/2/w/1200/format/webp" alt="img"></p>
<p><strong>【InnoDB】事务性数据库</strong></p>
<p><strong>【事务】</strong></p>
<p>子性、一致性、隔离性、持久性。这四个属性通常称为<strong>ACID特性</strong>。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">原子性（atomicity）。一个事务是一个不可分割的工作单位，事务中包括的操作要么都做，要么都不做。</span><br><span class="line"></span><br><span class="line">一致性（consistency）。事务必须是使数据库从一个一致性状态变到另一个一致性状态。一致性与原子性是密切相关的。</span><br><span class="line"></span><br><span class="line">隔离性（isolation）。一个事务的执行不能被其他事务干扰。即一个事务内部的操作及使用的数据对并发的其他事务是隔离的，并发执行的各个事务之间不能互相干扰。</span><br><span class="line"></span><br><span class="line">持久性（durability）。持久性也称永久性（permanence），指一个事务一旦提交，它对数据库中数据的改变就应该是永久性的。接下来的其他操作或故障不应该对其有任何影响。</span><br></pre></td></tr></table></figure>

<p>具有<strong>提交、回滚、崩溃恢复能力</strong>的事物安全（ACID兼容）能力，并要求实现并发控制同时支持外键</p>
<p><strong>【MyISAM】</strong></p>
<p>数据表主要用来<strong>插入</strong>和<strong>查询记录</strong>MyISAM引擎能提供较高的处理效率</p>
<p><strong>【Memory】</strong></p>
<p>如果<strong>只是临时存放数据，</strong>数据量不大，并且不需要较高的数据安全性，可以选择将数据保存在内存中的Memory引擎，<strong>MySQL中使用该引擎作为临时表</strong>，存放查询的中间结果</p>
<p><strong>【Archive】仓库型数据库</strong></p>
<p>如果只有<strong>INSERT和SELECT操作</strong>，可以选择Archive，Archive支持高并发的插入操作，但是本身不是事务安全的。Archive非常适合存储归档数据，如记录日志信息可以使用Archive</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/07/18/MySQL/" data-id="ckrarjjgm00018of58kwa2icz" data-title="MySQL" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Algorithm" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/11/Algorithm/" class="article-date">
  <time class="dt-published" datetime="2021-07-11T12:45:50.000Z" itemprop="datePublished">2021-07-11</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/11/Algorithm/">Algorithm</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="递归"><a href="#递归" class="headerlink" title="递归"></a>递归</h2><h3 id="1-E跳台阶-star"><a href="#1-E跳台阶-star" class="headerlink" title="1.E跳台阶[:star:]"></a>1.E跳台阶[:star:]</h3><h4 id="思路"><a href="#思路" class="headerlink" title="思路"></a>思路</h4><p><strong>【递归思想，类似于斐波那契数列】</strong></p>
<p>一只青蛙一次可以跳上1级台阶，也可以跳上2级。求该青蛙跳上一个n级的台阶总共有多少种跳法（先后次序不同算不同的结果）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># method 1 recursion 2**n</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">drump</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> n == <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">    <span class="keyword">elif</span> n == <span class="number">2</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> drump(n-<span class="number">1</span>) + drump(n-<span class="number">2</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># method 2 loop n</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">jump</span>(<span class="params">number</span>):</span></span><br><span class="line">    <span class="keyword">if</span> number &lt; <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    a, b = <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(number):</span><br><span class="line">        a, b = b, a + b</span><br><span class="line">    <span class="keyword">return</span> b</span><br></pre></td></tr></table></figure>

<h2 id="排序"><a href="#排序" class="headerlink" title="排序"></a>排序</h2><h3 id="1-M排序"><a href="#1-M排序" class="headerlink" title="1.M排序"></a>1.M排序</h3><p>给定一个数组，请你编写一个函数，返回该数组排序后的形式。</p>
<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">sorted</span>(a)</span><br><span class="line">&gt;&gt;</span><br><span class="line">exchange</span><br><span class="line">bubble-&gt;select</span><br><span class="line">ordereder</span><br><span class="line">insert-&gt;shell</span><br><span class="line">divide <span class="keyword">and</span> conquer</span><br><span class="line">merge-&gt;quick</span><br></pre></td></tr></table></figure>

<h3 id="2-M最小的k个数"><a href="#2-M最小的k个数" class="headerlink" title="2.M最小的k个数"></a>2.M最小的k个数</h3><p>给定一个数组，找出其中最小的K个数。例如数组元素是4,5,1,6,2,7,3,8这8个数字，则最小的4个数字是1,2,3,4。</p>
<ul>
<li>0 &lt;= k &lt;= input.length &lt;= 10000</li>
<li>0 &lt;= input[i] &lt;= 10000</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">GetLeastNumbers_Solution</span>(<span class="params">self, tinput, k</span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        temp = <span class="built_in">sorted</span>(tinput)</span><br><span class="line">        <span class="keyword">return</span> temp[:k]</span><br><span class="line"><span class="comment"># 使用bubble控制遍历次数得出最小的n个数</span></span><br><span class="line">a = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">7</span>, <span class="number">3</span>, <span class="number">8</span>]</span><br><span class="line">temp = []</span><br><span class="line">n = <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(a)-<span class="number">1</span>, <span class="built_in">len</span>(a)-<span class="number">5</span>, -<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i):</span><br><span class="line">        <span class="keyword">if</span> a[j+<span class="number">1</span>] &gt; a[j]:</span><br><span class="line">            a[j], a[j+<span class="number">1</span>] = a[j+<span class="number">1</span>], a[j]</span><br><span class="line">    temp.append(a.pop())</span><br><span class="line">print(temp)</span><br></pre></td></tr></table></figure>

<h2 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h2><h3 id="1-E两数之和"><a href="#1-E两数之和" class="headerlink" title="1.E两数之和"></a>1.E两数之和</h3><h4 id="思路-1"><a href="#思路-1" class="headerlink" title="思路"></a>思路</h4><p><strong>【enurmate(iteration)–&gt;return index–value】</strong></p>
<p>给出一个整数数组，请在数组中找出两个加起来等于目标值的数，</p>
<p>你给出的函数twoSum 需要返回这两个数字的下标（index1，index2），需要满足 index1 小于index2.。注意：下标是从1开始的假设给出的数组中只存在唯一解</p>
<p>例如：</p>
<p>给出的数组为 {20, 70, 110, 150},目标值为90<br>输出 index1=1, index2=2</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># time complexity O(n^2)</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">twoSum</span>(<span class="params">self , numbers , target </span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">for</span> index1, value1 <span class="keyword">in</span> <span class="built_in">enumerate</span>(numbers):</span><br><span class="line">            <span class="keyword">for</span> index2, value2 <span class="keyword">in</span> <span class="built_in">enumerate</span>(numbers):</span><br><span class="line">                <span class="keyword">if</span> index1 == index2:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">elif</span> value1 + value2 == target:</span><br><span class="line">                    <span class="keyword">return</span> [index1+<span class="number">1</span>, index2+<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h3 id="2-M最长无重复子数组-DP-star"><a href="#2-M最长无重复子数组-DP-star" class="headerlink" title="2.M最长无重复子数组[DP:star:]"></a>2.M最长无重复子数组[DP:star:]</h3><h4 id="思路-2"><a href="#思路-2" class="headerlink" title="思路"></a>思路</h4><p><strong>【1.双指针】</strong></p>
<p>方法一和方法二本质上属于同一个解法</p>
<p><strong>【2.temp记录:simulation-&gt;queue】</strong></p>
<p>注意使用temp(以list为例)时,所有的测试用例只有再使用slice[i+1:]更新cur_temp时才不会报错,如果直接使用.clear()或者cur_list = []会报错</p>
<p><strong>思路错误</strong>:不应该直接更新cur=[],应该将相同的元素排出去,类似于队列(queue)</p>
<p>[1 2 3 4 5 1]–…cur…–&gt;[1 2 3 4 5]</p>
<p>‘1’–&gt;pop// –&gt;[1 |–&gt; 2 3 4 5 1]</p>
<p>result:–&gt;[2 3 4 5 1]</p>
<p>如果将cur变为[],则结果为:four:</p>
<p><strong>【3.DynamicProgramming】</strong></p>
<p>从思路上可以理解为dp【i】与dp【i-1】取max，dp：指当前考虑第i个元素的最大长度与考虑第i-1个元素(不考虑第i个元素)的最长无重复数组</p>
<p>这里设置一个方法def dp_len(temp， ele)用于检测ele是否在temp里，并且更新temp返回更新后的temp和len(temp)用于后续的比较</p>
<p><strong>题目</strong></p>
<p>给定一个数组arr，返回arr的最长无重复元素子数组的长度，无重复指的是所有数字都不相同。</p>
<p>子数组是连续的，比如[1,3,5,7,9]的子数组有[1,3]，[3,5,7]等等，但是[1,3,7]不是子数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># method 1 </span></span><br><span class="line"><span class="comment"># 使用队列queue模拟</span></span><br><span class="line">a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">1</span>, <span class="number">5</span>]</span><br><span class="line">long = <span class="number">0</span></span><br><span class="line">queue = []</span><br><span class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> a:</span><br><span class="line">    <span class="keyword">while</span> ele <span class="keyword">in</span> queue:</span><br><span class="line">        queue.pop(<span class="number">0</span>)</span><br><span class="line">    queue.append(ele)</span><br><span class="line">    long = <span class="built_in">max</span>(long, <span class="built_in">len</span>(queue))</span><br><span class="line">print(long)</span><br><span class="line"></span><br><span class="line"><span class="comment"># methond 2</span></span><br><span class="line"><span class="comment"># list记录,再使用slice更新</span></span><br><span class="line">arr = [<span class="number">2</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">99</span>, <span class="number">3</span>]</span><br><span class="line">long, cur_seq = <span class="number">0</span>, []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> arr:</span><br><span class="line">    <span class="keyword">if</span> i <span class="keyword">in</span> cur_seq:</span><br><span class="line">        long = <span class="built_in">max</span>(long, <span class="built_in">len</span>(cur_seq))</span><br><span class="line">        start = cur_seq.index(i)</span><br><span class="line">        cur_seq = cur_seq[start + <span class="number">1</span>:]</span><br><span class="line">    cur_seq.append(i)</span><br><span class="line">print(<span class="built_in">max</span>(long, <span class="built_in">len</span>(cur_seq)))</span><br><span class="line"></span><br><span class="line"><span class="comment"># methond3</span></span><br><span class="line"><span class="comment"># 动态规划</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxLength</span>(<span class="params">self, a</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(a) == <span class="number">1</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">1</span></span><br><span class="line">        dp = [<span class="number">0</span>]*(<span class="built_in">len</span>(a)+<span class="number">1</span>)</span><br><span class="line">        dp[<span class="number">0</span>] = <span class="number">0</span></span><br><span class="line">        cur_list = a[:<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(a)):</span><br><span class="line">            progress = self.dp_len(cur_list, a[i])</span><br><span class="line">            dp[i] = <span class="built_in">max</span>(dp[i-<span class="number">1</span>], progress[<span class="number">0</span>])</span><br><span class="line">            cur_list = progress[<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(dp)</span><br><span class="line">    <span class="comment"># update the situation</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dp_len</span>(<span class="params">self, temp, ele</span>):</span></span><br><span class="line">        <span class="keyword">while</span> ele <span class="keyword">in</span> temp:</span><br><span class="line">            temp.pop(<span class="number">0</span>)</span><br><span class="line">        temp.append(ele)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(temp), temp</span><br></pre></td></tr></table></figure>

<h3 id="3-M合并两个有序的数组"><a href="#3-M合并两个有序的数组" class="headerlink" title="3.M合并两个有序的数组"></a>3.M合并两个有序的数组</h3><h4 id="思路-3"><a href="#思路-3" class="headerlink" title="思路"></a>思路</h4><p><strong>[1.先将数据合成到一个数组中,之后对数组进行排序]</strong></p>
<p><strong>[2.使用merge sort的思想]</strong></p>
<p>例1:</p>
<p>A: [1,2,3,0,0,0]，m=3</p>
<p>B: [2,5,6]，n=3</p>
<p>合并过后A为:</p>
<p>A: [1,2,2,3,5,6]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># methond1 [合并列表再排序,时间复杂度高]</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">merge</span>(<span class="params">self , A, m, B, n</span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(B)):</span><br><span class="line">            A[m] = B[i]</span><br><span class="line">            m += <span class="number">1</span></span><br><span class="line">        index = <span class="built_in">len</span>(A)-<span class="number">1</span></span><br><span class="line">        sign = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">while</span> <span class="keyword">not</span> sign:</span><br><span class="line">            sign = <span class="literal">True</span></span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(index):</span><br><span class="line">                <span class="keyword">if</span> A[i] &gt; A[i+<span class="number">1</span>]:</span><br><span class="line">                    sign = <span class="literal">False</span></span><br><span class="line">                    A[i], A[i+<span class="number">1</span>] = A[i+<span class="number">1</span>], A[i]</span><br><span class="line">            index -= <span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> A</span><br><span class="line">    </span><br><span class="line"><span class="comment"># method2 [利用列表本身已经是排好序的,使用merge思想]</span></span><br><span class="line">A = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>]</span><br><span class="line">B = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">m = <span class="number">3</span></span><br><span class="line">n = <span class="number">3</span></span><br><span class="line">ls = []</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> A:</span><br><span class="line">    print(B)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> B:</span><br><span class="line">    print(A)</span><br><span class="line">i = j = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> i &lt; m <span class="keyword">and</span> j &lt; n:</span><br><span class="line">    <span class="keyword">if</span> A[i] &lt;= B[j]:</span><br><span class="line">        ls.append(A[i])</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        ls.append(B[j])</span><br><span class="line">        j += <span class="number">1</span></span><br><span class="line">ls.extend(A[i:])</span><br><span class="line">ls.extend(B[j:])</span><br><span class="line">print(ls)</span><br><span class="line"></span><br><span class="line"><span class="comment"># method3 [利用merge排序但是思想上首先排最大值，因为对于AB来说都是已经排序号的链表]</span></span><br><span class="line">A = [<span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>， <span class="number">0</span>， <span class="number">0</span>， <span class="number">0</span>]</span><br><span class="line">B = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line">m = <span class="number">3</span></span><br><span class="line">n = <span class="number">3</span></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> A:</span><br><span class="line">    print(B)</span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> B:</span><br><span class="line">    print(A)</span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> m &gt; <span class="number">0</span> <span class="keyword">and</span> n &gt; <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">if</span> A[m-<span class="number">1</span>] &gt; B[n-<span class="number">1</span>]:</span><br><span class="line">        A[m+n-<span class="number">1</span>] = A[m-<span class="number">1</span>]</span><br><span class="line">        m -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        lA[m+n-<span class="number">1</span>] = B[n-<span class="number">1</span>]</span><br><span class="line">        n -= <span class="number">1</span></span><br><span class="line"><span class="comment"># based on the poroblem, the B alwalys has the remaind ele &lt; == &gt;</span></span><br><span class="line"><span class="comment">#==&gt; m = 0; n&gt;</span></span><br><span class="line">A[:n] = B[:n]</span><br><span class="line">print(A)</span><br></pre></td></tr></table></figure>

<h2 id="链表"><a href="#链表" class="headerlink" title="链表"></a>链表</h2><h3 id="1-E反转链表"><a href="#1-E反转链表" class="headerlink" title="1.E反转链表"></a>1.E反转链表</h3><h4 id="思路-4"><a href="#思路-4" class="headerlink" title="思路"></a>思路</h4><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210711215311.png"  />

<p><strong>【使用指针进行操作：使用前序赋值法替换】</strong></p>
<p>输入一个链表，反转链表后，输出新链表的表头。</p>
<p><strong>示例1</strong></p>
<p>输入：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;1,2,3&#125;</span><br></pre></td></tr></table></figure>

<p>返回值：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;3,2,1&#125;</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">ListNode</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x</span>):</span></span><br><span class="line">        self.val = x</span><br><span class="line">        self.<span class="built_in">next</span> = <span class="literal">None</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="comment"># 返回ListNode</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">ReverseList</span>(<span class="params">self, pHead</span>):</span></span><br><span class="line">        pre, cur, nex = <span class="literal">None</span>, pHead, <span class="literal">None</span></span><br><span class="line">        <span class="keyword">while</span> c:</span><br><span class="line">            nex = c.<span class="built_in">next</span></span><br><span class="line">            cur.<span class="built_in">next</span> = pre</span><br><span class="line">            pre = cur</span><br><span class="line">            cur = nex</span><br><span class="line">        <span class="keyword">return</span> pre</span><br></pre></td></tr></table></figure>

<h3 id="2-M链表中的节点每K个一组翻转"><a href="#2-M链表中的节点每K个一组翻转" class="headerlink" title="2.M链表中的节点每K个一组翻转"></a>2.M链表中的节点每K个一组翻转</h3><p>将给出的链表中的节点每\ k <em>k</em> 个一组翻转，返回翻转后的链表<br>如果链表中的节点数不是\ k <em>k</em> 的倍数，将最后剩下的节点保持原样你不能更改节点中的值，只能更改节点本身。</p>
<p>要求空间复杂度 O(1)</p>
<p>例如：</p>
<p>给定的链表是1→2→3→4→5</p>
<p>对于 <em>k</em>=2, 你应该返回 2→1→4→3→5</p>
<p>对于 <em>k</em>=3, 你应该返回 3→2→1→4→5</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 链表反转</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverseKGroup</span>(<span class="params">self , head , k </span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        fast = head        </span><br><span class="line">        <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(k):</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> fast:</span><br><span class="line">                <span class="keyword">return</span> head</span><br><span class="line">            fast = fast.<span class="built_in">next</span>   </span><br><span class="line">        new_head = self.reverse(head, fast)</span><br><span class="line">        <span class="comment"># 此时head变成了尾巴</span></span><br><span class="line">		<span class="comment"># tail = head</span></span><br><span class="line">        head.<span class="built_in">next</span> = self.reverseKGroup(fast, k)</span><br><span class="line">        <span class="keyword">return</span> new_head</span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">reverse</span>(<span class="params">self, head, fast</span>):</span></span><br><span class="line">        last = <span class="literal">None</span></span><br><span class="line">        p = head</span><br><span class="line">        <span class="keyword">while</span> p <span class="keyword">is</span> <span class="keyword">not</span> fast:</span><br><span class="line">            temp = p.<span class="built_in">next</span></span><br><span class="line">            p.<span class="built_in">next</span> = last</span><br><span class="line">            last = p</span><br><span class="line">            p = temp   </span><br><span class="line">        <span class="keyword">return</span> last </span><br><span class="line"></span><br><span class="line"><span class="comment"># list反转 </span></span><br><span class="line">temp = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>, <span class="number">8</span>, <span class="number">9</span>]</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    result = []</span><br><span class="line">    n = <span class="built_in">int</span>(<span class="built_in">input</span>(<span class="string">&#x27;reverse number:&#x27;</span>))</span><br><span class="line">    <span class="keyword">if</span> n &gt;= <span class="built_in">len</span>(temp):</span><br><span class="line">        print(<span class="string">&#x27;the number is too bigger, pls litter&#x27;</span>)</span><br><span class="line">        <span class="keyword">continue</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, <span class="built_in">len</span>(temp), n):</span><br><span class="line">        <span class="keyword">if</span> i + n &lt;= <span class="built_in">len</span>(temp):</span><br><span class="line">            result.extend((temp[i:i+n])[::-<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result.extend(temp[i:])</span><br><span class="line">    print(<span class="string">&#x27;-&gt;&#x27;</span>.join(<span class="string">&#x27;%s&#x27;</span> %i <span class="keyword">for</span> i <span class="keyword">in</span> result))</span><br></pre></td></tr></table></figure>

<h3 id="3-E判断链表中是否有环"><a href="#3-E判断链表中是否有环" class="headerlink" title="3.E判断链表中是否有环"></a>3.E判断链表中是否有环</h3><h3 id="思路-5"><a href="#思路-5" class="headerlink" title="思路"></a>思路</h3><p><strong>[快慢指针]</strong>:<strong>如果链表中存在有环,则slow指针必定会与fast指针相遇</strong></p>
<p><strong>需要注意的是,控{}和{single}制空链表即如果head和head.next都是None则return None</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/fast_slow_pointer.gif"></p>
<p>判断给定的链表中是否有环。如果有环则返回true，否则返回false。</p>
<p>你能给出空间复杂度O(1)的解法么？</p>
<p>输入分为2部分，第一部分为链表，第二部分代表是否有环，然后回组成head头结点传入到函数里面。-1代表无环，其他的数字代表有环，这些参数解释仅仅是为了方便读者自测调试</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">hasCycle</span>(<span class="params">self , head </span>):</span></span><br><span class="line">        <span class="keyword">if</span> head <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> head.<span class="built_in">next</span> <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">        slow = head</span><br><span class="line">        fast = head.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">while</span> fast != slow:</span><br><span class="line">            <span class="keyword">if</span> fast <span class="keyword">is</span> <span class="literal">None</span> <span class="keyword">or</span> fast.<span class="built_in">next</span> <span class="keyword">is</span> <span class="literal">None</span>:</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">            fast = fast.<span class="built_in">next</span>.<span class="built_in">next</span></span><br><span class="line">            slow = slow.<span class="built_in">next</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">True</span></span><br></pre></td></tr></table></figure>



<h2 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h2><h3 id="1-E匹配括号"><a href="#1-E匹配括号" class="headerlink" title="1.E匹配括号"></a>1.E匹配括号</h3><p><strong>[思路]</strong></p>
<p>要判断括号的有效性，<strong>左括号必须和右括号相对应</strong>。如果是有效括号，并且他们中间还有括号，那么他们必须也是有效的，所以最简单的一种方式就是使用栈来解决。</p>
<p>我们遍历字符串中的所有字符</p>
<p><strong>1，如果遇到了左括号，就把对应的右括号压栈（比如遇到了字符’(‘，就把字符’)’压栈）。</strong><br><strong>2，如果遇到了右括号</strong></p>
<ul>
<li>1）查看栈是否为空，如果为空，说明不能构成有效的括号，直接返回false。</li>
<li>2）如果栈不为空，栈顶元素出栈，然后判断出栈的这个元素是否等于这个右括号，如果不等于，说明不匹配，直接返回false。如果匹配，就继续判断字符串的下一个字符。</li>
</ul>
<p><strong>3，最后如果栈为空，说明是完全匹配，是有效的括号，否则如果栈不为空，说明不完全匹配，不是有效的括号。</strong></p>
<p><strong>题目</strong></p>
<p>给出一个仅包含字符’(‘,’)’,’{‘,’}’,’[‘和’]’,的字符串，判断给出的字符串是否是合法的括号序列<br>括号必须以正确的顺序关闭，”()”和”()[]{}”都是合法的括号序列，但”(]”和”([)]”不合法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">isValid</span>(<span class="params">self , s </span>):</span></span><br><span class="line">        mapping = &#123;<span class="string">&quot;)&quot;</span>:<span class="string">&quot;(&quot;</span>, <span class="string">&quot;]&quot;</span>:<span class="string">&quot;[&quot;</span>, <span class="string">&quot;&#125;&quot;</span>:<span class="string">&quot;&#123;&quot;</span>&#125;</span><br><span class="line">        stack = []</span><br><span class="line">        <span class="keyword">for</span> i, char <span class="keyword">in</span> <span class="built_in">enumerate</span>(s):</span><br><span class="line">            <span class="keyword">if</span> char <span class="keyword">not</span> <span class="keyword">in</span> mapping:<span class="comment">#left</span></span><br><span class="line">                stack.append(char)</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                <span class="keyword">if</span> <span class="keyword">not</span> stack <span class="keyword">or</span> stack[-<span class="number">1</span>] != mapping[char]:</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">                stack.pop()</span><br><span class="line">                </span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">len</span>(stack) == <span class="number">0</span></span><br></pre></td></tr></table></figure>

<h2 id="树"><a href="#树" class="headerlink" title="树"></a>树</h2><h3 id="1-M遍历二叉树"><a href="#1-M遍历二叉树" class="headerlink" title="1.M遍历二叉树"></a>1.M遍历二叉树</h3><p>实现pre-order/in-order/post-order遍历二叉树</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">threeOrders</span>(<span class="params">self , root </span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        self.res = [[],[],[]]</span><br><span class="line">        self.dfs(root)</span><br><span class="line">        <span class="keyword">return</span> self.res</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">dfs</span>(<span class="params">self,root</span>):</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        self.res[<span class="number">0</span>].append(root.val)</span><br><span class="line">        self.dfs(root.left)</span><br><span class="line">        self.res[<span class="number">1</span>].append(root.val)</span><br><span class="line">        self.dfs(root.right)</span><br><span class="line">        self.res[<span class="number">2</span>].append(root.val)</span><br><span class="line">        <span class="keyword">return</span></span><br></pre></td></tr></table></figure>

<h3 id="2-M求二叉树的层序遍历【BFS】"><a href="#2-M求二叉树的层序遍历【BFS】" class="headerlink" title="2.M求二叉树的层序遍历【BFS】"></a>2.M求二叉树的层序遍历【BFS】</h3><p>给定一个二叉树，返回该二叉树层序遍历的结果，（从左到右，一层一层地遍历）<br>例如：<br>给定的二叉树是{3,9,20,#,#,15,7},</p>
<p>该二叉树层序遍历的结果是<br>[<br>[3],<br>[9,20],<br>[15,7]<br>]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">levelOrder</span>(<span class="params">self , root </span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="comment">#队列解决</span></span><br><span class="line">        qune, res = [], []</span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> root:</span><br><span class="line">            <span class="keyword">return</span> res</span><br><span class="line">        qune.append(root)</span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(qune)!=<span class="number">0</span>:</span><br><span class="line">            n = <span class="built_in">len</span>(qune)</span><br><span class="line">            temp = []</span><br><span class="line">            <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                node = qune.pop(<span class="number">0</span>)</span><br><span class="line">                temp.append(node.val)</span><br><span class="line">                <span class="keyword">if</span> node.left:</span><br><span class="line">                    qune.append(node.left)</span><br><span class="line">                <span class="keyword">if</span> node.right:</span><br><span class="line">                    qune.append(node.right)</span><br><span class="line">            res.append(temp)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h3 id="3-M树的遍历【前序遍历】"><a href="#3-M树的遍历【前序遍历】" class="headerlink" title="3.M树的遍历【前序遍历】"></a>3.M树的遍历【前序遍历】</h3><h4 id="思路【使用递归，本质上是树的深度遍历DSF】"><a href="#思路【使用递归，本质上是树的深度遍历DSF】" class="headerlink" title="思路【使用递归，本质上是树的深度遍历DSF】"></a>思路【使用递归，本质上是树的深度遍历DSF】</h4><p>输入几组数据，pid为-1的代表根节点。如果数据为非根节点，那么就要搜索此节点直至找到根节点。</p>
<table>
<thead>
<tr>
<th align="center">id</th>
<th align="center">pid</th>
</tr>
</thead>
<tbody><tr>
<td align="center">A</td>
<td align="center">-1</td>
</tr>
<tr>
<td align="center">A-1</td>
<td align="center">A</td>
</tr>
<tr>
<td align="center">A-2</td>
<td align="center">A</td>
</tr>
<tr>
<td align="center">A-3</td>
<td align="center">A</td>
</tr>
<tr>
<td align="center">A-2-1</td>
<td align="center">A-2</td>
</tr>
<tr>
<td align="center">A-2-2</td>
<td align="center">A-2</td>
</tr>
<tr>
<td align="center">A-2-3</td>
<td align="center">A-2</td>
</tr>
</tbody></table>
<p><code>result: /A /A/A-1 /A/A-2 /A/A-3 /A/A-2/A-2-1 /A/A-2/A-2-2 /A/A-2/A-2-3</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">d = &#123;</span><br><span class="line">    <span class="string">&quot;A&quot;</span>:<span class="string">&quot;-1&quot;</span>,</span><br><span class="line">    <span class="string">&quot;A-1&quot;</span>:<span class="string">&quot;A&quot;</span>,</span><br><span class="line">    <span class="string">&quot;A-2&quot;</span>:<span class="string">&quot;A&quot;</span>,</span><br><span class="line">    <span class="string">&quot;A-3&quot;</span>:<span class="string">&quot;A&quot;</span>,</span><br><span class="line">    <span class="string">&quot;A-2-1&quot;</span>:<span class="string">&quot;A-2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;A-2-2&quot;</span>:<span class="string">&quot;A-2&quot;</span>,</span><br><span class="line">    <span class="string">&quot;A-2-3&quot;</span>:<span class="string">&quot;A-2&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">res = []</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">func</span>(<span class="params">node</span>):</span></span><br><span class="line">    <span class="comment"># using recursion</span></span><br><span class="line">    array.append(node[<span class="number">0</span>])</span><br><span class="line">    <span class="keyword">if</span> node[<span class="number">1</span>] == <span class="string">&quot;-1&quot;</span>:</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    func((node[<span class="number">1</span>], d[node[<span class="number">1</span>]]))</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ele_tuple <span class="keyword">in</span> d.items():</span><br><span class="line">    <span class="comment"># 每次设置一个temp=[]</span></span><br><span class="line">    array = []</span><br><span class="line">    func(ele_tuple)</span><br><span class="line">    string = <span class="string">&quot;/&quot;</span>.join(array[::-<span class="number">1</span>])</span><br><span class="line">    res.append(<span class="string">&quot;/&quot;</span>+string)</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> res:</span><br><span class="line">    print(ele)</span><br></pre></td></tr></table></figure>

<h3 id="4-按之字形顺序打印二叉树"><a href="#4-按之字形顺序打印二叉树" class="headerlink" title="4. 按之字形顺序打印二叉树"></a>4. <strong>按之字形顺序打印二叉树</strong></h3><p><strong>[思路]</strong></p>
<p>利用栈后入先出的特性，一个栈保存当前层节点，一个栈保存下一层节点。入栈规则如下：</p>
<ul>
<li>当前层为<strong>奇数层</strong>时：下一层为从左到右输出，故从右到左入栈即可。</li>
<li>当前层为<strong>偶数层</strong>时：下一层为从右到左输出，故从左到右入栈即可。</li>
</ul>
<hr>
<p>给定一个二叉树，返回该二叉树的之字形层序遍历，（第一层从左向右，下一层从右向左，一直这样交替）<br>例如：<br>给定的二叉树是{1,2,3,#,#,4,5}</p>
<p>该二叉树之字形层序遍历的结果是</p>
<p>[</p>
<p>[1],</p>
<p>[3,2],</p>
<p>[4,5]</p>
<p>]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Print</span>(<span class="params">self, pRoot</span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">if</span> pRoot == <span class="literal">None</span>:</span><br><span class="line">            <span class="keyword">return</span> []</span><br><span class="line">        <span class="comment"># 定义两个栈，一个保存从左到右的打印的层的节点，一个保存从右到左打印的层的节点</span></span><br><span class="line">        stack1 = []</span><br><span class="line">        stack2 = []</span><br><span class="line">        stack1.append(pRoot)</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">while</span> stack1 <span class="keyword">or</span> stack2:</span><br><span class="line">            <span class="keyword">if</span> stack1:</span><br><span class="line">                tempValue = []</span><br><span class="line">                <span class="keyword">while</span> stack1:</span><br><span class="line">                    tempNode = stack1.pop()</span><br><span class="line">                    tempValue.append(tempNode.val)</span><br><span class="line">                    <span class="keyword">if</span> tempNode.left:</span><br><span class="line">                        stack2.append(tempNode.left)</span><br><span class="line">                    <span class="keyword">if</span> tempNode.right:</span><br><span class="line">                        stack2.append(tempNode.right)</span><br><span class="line">                res.append(tempValue)</span><br><span class="line">            <span class="keyword">if</span> stack2:</span><br><span class="line">                tempValue = []</span><br><span class="line">                <span class="keyword">while</span> stack2:</span><br><span class="line">                    tempNode = stack2.pop()</span><br><span class="line">                    tempValue.append(tempNode.val)</span><br><span class="line">                    <span class="keyword">if</span> tempNode.right:</span><br><span class="line">                        stack1.append(tempNode.right)</span><br><span class="line">                    <span class="keyword">if</span> tempNode.left:</span><br><span class="line">                        stack1.append(tempNode.left)</span><br><span class="line">                res.append(tempValue)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>



<h2 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h2><h3 id="1-E子数组的最大累加和-star-star-star"><a href="#1-E子数组的最大累加和-star-star-star" class="headerlink" title="1.E子数组的最大累加和[:star::star::star:]"></a>1.E子数组的最大累加和[:star::star::star:]</h3><h4 id="思路-6"><a href="#思路-6" class="headerlink" title="思路"></a>思路</h4><p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/dp_instance.gif"></p>
<p>给定一个数组arr，返回子数组的最大累加和</p>
<p>例如，arr = [1, -2, 3, 5, -2, 6, -1]，所有子数组中，[3, 5, -2, 6]可以累加出最大的和12，所以返回12.</p>
<p>题目保证没有全为负数的数据</p>
<p>[要求]时间复杂度为O(n)，空间复杂度为O(1)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># method1:暴力解法</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxsumofSubarray</span>(<span class="params">self , arr </span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="built_in">sum</span> = arr[<span class="number">0</span>]</span><br><span class="line">        presum = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> ele <span class="keyword">in</span> arr:</span><br><span class="line">            <span class="keyword">if</span> presum &lt; <span class="number">0</span>:</span><br><span class="line">                presum = ele</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                presum += ele</span><br><span class="line">            <span class="built_in">sum</span> = <span class="built_in">max</span>(presum, <span class="built_in">sum</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># method2:动态规划</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxsumofSubarray</span>(<span class="params">self , arr </span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="comment"># dp[i]代表到第i位的时侯,以arr[i]结尾的连续子数组最大累加和</span></span><br><span class="line">        dp = [<span class="number">0</span>] * <span class="built_in">len</span>(arr)  <span class="comment"># 开辟dp</span></span><br><span class="line">        res = arr[<span class="number">0</span>]  <span class="comment"># 保存最终的结果</span></span><br><span class="line">        dp[<span class="number">0</span>] = arr[<span class="number">0</span>]  <span class="comment"># 初始化</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>,<span class="built_in">len</span>(arr)):</span><br><span class="line">            <span class="comment"># 维护dp[i], 如果&lt;0，则舍弃cur</span></span><br><span class="line">            dp[i] = <span class="built_in">max</span>(dp[i-<span class="number">1</span>],<span class="number">0</span>) + arr[i]  </span><br><span class="line">            res = <span class="built_in">max</span>(res,dp[i])  <span class="comment"># 每更新一个dp值就更新一下res</span></span><br><span class="line">        <span class="keyword">return</span> res</span><br><span class="line"></span><br><span class="line"><span class="comment"># method3:动态规划 不仅可以return max number 还可以返回子串</span></span><br><span class="line">a = [<span class="number">1</span>, -<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, -<span class="number">2</span>, <span class="number">6</span>, -<span class="number">1</span>]</span><br><span class="line"></span><br><span class="line">dp = [<span class="number">0</span>]*<span class="built_in">len</span>(a)</span><br><span class="line">dp[<span class="number">0</span>] = a[<span class="number">0</span>]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span>(<span class="params">index</span>):</span></span><br><span class="line">    <span class="comment"># 相比如method1、2此处更新状态时，也记录了index变化</span></span><br><span class="line">    <span class="keyword">if</span> dp[index] &lt;= <span class="number">0</span>:</span><br><span class="line">        pointer.clear()</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    pointer.append(index)</span><br><span class="line">    <span class="keyword">return</span> dp[index]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">pointer = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(a)):</span><br><span class="line">    dp[i] = fun(i-<span class="number">1</span>) + a[i]</span><br><span class="line"></span><br><span class="line">print(dp)</span><br><span class="line">print(<span class="built_in">list</span>((a[i] <span class="keyword">for</span> i <span class="keyword">in</span> pointer)))</span><br></pre></td></tr></table></figure>

<h3 id="2-M最短路径和-star-star-star"><a href="#2-M最短路径和-star-star-star" class="headerlink" title="2.M最短路径和[:star::star::star:]"></a>2.M最短路径和[:star::star::star:]</h3><h4 id="思路-7"><a href="#思路-7" class="headerlink" title="思路"></a>思路</h4><p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210716180943.png"></p>
<p>:red_circle:dp[ij] = a[ij]</p>
<p>:green_book:dp[ij] = a[ij] + min(dp[i-1, j], dp[i-1, j+1])</p>
<p>:ribbon:dp[ij] = a[ij] + min(dp[i-1, j], dp[i-1, j-1])</p>
<p>:yellow_heart:dp[ij] = a[ij] + min(dp[i-1, j-1], dp[j-1, j], dp[i-1, j+1])</p>
<p><strong>【注意边界条件和状态转移】</strong></p>
<p>从上到下找到最短路径（数字之和最小）,只能往下层走，同时只能走向相邻的节点，例如图中第一排的2只能走向第二排的3、7，第一排的5可以走向第二排的1、7、3</p>
<table>
<thead>
<tr>
<th align="center">1</th>
<th align="center">8</th>
<th align="center">5</th>
<th align="center">2</th>
</tr>
</thead>
<tbody><tr>
<td align="center">4</td>
<td align="center">1</td>
<td align="center">7</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">3</td>
<td align="center">6</td>
<td align="center">2</td>
<td align="center">9</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">a = [[<span class="number">1</span>, <span class="number">8</span>, <span class="number">5</span>, <span class="number">2</span>],</span><br><span class="line">     [<span class="number">4</span>, <span class="number">1</span>, <span class="number">7</span>, <span class="number">3</span>],</span><br><span class="line">     [<span class="number">3</span>, <span class="number">6</span>, <span class="number">2</span>, <span class="number">9</span>]]</span><br><span class="line">x = <span class="built_in">len</span>(a)</span><br><span class="line">y = <span class="built_in">len</span>(a[<span class="number">0</span>])</span><br><span class="line">dp = [[<span class="number">0</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(y)] <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(x)]</span><br><span class="line"><span class="comment"># 遍历顺序是每行内的每列。所以遍历a中第一行只执行到if，dp中第一行就确定了，然后再确定dp第二行。</span></span><br><span class="line"><span class="comment"># 要注意两个边界条件</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(x):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(y):</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">0</span>:</span><br><span class="line">            dp[i][j] = a[i][j]</span><br><span class="line">        <span class="keyword">elif</span> j == <span class="number">0</span>:</span><br><span class="line">            dp[i][j] = a[i][j] + <span class="built_in">min</span>(dp[i-<span class="number">1</span>][j], dp[i-<span class="number">1</span>][j+<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">elif</span> j == y-<span class="number">1</span>:</span><br><span class="line">            dp[i][j] = a[i][j] + <span class="built_in">min</span>(dp[i-<span class="number">1</span>][j-<span class="number">1</span>], dp[i-<span class="number">1</span>][j])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            dp[i][j] = a[i][j] + <span class="built_in">min</span>(dp[i-<span class="number">1</span>][j-<span class="number">1</span>], dp[i-<span class="number">1</span>][j], dp[i-<span class="number">1</span>][j+<span class="number">1</span>])</span><br><span class="line">            </span><br><span class="line">print(<span class="built_in">min</span>(dp[-<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>

<h3 id="3-M最长公共子串"><a href="#3-M最长公共子串" class="headerlink" title="3.M最长公共子串"></a>3.M最长公共子串</h3><h4 id="思路-8"><a href="#思路-8" class="headerlink" title="思路"></a>思路</h4><p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/8D59E0AEF6D5338A2881FB09B7427DA9.png"></p>
<p>给定两个字符串str1和str2,输出两个字符串的最长公共子串</p>
<p>题目保证str1和str2的最长公共子串存在且唯一。</p>
<p><code>len(str1) &gt; len(str2)</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">str1, str2 = <span class="string">&quot;1AB2345CD&quot;</span>, <span class="string">&quot;12345EF&quot;</span></span><br><span class="line">l1, l2 = <span class="built_in">len</span>(str1), <span class="built_in">len</span>(str2)</span><br><span class="line">dp = [[<span class="string">&#x27;&#x27;</span>] * (l1+<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(l2+<span class="number">1</span>)]</span><br><span class="line">dp[<span class="number">0</span>][<span class="number">0</span>] = <span class="string">&#x27;&#x27;</span></span><br><span class="line">ans = <span class="string">&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, l1):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, l2):</span><br><span class="line">        <span class="keyword">if</span> str1[i] == str2[j]:</span><br><span class="line">            dp[i][j] = dp[i-<span class="number">1</span>][j-<span class="number">1</span>] + str1[i]</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(dp[i][j]) &gt; <span class="built_in">len</span>(ans):</span><br><span class="line">                ans = dp[i][j]</span><br><span class="line">print(ans)</span><br></pre></td></tr></table></figure>

<h3 id="4-H最长公共子序列"><a href="#4-H最长公共子序列" class="headerlink" title="4.H最长公共子序列"></a>4.H最长公共子序列</h3><h4 id="思路-9"><a href="#思路-9" class="headerlink" title="思路"></a><strong>思路</strong></h4><p>LCS可以描述两段文字之间的“相似度”，即它们的雷同程度，从而能够用来辨别抄袭。另一方面，对一段文字进行修改之后，计算改动前后文字的最长公共子序列，将除此子序列外的部分提取出来，这种方法判断修改的部分，往往十分准确。简而言之，百度知道、百度百科都用得上。</p>
<p>若xm=yn(最后一个字符相同)，则：<br>Xm与Yn的最长公共子序列Zk的最后一个字符必定为xm<br>zk=xm=yn<br>LCS(Xm,Yn) = LCS(Xm-1,Yn-1)+xm</p>
<p>若xm≠yn，则：<br>LCS(Xm,Yn)= max{LCS(Xm-1,Yn),LCS(Xm,Yn-1)}</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用递归</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">lcs</span>(<span class="params">str1, str2, m, n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> m == <span class="number">0</span> <span class="keyword">or</span> n == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">    <span class="keyword">if</span> str1[m-<span class="number">1</span>] == str2[n-<span class="number">1</span>]:</span><br><span class="line">        case1 = <span class="number">1</span> + lcs(str1, str2, m-<span class="number">1</span>, n-<span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> case1</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        case2 = <span class="built_in">max</span>(lcs(str1, str2, m-<span class="number">1</span>, n), lcs(str1, str2, m, n-<span class="number">1</span>))</span><br><span class="line">        <span class="keyword">return</span> case2</span><br><span class="line">str1 = <span class="string">&#x27;bd&#x27;</span></span><br><span class="line">str2 = <span class="string">&#x27;abcd&#x27;</span></span><br><span class="line">m = <span class="built_in">len</span>(str1)</span><br><span class="line">n = <span class="built_in">len</span>(str2)</span><br><span class="line">res = lcs(str1, str2, m, n)</span><br><span class="line">print(res)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用暴力遍历求解</span></span><br><span class="line">str1, str2 = <span class="string">&quot;1AB2345C6D8&quot;</span>, <span class="string">&quot;12345E6F8&quot;</span></span><br><span class="line">l1, l2 = <span class="built_in">len</span>(str1), <span class="built_in">len</span>(str2)</span><br><span class="line">temp = []</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(l1):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(l2):</span><br><span class="line">        <span class="keyword">if</span> str1[i] == str2[j]:</span><br><span class="line">            temp.append(str1[i])</span><br><span class="line"></span><br><span class="line">print(temp)</span><br></pre></td></tr></table></figure>

<h3 id="5-M最长回文子串"><a href="#5-M最长回文子串" class="headerlink" title="5.M最长回文子串"></a>5.M最长回文子串</h3><p><strong>思路</strong></p>
<p>对于一个字符串，请设计一个高效算法，计算其中最长回文子串的长度。</p>
<p>给定字符串<strong>A</strong>以及它的长度<strong>n</strong>，请返回最长回文子串的长度。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入:&quot;abc1234321ab&quot;,12</span><br><span class="line">return:7</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">getLongestPalindrome</span>(<span class="params">self, A, n</span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        dp = [[<span class="number">0</span>]*(n) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">         </span><br><span class="line">        maxL = <span class="number">0</span></span><br><span class="line">             </span><br><span class="line">        <span class="keyword">for</span> right <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, n):</span><br><span class="line">            <span class="keyword">for</span> left <span class="keyword">in</span> <span class="built_in">range</span>(right,-<span class="number">1</span>,-<span class="number">1</span>):</span><br><span class="line">                <span class="keyword">if</span> A[left] != A[right]:</span><br><span class="line">                    <span class="keyword">continue</span></span><br><span class="line">                <span class="keyword">if</span> right - left &lt;= <span class="number">1</span>:</span><br><span class="line">                    dp[right][left] = <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    dp[right][left] = dp[right-<span class="number">1</span>][left+<span class="number">1</span>]</span><br><span class="line">                <span class="keyword">if</span> dp[right][left]==<span class="number">1</span> <span class="keyword">and</span> right-left+<span class="number">1</span> &gt; maxL:</span><br><span class="line">                    maxL = right-left+<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> maxL</span><br></pre></td></tr></table></figure>

<h3 id="6-E求路径"><a href="#6-E求路径" class="headerlink" title="6.E求路径"></a>6.E求路径</h3><p><strong>思路</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210719225203.png"></p>
<p>一个机器人在m×n（col*row）大小的地图的左上角（起点）。机器人每次向下或向右移动。机器人要到达地图的右下角（终点）。可以有多少种不同的路径从起点走到终点？</p>
<table>
<thead>
<tr>
<th align="center">起点</th>
<th></th>
<th align="center"></th>
</tr>
</thead>
<tbody><tr>
<td align="center"></td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td></td>
<td align="center"></td>
</tr>
<tr>
<td align="center"></td>
<td></td>
<td align="center"><strong>终点</strong></td>
</tr>
</tbody></table>
<p>对于其它位置来说，到达这个位置有两种情况：</p>
<p>一种是从上面的格子走过来的</p>
<p>另一种是从左边的格子走过来的</p>
<p>所以，我们定义一个𝑚×𝑛大小的二维数组𝑑𝑝</p>
<p>𝑑𝑝[𝑖][𝑗]表示从起点到达第𝑖行第𝑗列的方案数。</p>
<p>先把第一行第一列赋值为1</p>
<p>然后从第二行第二列的元素开始循环</p>
<p>𝑑𝑝[𝑖][𝑗]=𝑑𝑝[𝑖−1][𝑗]+𝑑𝑝[𝑖][𝑗−1]</p>
<p>右下角的dp值就是我们要求的答案</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># m, n = row * col</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">uniquePaths</span>(<span class="params">self , m , n </span>):</span></span><br><span class="line">        <span class="comment"># 创建DP时注意m，n的位置</span></span><br><span class="line">        dp = [[<span class="number">0</span>]*n <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(m)]</span><br><span class="line">        <span class="comment"># 先traverse col 再 traverse row</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">                <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">or</span> j == <span class="number">0</span>:</span><br><span class="line">                    dp[i][j] = <span class="number">1</span></span><br><span class="line">                <span class="keyword">else</span>:</span><br><span class="line">                    dp[i][j] = dp[i-<span class="number">1</span>][j] + dp[i][j-<span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> dp[-<span class="number">1</span>][-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h3 id="7-E买卖股票的最好时机"><a href="#7-E买卖股票的最好时机" class="headerlink" title="7.E买卖股票的最好时机"></a>7.E买卖股票的最好时机</h3><p>假设你有一个数组，其中第<em>i</em> 个元素是股票在第<em>i</em> 天的价格。<br>你有一次买入和卖出的机会。（只有买入了股票以后才能卖出）。请你设计一个算法来计算可以获得的最大收益。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用DynamicProgramming</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span>(<span class="params">self , prices</span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        length = <span class="built_in">len</span>(prices)</span><br><span class="line">        dp = [<span class="number">0</span>] * length</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, length):</span><br><span class="line">            <span class="keyword">if</span> dp[i-<span class="number">1</span>] &lt;= <span class="number">0</span>:</span><br><span class="line">                dp[i] = prices[i] - prices[i - <span class="number">1</span>]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dp[i] = dp[i - <span class="number">1</span>] + prices[i] - prices[i - <span class="number">1</span>]</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(dp)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用暴力双循环</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span>(<span class="params">self , prices</span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(prices)):</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(prices)):</span><br><span class="line">                <span class="keyword">if</span> prices[j] - prices[i] &gt; <span class="number">0</span> <span class="keyword">and</span> i &lt; j:</span><br><span class="line">                    temp = prices[j] - prices[i]</span><br><span class="line">                    ans = <span class="built_in">max</span>(ans, temp)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用切片</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">maxProfit</span>(<span class="params">self , prices</span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        ans = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(prices)-<span class="number">1</span>):</span><br><span class="line">            temp = <span class="built_in">max</span>(prices[i+<span class="number">1</span>:])</span><br><span class="line">            ans = <span class="built_in">max</span>(temp - prices[i], ans)</span><br><span class="line">        <span class="keyword">return</span> ans</span><br></pre></td></tr></table></figure>

<h3 id="8-M矩阵的最小路径和"><a href="#8-M矩阵的最小路径和" class="headerlink" title="8.M矩阵的最小路径和"></a>8.M矩阵的最小路径和</h3><p><strong>思路</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/75F64625D66A42FC306D2D970E044011.png"></p>
<p><strong>题目</strong></p>
<p>给定一个 n * m 的矩阵 a，从左上角开始每次只能向右或者向下走，最后到达右下角的位置，路径上所有的数字累加起来就是路径和，输出所有的路径中最小的路径和。</p>
<table>
<thead>
<tr>
<th align="center">1</th>
<th align="center">3</th>
<th align="center">5</th>
<th align="center">9</th>
</tr>
</thead>
<tbody><tr>
<td align="center">8</td>
<td align="center">1</td>
<td align="center">3</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">5</td>
<td align="center">0</td>
<td align="center">6</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">8</td>
<td align="center">8</td>
<td align="center">4</td>
<td align="center">0</td>
</tr>
</tbody></table>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">minPathSum</span>(<span class="params">self , matrix </span>):</span></span><br><span class="line">    n, m = <span class="built_in">len</span>(matrix), <span class="built_in">len</span>(matrix[<span class="number">0</span>])</span><br><span class="line">    </span><br><span class="line">    dp = [[<span class="number">0</span>]*m <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(n)]</span><br><span class="line">    </span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(m):</span><br><span class="line">            <span class="keyword">if</span> i == <span class="number">0</span> <span class="keyword">and</span> j == <span class="number">0</span>:</span><br><span class="line">                dp[i][j] = matrix[<span class="number">0</span>][<span class="number">0</span>]</span><br><span class="line">            <span class="keyword">elif</span> i == <span class="number">0</span> <span class="keyword">and</span> j != <span class="number">0</span>:</span><br><span class="line">                dp[i][j] = dp[i][j-<span class="number">1</span>] + matrix[i][j]</span><br><span class="line">            <span class="keyword">elif</span> i != <span class="number">0</span> <span class="keyword">and</span> j == <span class="number">0</span>:</span><br><span class="line">                dp[i][j] = dp[i-<span class="number">1</span>][j] + matrix[i][j]</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                dp[i][j] = <span class="built_in">min</span>(dp[i-<span class="number">1</span>][j], dp[i][j-<span class="number">1</span>]) + matrix[i][j]</span><br><span class="line">    <span class="keyword">return</span> dp[-<span class="number">1</span>][-<span class="number">1</span>]</span><br></pre></td></tr></table></figure>

<h3 id="9-M子数组最大乘积"><a href="#9-M子数组最大乘积" class="headerlink" title="9.M子数组最大乘积"></a>9.M子数组最大乘积</h3><p><strong>思路</strong></p>
<p>使用双dp_max和dp_min来控制如果出现-5*-8的更新</p>
<p><strong>题目</strong></p>
<p>给定一个double类型的数组arr，其中的元素可正可负可0，返回子数组累乘的最大乘积。</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入:[-2.5,4,0,3,0.5,8,-1]</span><br><span class="line">输出:12.00000</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">arr = [<span class="number">0.8</span>, -<span class="number">0.3</span>, <span class="number">0.4</span>, -<span class="number">2.0</span>, <span class="number">3.0</span>]</span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(arr) &lt;= <span class="number">0</span>:</span><br><span class="line">    print(<span class="number">0</span>)</span><br><span class="line">n = <span class="built_in">len</span>(arr)</span><br><span class="line">dpmax = [<span class="number">0</span>]*n</span><br><span class="line">dpmin = [<span class="number">0</span>]*n</span><br><span class="line">dpmax[<span class="number">0</span>] = arr[<span class="number">0</span>]</span><br><span class="line">dpmin[<span class="number">0</span>] = arr[<span class="number">0</span>]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, n):</span><br><span class="line">    <span class="keyword">if</span> arr[i] &lt; <span class="number">0</span>:</span><br><span class="line">        dpmax[i] = <span class="built_in">max</span>(arr[i], arr[i]*dpmin[i-<span class="number">1</span>])</span><br><span class="line">        dpmin[i] = <span class="built_in">min</span>(arr[i], arr[i]*dpmax[i-<span class="number">1</span>])</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        dpmax[i] = <span class="built_in">max</span>(arr[i], arr[i]*dpmax[i-<span class="number">1</span>])</span><br><span class="line">        dpmin[i] = <span class="built_in">min</span>(arr[i], arr[i]*dpmin[i-<span class="number">1</span>])</span><br><span class="line">print(dpmax, dpmin, sep=<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line">maxsum = <span class="built_in">max</span>(<span class="built_in">max</span>(dpmax), <span class="built_in">max</span>(dpmin))</span><br><span class="line">print(maxsum)</span><br><span class="line">&gt;&gt;</span><br><span class="line">[<span class="number">0.8</span>, -<span class="number">0.24</span>, <span class="number">0.4</span>, <span class="number">0.24</span>, <span class="number">3.0</span>]</span><br><span class="line">[<span class="number">0.8</span>, -<span class="number">0.3</span>, -<span class="number">0.12</span>, -<span class="number">2.0</span>, -<span class="number">6.0</span>]</span><br><span class="line"><span class="number">3.0</span></span><br></pre></td></tr></table></figure>

<h3 id="10-M最长递增子序列的长度"><a href="#10-M最长递增子序列的长度" class="headerlink" title="10.M最长递增子序列的长度"></a>10.M最长递增子序列的长度</h3><p><strong>【思路】</strong></p>
<p>[**1.动态规划**](<a target="_blank" rel="noopener" href="https://leetcode-cn.com/problems/longest-increasing-subsequence/solution/zui-chang-shang-sheng-zi-xu-lie-by-leetcode-soluti/">最长上升子序列 - 最长递增子序列 - 力扣（LeetCode） (leetcode-cn.com)</a>)</p>
<p><strong>2.贪心算法+二分查找</strong></p>
<p>原始数组为A, 建立一个辅助数组B, 变量end用来记录B数组末尾元素的下标</p>
<p>遍历A中的所有的元素 x = A[i]</p>
<ul>
<li>如果x &gt; B的末尾元素，则将x追加到B的末尾，end+=1</li>
<li>如果x &lt; B的末尾元素，则利用二分查找，寻找B中第一个大于x的元素，并用x进行替换 e.g. x= 4 B=[1,3,5,6] ==&gt; B=[1,3,4,6]</li>
</ul>
<p>遍历结束之后，B的长度则为最长递增子序列的长度</p>
<p><strong>Example</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210721134208.png"></p>
<p><strong>题目</strong></p>
<p>给定数组arr，设长度为n，输出arr的最长递增子序列。（如果有多个答案，请输出其中 按数值(注：区别于按单个字符的ASCII码值)进行比较的 字典序最小的那个）</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">输入：[1,2,8,6,4]</span><br><span class="line">输出：[1,2,4]</span><br><span class="line">statement：</span><br><span class="line">其最长递增子序列有3个，（1，2，8）、（1，2，6）、（1，2，4）其中第三个 按数值进行比较的字典序 最小，故答案为（1，2，4）   </span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 使用贪婪算法加二分算法</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">get_lis_length</span>(<span class="params">arr</span>):</span></span><br><span class="line">    temp = [arr[<span class="number">0</span>]]</span><br><span class="line">    end = <span class="number">0</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, <span class="built_in">len</span>(arr)):</span><br><span class="line">        <span class="keyword">if</span> arr[i] &gt; temp[end]:</span><br><span class="line">            end += <span class="number">1</span></span><br><span class="line">            temp.append(arr[i])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            pos = binary_search(temp, <span class="number">0</span>, <span class="built_in">len</span>(temp), arr[i])</span><br><span class="line">            temp[pos] = arr[i]</span><br><span class="line">    <span class="keyword">return</span> end + <span class="number">1</span></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">binary_search</span>(<span class="params">arr, start, end, value</span>):</span></span><br><span class="line">    l = start</span><br><span class="line">    r = end-<span class="number">1</span></span><br><span class="line">    <span class="keyword">while</span> l &lt;= r:</span><br><span class="line">        m = (l + r) //<span class="number">2</span></span><br><span class="line">        <span class="keyword">if</span> arr[m] == value:</span><br><span class="line">            <span class="keyword">return</span> m</span><br><span class="line">        <span class="keyword">elif</span> arr[m] &lt; value:</span><br><span class="line">            l = m + <span class="number">1</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            r = m - <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> l</span><br><span class="line"></span><br><span class="line"><span class="comment"># 使用dynamic programming</span></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">lengthOfLIS</span>(<span class="params">self, nums: List[<span class="built_in">int</span>]</span>) -&gt; int:</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> nums:</span><br><span class="line">            <span class="keyword">return</span> <span class="number">0</span></span><br><span class="line">        <span class="comment"># 记录长度dp</span></span><br><span class="line">        dp = []</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(nums)):</span><br><span class="line">            dp.append(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(i):</span><br><span class="line">                <span class="keyword">if</span> nums[i] &gt; nums[j]:</span><br><span class="line">                    dp[i] = <span class="built_in">max</span>(dp[i], dp[j] + <span class="number">1</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">max</span>(dp)</span><br><span class="line"></span><br><span class="line">arr = [<span class="number">2</span>, <span class="number">1</span>, <span class="number">5</span>, <span class="number">3</span>, <span class="number">6</span>, <span class="number">4</span>, <span class="number">8</span>, <span class="number">9</span>, <span class="number">7</span>]</span><br><span class="line">print(get_lis_length(arr))</span><br></pre></td></tr></table></figure>

<h3 id="10-M求最长递增子序列"><a href="#10-M求最长递增子序列" class="headerlink" title="10.M求最长递增子序列"></a>10.M求最长递增子序列</h3><p><strong>贪心算法+二分优化</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">LIS</span>(<span class="params">self , arr </span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        <span class="keyword">import</span> bisect</span><br><span class="line">        a=[]</span><br><span class="line">        dp=[<span class="number">1</span>]*<span class="built_in">len</span>(arr)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(arr)):</span><br><span class="line">            j=bisect.bisect_left(a, arr[i])</span><br><span class="line">            <span class="keyword">if</span> j==<span class="built_in">len</span>(a):</span><br><span class="line">                a.append(arr[i])</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                a[j]=arr[i]</span><br><span class="line">            dp[i]=j+<span class="number">1</span></span><br><span class="line">        L=<span class="built_in">len</span>(a)</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(dp)-<span class="number">1</span>,-<span class="number">1</span>,-<span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> dp[i]==L:</span><br><span class="line">                a[L-<span class="number">1</span>]=arr[i]</span><br><span class="line">                L-=<span class="number">1</span></span><br><span class="line">        <span class="keyword">return</span> a</span><br></pre></td></tr></table></figure>

<h2 id="二分"><a href="#二分" class="headerlink" title="二分"></a>二分</h2><h2 id="DFS-深度优先搜索"><a href="#DFS-深度优先搜索" class="headerlink" title="DFS[深度优先搜索]"></a>DFS[深度优先搜索]</h2><h3 id="1-H字符串排列"><a href="#1-H字符串排列" class="headerlink" title="1.H字符串排列"></a>1.H字符串排列</h3><h4 id="思路-10"><a href="#思路-10" class="headerlink" title="思路"></a>思路</h4><p><strong>recursion</strong></p>
<p><code>【定义一个set保持在当前位置已经访问过的字符】</code></p>
<p>输入一个字符串,按字典序打印出该字符串中字符的所有排列。例如输入字符串abc,则按字典序打印出由字符a,b,c所能排列出来的所有字符串abc,acb,bac,bca,cab和cba。</p>
<p>输入一个字符串,长度不超过9(可能有字符重复),字符只包括大小写字母。</p>
<p>example</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">输入: &quot;ab&quot;</span><br><span class="line">输出:[&#x27;ab&#x27;, &#x27;ba&#x27;]</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">Permutation</span>(<span class="params">self, s</span>):</span></span><br><span class="line">        <span class="function"><span class="keyword">def</span> <span class="title">bfs</span>(<span class="params">visited, unvisited</span>):</span></span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">len</span>(unvisited) == <span class="number">0</span>:</span><br><span class="line">                res.append(visited)</span><br><span class="line">                <span class="keyword">return</span> </span><br><span class="line">            d = <span class="built_in">set</span>()</span><br><span class="line">            <span class="keyword">for</span> i, x <span class="keyword">in</span> <span class="built_in">enumerate</span>(unvisited):</span><br><span class="line">                <span class="keyword">if</span> x <span class="keyword">not</span> <span class="keyword">in</span> d:</span><br><span class="line">                    d.add(x)</span><br><span class="line">                    bfs(visited+x, unvisited[:i]+unvisited[i+<span class="number">1</span>:])</span><br><span class="line">        res = []</span><br><span class="line">        bfs(<span class="string">&#x27;&#x27;</span>, s)</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>

<h2 id="哈希"><a href="#哈希" class="headerlink" title="哈希"></a>哈希</h2><h2 id="分治"><a href="#分治" class="headerlink" title="分治"></a>分治</h2><h3 id="1-寻找第k大-待解决"><a href="#1-寻找第k大-待解决" class="headerlink" title="1.寻找第k大[待解决]"></a>1.寻找第k大[待解决]</h3><h4 id="思路-11"><a href="#思路-11" class="headerlink" title="思路"></a>思路</h4><p>快排+二分，与快排不同的是，利用二分法每次都减少了一半的不必要排序。<br>当high=low小于k的时候，在后半部分搜索，<br>当high=low大于k的时候，在前半部分搜索。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">findKth</span>(<span class="params">a, start, end, K</span>):</span></span><br><span class="line">    low, high = start, end</span><br><span class="line">    key = a[start]</span><br><span class="line">    <span class="keyword">while</span> start &lt; end:</span><br><span class="line">        <span class="keyword">while</span> start &lt; end <span class="keyword">and</span> a[end] &lt;= key:</span><br><span class="line">            end -= <span class="number">1</span></span><br><span class="line">        a[start] = a[end]</span><br><span class="line">        <span class="keyword">while</span> start &lt; end <span class="keyword">and</span> a[start] &gt;= key:</span><br><span class="line">            start += <span class="number">1</span></span><br><span class="line">        a[end] = a[start]</span><br><span class="line">    a[start] = key</span><br><span class="line">    <span class="keyword">if</span> start &lt; K - <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> findKth(a, start + <span class="number">1</span>, high, K)</span><br><span class="line">    <span class="keyword">elif</span> start &gt; K - <span class="number">1</span>:</span><br><span class="line">        <span class="keyword">return</span> findKth(a, low, start - <span class="number">1</span>, K)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">return</span> a[start]</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    <span class="keyword">while</span> (<span class="number">1</span>):</span><br><span class="line">        line = sys.stdin.readline()</span><br><span class="line">        <span class="keyword">if</span> line == <span class="string">&#x27;&#x27;</span>: <span class="keyword">break</span></span><br><span class="line">        lines = line.strip().replace(<span class="string">&#x27;[&#x27;</span>, <span class="string">&#x27;&#x27;</span>).replace(<span class="string">&#x27;]&#x27;</span>, <span class="string">&#x27;&#x27;</span>).split(<span class="string">&#x27;,&#x27;</span>)</span><br><span class="line">        lines = <span class="built_in">list</span>(<span class="built_in">map</span>(<span class="built_in">int</span>, lines))</span><br><span class="line">        n, K = lines[-<span class="number">2</span>], lines[-<span class="number">1</span>]</span><br><span class="line">        val = findKth(lines, <span class="number">0</span>, n - <span class="number">1</span>, K)</span><br><span class="line">        print(val)</span><br><span class="line"><span class="keyword">except</span>:</span><br><span class="line">    <span class="keyword">pass</span></span><br></pre></td></tr></table></figure>



<h2 id="模拟"><a href="#模拟" class="headerlink" title="模拟"></a>模拟</h2><h3 id="1-M设计LRU缓存结构-待解决"><a href="#1-M设计LRU缓存结构-待解决" class="headerlink" title="1.M设计LRU缓存结构[待解决]"></a>1.M设计LRU缓存结构[待解决]</h3><h4 id="思路-12"><a href="#思路-12" class="headerlink" title="思路"></a>思路</h4><p>设计LRU缓存结构，该结构在构造时确定大小，假设大小为K，并有如下两个功能</p>
<ul>
<li>set(key, value)：将记录(key, value)插入该结构</li>
<li>get(key)：返回key对应的value值</li>
</ul>
<p>[要求]</p>
<ol>
<li>set和get方法的时间复杂度为O(1)</li>
<li>某个key的set或get操作一旦发生，认为这个key的记录成了最常使用的。</li>
<li>当缓存的大小超过K时，移除最不经常使用的记录，即set或get最久远的。</li>
</ol>
<p>若opt=1，接下来两个整数x, y，表示set(x, y)<br>若opt=2，接下来一个整数x，表示get(x)，若x未出现过或已被移除，则返回-1<br>对于每个操作2，输出一个答案</p>
<figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">输入：</span><br><span class="line">[[1,1,1],[1,2,2],[1,3,2],[2,1],[1,4,4],[2,2]],3</span><br><span class="line">返回值：</span><br><span class="line">[1,-1]</span><br><span class="line">复制</span><br><span class="line">说明：</span><br><span class="line">第一次操作后：最常使用的记录为(&quot;1&quot;, 1)</span><br><span class="line">第二次操作后：最常使用的记录为(&quot;2&quot;, 2)，(&quot;1&quot;, 1)变为最不常用的</span><br><span class="line">第三次操作后：最常使用的记录为(&quot;3&quot;, 2)，(&quot;1&quot;, 1)还是最不常用的</span><br><span class="line">第四次操作后：最常用的记录为(&quot;1&quot;, 1)，(&quot;2&quot;, 2)变为最不常用的</span><br><span class="line">第五次操作后：大小超过了3，所以移除此时最不常使用的记录(&quot;2&quot;, 2)，加入记录(&quot;4&quot;, 4)，并且为最常使用的记录，然后(&quot;3&quot;, 2)变为最不常使用的记录</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Solution</span>:</span></span><br><span class="line">    </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">LRU</span>(<span class="params">self , operators , k </span>):</span></span><br><span class="line">        <span class="comment"># write code here</span></span><br><span class="line">        keys = []</span><br><span class="line">        d = &#123;&#125;</span><br><span class="line">        res = []</span><br><span class="line">        <span class="keyword">for</span> op <span class="keyword">in</span> operators:</span><br><span class="line">            <span class="keyword">if</span> op[<span class="number">0</span>] == <span class="number">1</span>:</span><br><span class="line">                <span class="keyword">if</span> <span class="built_in">len</span>(keys) == k:</span><br><span class="line">                    key = keys.pop(<span class="number">0</span>)</span><br><span class="line">                    d.pop(key)</span><br><span class="line">                keys.append(op[<span class="number">1</span>])</span><br><span class="line">                d[op[<span class="number">1</span>]]=op[<span class="number">2</span>]</span><br><span class="line">                </span><br><span class="line">            <span class="keyword">if</span> op[<span class="number">0</span>] == <span class="number">2</span>:</span><br><span class="line">                ans = d.get(op[<span class="number">1</span>],-<span class="number">1</span>)</span><br><span class="line">                res.append(ans)</span><br><span class="line">                <span class="keyword">if</span> ans != -<span class="number">1</span>:</span><br><span class="line">                    keys.remove(op[<span class="number">1</span>])</span><br><span class="line">                    keys.append(op[<span class="number">1</span>])</span><br><span class="line">        <span class="keyword">return</span> res</span><br></pre></td></tr></table></figure>




      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/07/11/Algorithm/" data-id="ckqzbzrkk0000qsf5a85laeu8" data-title="Algorithm" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Algorithm/" rel="tag">Algorithm</a></li></ul>

    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="page-number" href="/page/4/">4</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/825%E8%AE%A1%E5%88%92/" rel="tag">825计划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Algorithm/" rel="tag">Algorithm</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BuiltIn/" rel="tag">BuiltIn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Daily-Plan/" rel="tag">Daily Plan</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/English-Study/" rel="tag">English Study</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GoodNotes/" rel="tag">GoodNotes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeeCode/" rel="tag">LeeCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Linux/" rel="tag">Linux</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/MySQL/" rel="tag">MySQL</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Object-Oriented/" rel="tag">Object Oriented</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Postgraduate/" rel="tag">Postgraduate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python%E5%90%8E%E7%AB%AF/" rel="tag">Python后端</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Spirit/" rel="tag">Spirit</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/consciousness/" rel="tag">consciousness</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/django/" rel="tag">django</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/source-code/" rel="tag">source-code</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%96%E7%95%8C%E8%A7%82/" rel="tag">世界观</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%96%E7%95%8C%E8%A7%82-%E6%96%B9%E6%B3%95%E8%AE%BA/" rel="tag">世界观 方法论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E8%B7%B5/" rel="tag">实践</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A6%E7%BF%BC%E5%90%8C%E7%9B%9F%E4%BC%9A/" rel="tag">左翼同盟会</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B0%E9%97%BB%E8%81%94%E6%92%AD/" rel="tag">新闻联播</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E7%8B%AC%E5%88%B0%E7%A7%91%E6%8A%80/" rel="tag">独到科技</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%B4%E4%BD%A0%E7%9A%84%E4%B8%80%E5%B0%81%E4%BF%A1/" rel="tag">致你的一封信</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/825%E8%AE%A1%E5%88%92/" style="font-size: 10px;">825计划</a> <a href="/tags/Algorithm/" style="font-size: 10px;">Algorithm</a> <a href="/tags/BuiltIn/" style="font-size: 10px;">BuiltIn</a> <a href="/tags/Daily-Plan/" style="font-size: 10px;">Daily Plan</a> <a href="/tags/English-Study/" style="font-size: 20px;">English Study</a> <a href="/tags/GoodNotes/" style="font-size: 10px;">GoodNotes</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/LeeCode/" style="font-size: 10px;">LeeCode</a> <a href="/tags/Linux/" style="font-size: 10px;">Linux</a> <a href="/tags/MySQL/" style="font-size: 10px;">MySQL</a> <a href="/tags/Object-Oriented/" style="font-size: 10px;">Object Oriented</a> <a href="/tags/Postgraduate/" style="font-size: 10px;">Postgraduate</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/Python%E5%90%8E%E7%AB%AF/" style="font-size: 10px;">Python后端</a> <a href="/tags/Spirit/" style="font-size: 10px;">Spirit</a> <a href="/tags/consciousness/" style="font-size: 10px;">consciousness</a> <a href="/tags/django/" style="font-size: 10px;">django</a> <a href="/tags/source-code/" style="font-size: 10px;">source-code</a> <a href="/tags/%E4%B8%96%E7%95%8C%E8%A7%82/" style="font-size: 15px;">世界观</a> <a href="/tags/%E4%B8%96%E7%95%8C%E8%A7%82-%E6%96%B9%E6%B3%95%E8%AE%BA/" style="font-size: 10px;">世界观 方法论</a> <a href="/tags/%E5%AE%9E%E8%B7%B5/" style="font-size: 10px;">实践</a> <a href="/tags/%E5%B7%A6%E7%BF%BC%E5%90%8C%E7%9B%9F%E4%BC%9A/" style="font-size: 10px;">左翼同盟会</a> <a href="/tags/%E6%96%B0%E9%97%BB%E8%81%94%E6%92%AD/" style="font-size: 10px;">新闻联播</a> <a href="/tags/%E7%8B%AC%E5%88%B0%E7%A7%91%E6%8A%80/" style="font-size: 10px;">独到科技</a> <a href="/tags/%E8%87%B4%E4%BD%A0%E7%9A%84%E4%B8%80%E5%B0%81%E4%BF%A1/" style="font-size: 10px;">致你的一封信</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/08/">八月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/08/02/%E7%8B%AC%E5%88%B0%E7%A7%91%E6%8A%80/">独到科技</a>
          </li>
        
          <li>
            <a href="/2021/07/26/%E6%AF%8F%E6%97%A5%E5%A4%8D%E7%9B%98/">每日复盘</a>
          </li>
        
          <li>
            <a href="/2021/07/25/Eternal-Spirit/">Eternal-Spirit</a>
          </li>
        
          <li>
            <a href="/2021/07/25/Pythonon-Source-Code/">Pythonon_Source_Code</a>
          </li>
        
          <li>
            <a href="/2021/07/24/Object-Oriented-Programming/">Object_Oriented_Programming</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 Drink<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>