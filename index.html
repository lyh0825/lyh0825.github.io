<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  
  <title>Drink`s Blog</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
  <meta property="og:type" content="website">
<meta property="og:title" content="Drink&#96;s Blog">
<meta property="og:url" content="https://drinkle.top/index.html">
<meta property="og:site_name" content="Drink&#96;s Blog">
<meta property="og:locale" content="zh_CN">
<meta property="article:author" content="Drink">
<meta name="twitter:card" content="summary">
  
    <link rel="alternate" href="/atom.xml" title="Drink`s Blog" type="application/atom+xml">
  
  
    <link rel="shortcut icon" href="/favicon.png">
  
  
    
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/typeface-source-code-pro@0.0.71/index.min.css">

  
  
<link rel="stylesheet" href="/css/style.css">

  
    
<link rel="stylesheet" href="/fancybox/jquery.fancybox.min.css">

  
<meta name="generator" content="Hexo 5.4.0"></head>

<body>
  <div id="container">
    <div id="wrap">
      <header id="header">
  <div id="banner"></div>
  <div id="header-outer" class="outer">
    <div id="header-title" class="inner">
      <h1 id="logo-wrap">
        <a href="/" id="logo">Drink`s Blog</a>
      </h1>
      
    </div>
    <div id="header-inner" class="inner">
      <nav id="main-nav">
        <a id="main-nav-toggle" class="nav-icon"></a>
        
          <a class="main-nav-link" href="/">Home</a>
        
          <a class="main-nav-link" href="/archives">Archives</a>
        
      </nav>
      <nav id="sub-nav">
        
          <a id="nav-rss-link" class="nav-icon" href="/atom.xml" title="RSS 订阅"></a>
        
        <a id="nav-search-btn" class="nav-icon" title="搜索"></a>
      </nav>
      <div id="search-form-wrap">
        <form action="//google.com/search" method="get" accept-charset="UTF-8" class="search-form"><input type="search" name="q" class="search-form-input" placeholder="搜索"><button type="submit" class="search-form-submit">&#xF002;</button><input type="hidden" name="sitesearch" value="https://drinkle.top"></form>
      </div>
    </div>
  </div>
</header>

      <div class="outer">
        <section id="main">
  
    <article id="post-825计划" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/07/10/825%E8%AE%A1%E5%88%92/" class="article-date">
  <time class="dt-published" datetime="2021-07-10T03:29:32.000Z" itemprop="datePublished">2021-07-10</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/07/10/825%E8%AE%A1%E5%88%92/">825计划</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <p><strong>时间</strong></p>
<p>此计划于2021年7月10日实行，本计划的目的在于督促和标准化终身学习。</p>
<p><strong>学习单</strong></p>
<ul>
<li><p><input disabled="" type="checkbox">  马哲</p>
</li>
<li><p><input disabled="" type="checkbox">  毛选</p>
</li>
<li><p><input disabled="" type="checkbox">  数据结构（binary tree/graph）</p>
</li>
<li><p><input disabled="" type="checkbox">  数据库</p>
</li>
</ul>
<h2 id="学习资源库"><a href="#学习资源库" class="headerlink" title="学习资源库"></a>学习资源库</h2><h3 id="书籍"><a href="#书籍" class="headerlink" title="书籍"></a>书籍</h3><h4 id="数字图书馆"><a href="#数字图书馆" class="headerlink" title="数字图书馆"></a>数字图书馆</h4><p><a target="_blank" rel="noopener" href="https://zh.book4you.org/?signAll=1&ts=1225">数字图书馆Z-library</a></p>
<h3 id="开源网课"><a href="#开源网课" class="headerlink" title="开源网课"></a>开源网课</h3><h4 id="一、北京大学"><a href="#一、北京大学" class="headerlink" title="一、北京大学"></a>一、北京大学</h4><ol>
<li>github.com/lib-pku/libpku</li>
<li>github.com/tongtzeho/PKUCourse</li>
</ol>
<h4 id="二、清华大学"><a href="#二、清华大学" class="headerlink" title="二、清华大学"></a>二、清华大学</h4><ol>
<li>github.com/PKUanonym/REKCARC-TSC-UHT</li>
</ol>
<h4 id="三、浙江大学"><a href="#三、浙江大学" class="headerlink" title="三、浙江大学"></a>三、浙江大学</h4><ol>
<li>github.com/QSCTech/zju-icicles</li>
</ol>
<h4 id="四、中国科学技术大学"><a href="#四、中国科学技术大学" class="headerlink" title="四、中国科学技术大学"></a>四、中国科学技术大学</h4><ol>
<li>github.com/USTC-Resource/USTC-Course</li>
<li>ustc-resource.github.io/USTC-Course/</li>
</ol>
<h4 id="五、中山大学"><a href="#五、中山大学" class="headerlink" title="五、中山大学"></a>五、中山大学</h4><ol>
<li>github.com/sysuexam/SYSU-Exam</li>
</ol>
<h4 id="六、B-站的公开课"><a href="#六、B-站的公开课" class="headerlink" title="六、B 站的公开课"></a>六、B 站的公开课</h4><ol>
<li>github.com/elder-frog/OpenCourseCatalog</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/07/10/825%E8%AE%A1%E5%88%92/" data-id="ckqx8m6iw0000h4f5co8tebp5" data-title="825计划" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/825%E8%AE%A1%E5%88%92/" rel="tag">825计划</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Postgraduate" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/14/Postgraduate/" class="article-date">
  <time class="dt-published" datetime="2021-06-14T14:46:18.000Z" itemprop="datePublished">2021-06-14</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/06/14/Postgraduate/">Postgraduate</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="985"><a href="#985" class="headerlink" title="985"></a><strong>985</strong></h2><ol>
<li>北京交通大学：数一、英一、（925）数据结构</li>
<li>中国农业大学（自划线院校）：（821）数据结构</li>
<li>大连理工大学（自划线院校）：数一、英一、（810）数据结构</li>
<li>北京化工大学：（842）数据结构</li>
<li>中央民族大学：（852）信号与系统或数据结构</li>
<li>中南大学（自划线院校）：（943）数据结构</li>
</ol>
<h2 id="211"><a href="#211" class="headerlink" title="211"></a>211</h2><ol>
<li>北京林业大学：（839）数据结构</li>
<li>中国传媒大学：数一、英一、（824）数据结构</li>
<li>中国矿业大学（北京）：数一、英一、（854）数据结构</li>
<li>华北电力大学：（844）数据结构</li>
<li>大连海事大学：（808）数据结构</li>
<li>中国矿业大学：（874）数据结构</li>
<li>山东大学（自划线院校）：（909）数据结构</li>
<li>中国石油大学（华东）：（859）数据结构</li>
<li>暨南大学：（830）数据结构</li>
<li>西北大学：数一、英一、（851）数据结构</li>
</ol>
<h2 id="双非"><a href="#双非" class="headerlink" title="双非"></a>双非</h2><ol>
<li>北方工业大学：（861）数据结构</li>
<li>北京工商大学：（818）数据结构</li>
<li>北京电子科技学院：数一、英一、（831）数据结构</li>
<li>太原科技大学：（828）数据结构</li>
<li>中北大学：（811）数据结构</li>
<li>内蒙古科技大学：（810）数据结构</li>
<li>内蒙古工业大学：（808）数据结构</li>
<li>沈阳工业大学：（808）数据结构</li>
<li>辽宁工程技术大学：（810）数据结构 B</li>
<li>辽宁石油化工大学：（951）数据结构</li>
<li>沈阳化工大学：（817）算法与数据结构</li>
<li>大连工业大学：（822）数据结构</li>
<li>辽宁工业大学：（915）数据结构</li>
<li>大连民族大学：（802）数据结构与算法设计</li>
<li>长春理工大学：（809）数据结构</li>
<li>东北电力大学：（851）数据结构</li>
<li>长春工业大学：（809）数据结构</li>
<li>东北石油大学：（820）数据结构</li>
<li>黑龙江八一农垦大学：（923）数据结构</li>
<li>上海电力大学：（840）数据结构</li>
<li>上海应用技术大学：（816）数据结构与算法</li>
<li>上海工程技术大学：（809）数据结构</li>
<li>南京邮电大学：（811）数据结构</li>
<li>南京林业大学：（883）数据结构</li>
<li>南通大学：（822）数据结构</li>
<li>南京审计大学：（911）数据结构</li>
<li>陆军工程大学：（811）数据结构</li>
<li>南京信息工程大学：（853）数据结构与算法分析</li>
<li>宁波大学：（916）数据结构与算法分析</li>
<li>安徽工业大学：（861）数据结构</li>
<li>安徽理工大学：（841）数据结构</li>
<li>阜阳师范大学：（908）数据结构</li>
<li>安徽建筑大学：（909）数据结构</li>
<li>华侨大学：（826）数据结构</li>
<li>华东交通大学：（829）数据结构</li>
<li>东华理工大学：（811）数据结构（含C程序设计）</li>
<li>南昌航空大学：（961）数据结构（C语言版）</li>
<li>江西理工大学：（873）数据结构</li>
<li>青岛科技大学：（861）数据结构</li>
<li>济南大学：（846）数据结构</li>
<li>青岛理工大学：（813）数据结构</li>
<li>齐鲁工业大学：（872）数据结构</li>
<li>山东理工大学：（880）数据结构</li>
<li>山东中医药大学：（803）数据结构</li>
<li>山东师范大学：（915）数据结构B</li>
<li>曲阜师范大学：（870）数据结构与算法设计</li>
<li>临沂大学：（810）数据结构</li>
<li>青岛大学：（910）数据结构</li>
<li>烟台大学：（846）数据结构（李春葆主编）</li>
<li>华北水利水电大学：（967）数据结构</li>
<li>河南工业大学：（830）数据结构</li>
<li>河南科技大学：（825）数据结构</li>
<li>河南理工大学：（857）数据结构</li>
<li>武汉纺织大学：（848）数据结构</li>
<li>湖北大学：（811）数据结构</li>
<li>三峡大学：（836）数据结构</li>
<li>长沙理工大学：（850）数据结构</li>
<li>湖南工商大学：（808）数据结构</li>
<li>南华大学：（881）数据结构</li>
<li>广东财经大学：英一、（809）数据结构</li>
<li>广州大学：（914）数据结构</li>
<li>五邑大学：（810）数据结构</li>
<li>广东外语外贸大学：（846）数据结构</li>
<li>桂林电子科技大学：（823）数据结构</li>
<li>广西师范大学：（826）数据结构（含C程序设计）</li>
<li>海南师范大学：（918）数据结构</li>
<li>重庆理工大学：（812）数据结构</li>
<li>重庆邮电大学：（802）数据结构</li>
<li>四川轻化工大学：（816）数据结构与算法</li>
<li>西华大学：（823）数据结构</li>
<li>西华师范大学：（821）数据结构</li>
<li>昆明理工大学：（877）数据结构与算法分析</li>
<li>西安理工大学：（863）数据结构</li>
<li>西安科技大学：（824）数据结构与算法设计</li>
<li>陕西科技大学：（902）数据结构</li>
<li>西京学院：（861）数据结构</li>
<li>西安邮电大学：（826）数据结构</li>
<li>兰州理工大学：（892）数据结构</li>
<li>兰州交通大学：（828）数据结构</li>
<li>新疆大学：（824）数据结构</li>
<li>新疆师范大学：（864）数据结构</li>
</ol>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/06/14/Postgraduate/" data-id="ckpzhgufu00006of5b09539u9" data-title="Postgraduate" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Postgraduate/" rel="tag">Postgraduate</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-LeeCode" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/13/LeeCode/" class="article-date">
  <time class="dt-published" datetime="2021-06-13T09:15:54.000Z" itemprop="datePublished">2021-06-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/06/13/LeeCode/">LeeCode</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="华为题库"><a href="#华为题库" class="headerlink" title="华为题库"></a>华为题库</h2><h3 id="1H字符串最后一个单词的长度"><a href="#1H字符串最后一个单词的长度" class="headerlink" title="1H字符串最后一个单词的长度"></a>1H字符串最后一个单词的长度</h3><h4 id="字符串"><a href="#字符串" class="headerlink" title="字符串"></a>字符串</h4><h4 id="思路-考点"><a href="#思路-考点" class="headerlink" title="思路/考点"></a><strong>思路</strong>/考点</h4><p>将输入的字符串通过split()转化成list,再通过index进行求解</p>
<p><strong>描述</strong></p>
<p>计算字符串最后一个单词的长度，单词以空格隔开，字符串长度小于5000。</p>
<p><strong>输入描述：</strong></p>
<p>输入一行，代表要计算的字符串，非空，长度小于5000。</p>
<p><strong>输出描述：</strong></p>
<p>输出一个整数，表示输入字符串最后一个单词的长度。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t = <span class="built_in">input</span>().split(<span class="string">&#x27; &#x27;</span>)</span><br><span class="line">print(<span class="built_in">len</span>(t[-<span class="number">1</span>]))</span><br></pre></td></tr></table></figure>

<h3 id="2H计算某字母出现次数"><a href="#2H计算某字母出现次数" class="headerlink" title="2H计算某字母出现次数"></a><strong>2H计算某字母出现次数</strong></h3><h4 id="字符串-哈希"><a href="#字符串-哈希" class="headerlink" title="字符串/哈希"></a>字符串/哈希</h4><h4 id="思路-考点-1"><a href="#思路-考点-1" class="headerlink" title="思路/考点"></a>思路/考点</h4><p>考察count()函数,由于tuple\string\list在python具有相似的底层逻辑,因此count()既可以统计string中某字符串出出现的个数,又可以统计list中元素出现的个数</p>
<p><strong>描述</strong></p>
<p>写出一个程序，接受一个由字母、数字和空格组成的字符串，和一个字母，然后输出输入字符串中该字母的出现次数。不区分大小写，字符串长度小于500。</p>
<p><strong>输入描述：</strong></p>
<p>第一行输入一个由字母和数字以及空格组成的字符串，第二行输入一个字母。</p>
<p><strong>输出描述：</strong></p>
<p>输出输入字符串中含有该字符的个数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="built_in">input</span>()</span><br><span class="line">word = <span class="built_in">input</span>()</span><br><span class="line"><span class="built_in">str</span> = <span class="built_in">str</span>.lower()</span><br><span class="line">word = word.lower()</span><br><span class="line">print(<span class="built_in">str</span>.count(word))</span><br></pre></td></tr></table></figure>

<h3 id="3H明明的随机数-0"><a href="#3H明明的随机数-0" class="headerlink" title="3H明明的随机数[0]"></a>3H<strong>明明的随机数</strong>[0]</h3><h4 id="数组"><a href="#数组" class="headerlink" title="数组"></a>数组</h4><p><strong>描述</strong></p>
<p>明明想在学校中请一些同学一起做一项问卷调查，为了实验的客观性，他先用计算机生成了N个1到1000之间的随机整数（N≤1000），对于其中重复的数字，只保留一个，把其余相同的数去掉，不同的数对应着不同的学生的学号。然后再把这些数从小到大排序，按照排好的顺序去找同学做调查。请你协助明明完成“去重”与“排序”的工作(同一个测试用例里可能会有多组数据(用于不同的调查)，希望大家能正确处理)。</p>
<p>注：测试用例保证输入参数的正确性，答题者无需验证。测试用例不止一组。</p>
<p>当没有新的输入时，说明输入结束。</p>
<p><strong>输入描述：</strong></p>
<p>注意：输入可能有多组数据(用于不同的调查)。每组数据都包括多行，第一行先输入随机整数的个数N，接下来的N行再输入相应个数的整数。具体格式请看下面的”示例”。</p>
<p><strong>输出描述：</strong></p>
<p>返回多行，处理后的结果</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> sys</span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    line = sys.stdin.readline()</span><br><span class="line">    <span class="keyword">if</span> <span class="keyword">not</span> line:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    n = <span class="built_in">int</span>(line)</span><br><span class="line">    d = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">        d[<span class="built_in">int</span>(sys.stdin.readline())]=<span class="number">1</span></span><br><span class="line">    l = <span class="built_in">list</span>(d.keys())</span><br><span class="line">    l.sort()</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> l:</span><br><span class="line">        print(i)</span><br></pre></td></tr></table></figure>

<h3 id="4H字符串分隔"><a href="#4H字符串分隔" class="headerlink" title="4H字符串分隔"></a>4H字符串分隔</h3><h4 id="字符串-1"><a href="#字符串-1" class="headerlink" title="字符串"></a>字符串</h4><h4 id="思路-考点-2"><a href="#思路-考点-2" class="headerlink" title="思路/考点"></a>思路/考点</h4><p>注意slice的运用,同时对于需要对其的字符串使用ljust–左对齐–右填充</p>
<p><strong>描述</strong></p>
<p>•连续输入字符串，请按长度为8拆分每个字符串后输出到新的字符串数组；<br>•长度不是8整数倍的字符串请在后面补数字0，空字符串不处理。</p>
<p><strong>输入描述</strong>：</p>
<p>连续输入字符串(输入多次,每个字符串长度小于100)</p>
<p><strong>输出描述</strong>：</p>
<p>输出到长度为8的新字符串数组</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        s = <span class="built_in">input</span>()</span><br><span class="line">        <span class="keyword">while</span> <span class="built_in">len</span>(s) &gt; <span class="number">8</span>:</span><br><span class="line">            print(s[:<span class="number">8</span>])</span><br><span class="line">            s = s[<span class="number">8</span>:]</span><br><span class="line">        print(s.ljust(<span class="number">8</span>, <span class="string">&#x27;0&#x27;</span>))</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<p>使用ljust（）、rjust（）、center（）</p>
<p>parameters：width（contains oneself）， fillchar</p>
<p>是对齐方向ljust，左对齐右填充</p>
<h3 id="5M进制转换"><a href="#5M进制转换" class="headerlink" title="5M进制转换"></a>5M进制转换</h3><h4 id="字符串-2"><a href="#字符串-2" class="headerlink" title="字符串"></a>字符串</h4><h4 id="思路-考点-3"><a href="#思路-考点-3" class="headerlink" title="思路/考点"></a>思路/考点</h4><p>使用int(str, base=n)进行进制的直接转化,其中输入的str是在base的基础上的值,此操作将会返回一个int值(base=10)</p>
<p>同理bin(str, base=n) 将会返回一个int值(base=2)开头为0b</p>
<p>0b在c语言中表示二进制</p>
<p><strong>描述</strong></p>
<p>写出一个程序，接受一个十六进制的数，输出该数值的十进制表示。</p>
<p><strong>输入描述：</strong></p>
<p>输入一个十六进制的数值字符串。</p>
<p><strong>输出描述：</strong></p>
<p>输出该数值的十进制字符串。不同组的测试用例用\n隔开。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        temp = <span class="built_in">int</span>(<span class="built_in">input</span>(), base=<span class="number">16</span>)</span><br><span class="line">        print(temp)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<h3 id="6M质数因子"><a href="#6M质数因子" class="headerlink" title="6M质数因子"></a>6M质数因子</h3><h4 id="排序-递归"><a href="#排序-递归" class="headerlink" title="排序/递归"></a>排序/递归</h4><h4 id="思路-考点-4"><a href="#思路-考点-4" class="headerlink" title="思路/考点"></a>思路/考点</h4><p><strong>描述</strong></p>
<p>功能:输入一个正整数，按照从小到大的顺序输出它的所有质因子（重复的也要列举）（如180的质因子为2 2 3 3 5 ）</p>
<p>最后一个数后面也要有空格</p>
<p><strong>输入描述：</strong></p>
<p>输入一个long型整数</p>
<p><strong>输出描述：</strong></p>
<p>按照从小到大的顺序输出它的所有质数的因子，以空格隔开。最后一个数后面也要有空格。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">factor</span>(<span class="params">n</span>):</span></span><br><span class="line">    flag = <span class="literal">True</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">2</span>, <span class="built_in">int</span>(n**<span class="number">0.5</span>+<span class="number">1</span>)):</span><br><span class="line">        <span class="keyword">if</span> n % i  == <span class="number">0</span>:</span><br><span class="line">            print(i, end=<span class="string">&quot; &quot;</span>)</span><br><span class="line">            flag = <span class="literal">False</span></span><br><span class="line">            factor(<span class="built_in">int</span>(n/i))</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">    <span class="keyword">if</span> flag:</span><br><span class="line">        print(n, end=<span class="string">&quot; &quot;</span>)</span><br><span class="line">factor(<span class="built_in">int</span>(<span class="built_in">input</span>()))</span><br></pre></td></tr></table></figure>

<h3 id="7E取近似值"><a href="#7E取近似值" class="headerlink" title="7E取近似值"></a>7E取近似值</h3><h4 id="数学-语法"><a href="#数学-语法" class="headerlink" title="数学/语法"></a>数学/语法</h4><h4 id="思路-考点-5"><a href="#思路-考点-5" class="headerlink" title="思路/考点"></a>思路/考点</h4><ul>
<li>int()函数如果接受的是个float数，他将只取整数位抛弃小数位</li>
<li>//也是只取整数位</li>
</ul>
<p>写出一个程序，接受一个正浮点数值，输出该数值的近似整数值。如果小数点后数值大于等于5,向上取整；小于5，则向下取整。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="built_in">int</span>(<span class="built_in">float</span>(<span class="built_in">input</span>())+<span class="number">0.5</span>)</span><br><span class="line">print(num)</span><br></pre></td></tr></table></figure>

<h3 id="8M合并表记录"><a href="#8M合并表记录" class="headerlink" title="8M合并表记录"></a>8M合并表记录</h3><h4 id="几何-哈希"><a href="#几何-哈希" class="headerlink" title="几何/哈希"></a>几何/哈希</h4><h4 id="思路-考点-6"><a href="#思路-考点-6" class="headerlink" title="思路/考点"></a>思路/考点</h4><p>考察dict的访问:</p>
<ul>
<li>for i in dict–&gt;access key</li>
<li>for key in dict.keys–&gt;accsee key</li>
<li>for key, val in dict.item–&gt;access key and val</li>
<li>dict[key]–&gt;access key对应的val, 没有的话返回KeyError</li>
<li>dict.get(key, val(default:None))–&gt;访问dict中key对应的值,没有的话返回val</li>
</ul>
<p>有与dict中的key不可以直接修改,如果要修改key需要以下操作</p>
<p><strong>第一种方法：将需要修改的键对应的值用dict.pop() 的方法提取出来，并重新赋值给新的键，即dict[新的键] = dict.pop(旧的键)。</strong>（字典dict的pop是删除某个键及其对应的值，返回的是该键对应的值）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dict</span>=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="built_in">dict</span>[<span class="string">&quot;c&quot;</span>] = <span class="built_in">dict</span>.pop(<span class="string">&quot;a&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>第二种方法：结合dict.pop() 和dict.update() 的方法。</strong>（字典dict的pop是删除某个键及其对应的值，返回的是该键对应的值）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dict</span>=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="built_in">dict</span>.update(&#123;<span class="string">&#x27;c&#x27;</span>:<span class="built_in">dict</span>.pop(<span class="string">&quot;a&quot;</span>)&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>第三种方法：结合直接修改和del语句。</strong>先用直接修改的方式将旧键赋值给新的键，再用del语句删除原来的键名。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dict</span>=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="built_in">dict</span>[<span class="string">&#x27;c&#x27;</span>]=<span class="built_in">dict</span>[<span class="string">&#x27;a&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> <span class="built_in">dict</span>[<span class="string">&#x27;a&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p><strong>描述</strong></p>
<p>数据表记录包含表索引和数值（int范围的正整数），请对表索引相同的记录进行合并，即将相同索引的数值进行求和运算，输出按照key值升序进行输出。</p>
<p><strong>输入描述：</strong></p>
<p>先输入键值对的个数<br>然后输入成对的index和value值，以空格隔开</p>
<p><strong>输出描述：</strong></p>
<p>输出合并后的键值对（多行）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">num = <span class="built_in">int</span>(<span class="built_in">input</span>()) <span class="comment"># 共输入几组key-val</span></span><br><span class="line">dic = &#123;&#125;</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">    line = <span class="built_in">input</span>().split()</span><br><span class="line">    key = <span class="built_in">int</span>(line[<span class="number">0</span>])</span><br><span class="line">    value = <span class="built_in">int</span>(line[<span class="number">1</span>])</span><br><span class="line">    dic[key] = dic.get(key,<span class="number">0</span>) + value</span><br><span class="line"><span class="keyword">for</span> key <span class="keyword">in</span> <span class="built_in">sorted</span>(dic):</span><br><span class="line">    print(key, dic.get(key))</span><br></pre></td></tr></table></figure>

<h3 id="9M提取不重复的整数"><a href="#9M提取不重复的整数" class="headerlink" title="9M提取不重复的整数"></a>9M提取不重复的整数</h3><h4 id="数组-位运算-哈希"><a href="#数组-位运算-哈希" class="headerlink" title="数组/位运算/哈希"></a>数组/位运算/哈希</h4><p><strong>描述</strong></p>
<p>输入一个int型整数，按照从右向左的阅读顺序，返回一个不含重复数字的新的整数。</p>
<p>保证输入的整数最后一位不是0。</p>
<p><strong>输入描述</strong>：</p>
<p>输入一个int型整数</p>
<p><strong>输出描述</strong>：</p>
<p>按照从右向左的阅读顺序，返回一个不含重复数字的新的整数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">temp = <span class="built_in">input</span>()</span><br><span class="line">ans = <span class="built_in">list</span>(temp)[::-<span class="number">1</span>]</span><br><span class="line">anss = []</span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> ans:</span><br><span class="line">    <span class="keyword">if</span> item <span class="keyword">not</span> <span class="keyword">in</span> anss:</span><br><span class="line">        anss.append(item)</span><br><span class="line">print(<span class="string">&#x27;&#x27;</span>.join(<span class="string">&#x27;%s&#x27;</span> %i <span class="keyword">for</span> i <span class="keyword">in</span> anss))</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>:m:’’.join()将list中的元素转化成string,如果list中有number,则需要使用格式<code>&#39;&#39;.join(&#39;%s&#39; %i for i in list)</code></p>
<h3 id="10E字符个数统计"><a href="#10E字符个数统计" class="headerlink" title="10E字符个数统计"></a><strong>10E字符个数统计</strong></h3><h4 id="字符串-哈希-1"><a href="#字符串-哈希-1" class="headerlink" title="字符串/哈希"></a>字符串/哈希</h4><h4 id="思路-考点-7"><a href="#思路-考点-7" class="headerlink" title="思路/考点"></a>思路/考点</h4><ul>
<li>如何记录已存在的值,如果当前值已经存在,则跳过该值的后续操作</li>
</ul>
<p><strong>描述</strong></p>
<p>编写一个函数，计算字符串中含有的不同字符的个数。字符在ASCII码范围内(0~127，包括0和127)，换行表示结束符，不算在字符里。不在范围内的不作统计。多个相同的字符只计算一次</p>
<p>例如，对于字符串abaca而言，有a、b、c三种不同的字符，因此输出3。</p>
<p><strong>输入描述：</strong></p>
<p>输入一行没有空格的字符串。</p>
<p><strong>输出描述：</strong></p>
<p>输出 输入字符串 中范围在(0~127，包括0和127)字符的种数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        zifu = <span class="built_in">input</span>()</span><br><span class="line">        a=<span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> zifu:</span><br><span class="line">            <span class="keyword">if</span> i <span class="keyword">in</span> a <span class="keyword">and</span> <span class="number">0</span>&lt;<span class="built_in">ord</span>(i)&lt;<span class="number">127</span>:</span><br><span class="line">                <span class="keyword">pass</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                a+=i</span><br><span class="line">        print(<span class="built_in">len</span>(a))</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<h3 id="11E数字颠倒"><a href="#11E数字颠倒" class="headerlink" title="11E数字颠倒"></a>11E数字颠倒</h3><h4 id="字符串-3"><a href="#字符串-3" class="headerlink" title="字符串"></a>字符串</h4><h4 id="思路-考点-8"><a href="#思路-考点-8" class="headerlink" title="思路/考点"></a>思路/考点</h4><ul>
<li>考察对tuple/string/list使用slice操作[::-1]</li>
</ul>
<p>输入一个整数，将这个整数以字符串的形式逆序输出</p>
<p>程序不考虑负数的情况，若数字含有0，则逆序形式也含有0，如输入为100，则输出为001</p>
<p>输入一个int整数</p>
<p>将这个整数以字符串的形式逆序输出</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">temp = <span class="built_in">input</span>()[::-<span class="number">1</span>]</span><br><span class="line">print(temp)</span><br></pre></td></tr></table></figure>

<h3 id="12E字符串反转"><a href="#12E字符串反转" class="headerlink" title="12E字符串反转"></a>12E字符串反转</h3><h4 id="字符串-4"><a href="#字符串-4" class="headerlink" title="字符串"></a>字符串</h4><h4 id="思路-考点-9"><a href="#思路-考点-9" class="headerlink" title="思路/考点"></a>思路/考点</h4><p>接受一个只包含小写字母的字符串，然后输出该字符串反转后的字符串。（字符串长度不超过1000）</p>
<p>输入一行，为一个只包含小写字母的字符串。</p>
<p>输出该字符串反转后的字符串。</p>
<p><strong>Essrntial：同11数字颠倒</strong></p>
<h3 id="13H句子逆序"><a href="#13H句子逆序" class="headerlink" title="13H句子逆序"></a>13H句子逆序</h3><h4 id="数组-1"><a href="#数组-1" class="headerlink" title="数组"></a>数组</h4><h4 id="思路-考点-10"><a href="#思路-考点-10" class="headerlink" title="思路/考点"></a>思路/考点</h4><ul>
<li>控制输入，使用split()将输入的string转化成list，以方便后续操作</li>
<li>控制输出，使用.join()，将list转化成string，其中sep=‘ ’</li>
</ul>
<p>将一个英文语句以单词为单位逆序排放。例如“I am a boy”，逆序排放后为“boy a am I”<br>所有单词之间用一个空格隔开，语句中除了英文字母外，不再包含其他字符</p>
<p>输入一个英文语句，每个单词用空格隔开。保证输入只包含空格和字母。</p>
<p>得到逆序的句子</p>
<p>I am a boy</p>
<p>boy a am I</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        temp = <span class="built_in">input</span>().split()[::-<span class="number">1</span>]</span><br><span class="line">        print(<span class="string">&#x27; &#x27;</span>.join(temp))</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<h3 id="14M字符串排序"><a href="#14M字符串排序" class="headerlink" title="14M字符串排序"></a>14M字符串排序</h3><p>输入一定的字符串，将字符串按照字母优先级进行排序</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">words = []</span><br><span class="line">num = <span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(num):</span><br><span class="line">    word = <span class="built_in">input</span>()</span><br><span class="line">    words.append(word)</span><br><span class="line">words.sort()</span><br><span class="line"><span class="comment"># 不能直接遍历words.sort()，否则返回None</span></span><br><span class="line"><span class="keyword">for</span> item <span class="keyword">in</span> words:</span><br><span class="line">    print(item)</span><br></pre></td></tr></table></figure>

<p>sort()即可进行数字排序也可以对单词按照字母优先级进行排序</p>
<h3 id="15E求int数据在存贮中使用1的个数"><a href="#15E求int数据在存贮中使用1的个数" class="headerlink" title="15E求int数据在存贮中使用1的个数"></a>15E求int数据在存贮中使用1的个数</h3><h4 id="位运算"><a href="#位运算" class="headerlink" title="位运算"></a>位运算</h4><h4 id="思路-考点-11"><a href="#思路-考点-11" class="headerlink" title="思路/考点"></a>思路/考点</h4><ul>
<li>使用bin（）将输入的base=10数据转化成binary数据（str）</li>
<li>使用str的slice将0b（二进制开头）去除[2:]</li>
<li>使用.count（‘item’） 返回str中‘item’出现的次数</li>
</ul>
<p><strong>描述</strong></p>
<p>输入一个int型的正整数，计算出该int型数据在内存中存储时1的个数。</p>
<p><strong>输入描述：</strong></p>
<p> 输入一个整数（int类型）</p>
<p><strong>输出描述：</strong></p>
<p> 这个数转换成2进制后，输出1的个数</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">temp = <span class="built_in">bin</span>(<span class="built_in">int</span>(<span class="built_in">input</span>()))</span><br><span class="line">print(<span class="built_in">str</span>(temp)[<span class="number">2</span>:].count(<span class="string">&#x27;1&#x27;</span>))</span><br></pre></td></tr></table></figure>

<h3 id="16M购物单【-star-star-star-】"><a href="#16M购物单【-star-star-star-】" class="headerlink" title="16M购物单【:star::star::star:】"></a>16M购物单【:star::star::star:】</h3><h4 id="动态规划"><a href="#动态规划" class="headerlink" title="动态规划"></a>动态规划</h4><h4 id="思路-考点-12"><a href="#思路-考点-12" class="headerlink" title="思路/考点"></a>思路/考点</h4><p><strong>描述</strong></p>
<p>王强今天很开心，公司发给N元的年终奖。王强决定把年终奖用于购物，他把想买的物品分为两类：主件与附件，附件是从属于某个主件的，下表就是一些主件与附件的例子：</p>
<table>
<thead>
<tr>
<th align="center">主件</th>
<th align="center">附件</th>
</tr>
</thead>
<tbody><tr>
<td align="center">电脑</td>
<td align="center">打印机，扫描仪</td>
</tr>
<tr>
<td align="center">书柜</td>
<td align="center">图书</td>
</tr>
<tr>
<td align="center">书桌</td>
<td align="center">台灯，文具</td>
</tr>
<tr>
<td align="center">工作椅</td>
<td align="center">无</td>
</tr>
</tbody></table>
<p>如果要买归类为附件的物品，必须先买该附件所属的主件。每个主件可以有 0 个、 1 个或 2 个附件。附件不再有从属于自己的附件。王强想买的东西很多，为了不超出预算，他把每件物品规定了一个重要度，分为 5 等：用整数 1 <strong>~</strong> 5 表示，第 5 等最重要。他还从因特网上查到了每件物品的价格（都是 10 元的整数倍）。他希望在不超过 N 元（可以等于 N 元）的前提下，使每件物品的价格与重要度的乘积的总和最大。</p>
<p>  设第 j 件物品的价格为 v[j] ，重要度为 w[j] ，共选中了 k 件物品，编号依次为 j 1 ， j 2 ，……， j k ，则所求的总和为：</p>
<p>v[j 1 ]*w[j 1 ]+v[j 2 ]*w[j 2 ]+ … +v[j k ]*w[j k ] 。（其中 * 为乘号）</p>
<p>  请你帮助王强设计一个满足要求的购物单。</p>
<p> <strong>输入描述：</strong></p>
<p>输入的第 1 行，为两个正整数，用一个空格隔开：N m</p>
<p>（其中 N （ &lt;32000 ）表示总钱数， m （ &lt;60 ）为希望购买物品的个数。）</p>
<p>从第 2 行到第 m+1 行，第 j 行给出了编号为 j-1 的物品的基本数据，每行有 3 个非负整数 v p q</p>
<p>（其中 v 表示该物品的价格（ v&lt;10000 ）， p 表示该物品的重要度（ 1 **~** 5 ）， q 表示该物品是主件还是附件。如果 q=0 ，表示该物品为主件，如果 q&gt;0 ，表示该物品为附件， q 是所属主件的编号）</p>
<p><strong>输出描述：</strong></p>
<p> 输出文件只有一个正整数，为不超过总钱数的物品的价格与重要度乘积的总和的最大值（ &lt;200000 ）。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line">money, things = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())</span><br><span class="line">money = money // <span class="number">10</span>  <span class="comment"># money都是10的整数，整除后，减小循环次数</span></span><br><span class="line"><span class="comment"># 三列分别表示主件，附件1，附件2</span></span><br><span class="line">weight = [[<span class="number">0</span>] * <span class="number">3</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, things + <span class="number">1</span>)]  <span class="comment"># 价格</span></span><br><span class="line">value = [[<span class="number">0</span>] * <span class="number">3</span> <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, things + <span class="number">1</span>)]  <span class="comment"># 价值=价格*重要度</span></span><br><span class="line">result = [[<span class="number">0</span>] * (money + <span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, things + <span class="number">1</span>)]</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, things + <span class="number">1</span>):</span><br><span class="line">    prices, degree, depend = <span class="built_in">map</span>(<span class="built_in">int</span>, <span class="built_in">input</span>().split())  <span class="comment"># 分别为价格，重要性，主附件</span></span><br><span class="line">    prices = prices // <span class="number">10</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> depend == <span class="number">0</span>:  <span class="comment"># 主件</span></span><br><span class="line">        weight[i][<span class="number">0</span>] = prices</span><br><span class="line">        value[i][<span class="number">0</span>] = prices * degree</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> weight[depend][<span class="number">1</span>] == <span class="number">0</span>:  <span class="comment"># 附件</span></span><br><span class="line">        weight[depend][<span class="number">1</span>] = prices  <span class="comment"># 第一个附件</span></span><br><span class="line">        value[depend][<span class="number">1</span>] = prices * degree</span><br><span class="line"></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        weight[depend][<span class="number">2</span>] = prices  <span class="comment"># 第二个附件</span></span><br><span class="line">        value[depend][<span class="number">2</span>] = prices * degree</span><br><span class="line"><span class="comment"># 遍历计算</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, things + <span class="number">1</span>):  <span class="comment"># 每几件物品</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(money, -<span class="number">1</span>, -<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> j &gt;= weight[i][<span class="number">0</span>]:  <span class="comment"># 当前价格j可以容下第i个主件时,比较（上一个物品对应价格的价值）与（第i个物品的价值 + 余额价格对应上个物品价值）</span></span><br><span class="line">            result[i][j] = <span class="built_in">max</span>(result[i - <span class="number">1</span>][j], result[i - <span class="number">1</span>][j - weight[i][<span class="number">0</span>]] + value[i][<span class="number">0</span>])</span><br><span class="line">            <span class="comment"># 在确定主件可容纳，并做相应计算之后,判断附件的容纳情况，如果主件都没有办法容纳，则附件必定不可容纳</span></span><br><span class="line">            <span class="keyword">if</span> j &gt;= (weight[i][<span class="number">0</span>] + weight[i][<span class="number">1</span>]):</span><br><span class="line">                <span class="comment"># 当可以容下第i个主件和此主件的第1个附件时，此时需要在比大小时加入当前最优，保证添加附件的结果不会反而更小</span></span><br><span class="line">                <span class="comment"># 比较（当前价格对应上一物品的价值）与（主键价值+附件1价值+上一物品在价格（j-主键价格-附件1价格）时对应的价值）</span></span><br><span class="line">                result[i][j] = <span class="built_in">max</span>(result[i][j], result[i - <span class="number">1</span>][j], result[i - <span class="number">1</span>][j - weight[i][<span class="number">0</span>] - weight[i][<span class="number">1</span>]] + value[i][<span class="number">0</span>] + value[i][<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> j &gt;= (weight[i][<span class="number">0</span>] + weight[i][<span class="number">2</span>]):</span><br><span class="line">                <span class="comment"># 可以容下第i个主件和此主件的第2个附件，此时也需要在比大小时加入当前最优，保证添加附件的结果不会反而更小</span></span><br><span class="line">                <span class="comment"># 比较（当前价格对应上一物品的价值）与（主键价值+附件2价值+上一物品在价格（j-主键价格-附件2价格）时对应的价值）,</span></span><br><span class="line">                result[i][j] = <span class="built_in">max</span>(result[i][j], result[i - <span class="number">1</span>][j], result[i - <span class="number">1</span>][j - weight[i][<span class="number">0</span>] - weight[i][<span class="number">2</span>]] + value[i][<span class="number">0</span>] + value[i][<span class="number">2</span>])</span><br><span class="line">                <span class="comment"># 根据3件物品价格之和必然大于等于2件物品的规则，只有在能容纳主件和附件2时，才有判断全部容纳可能性的必要</span></span><br><span class="line">                <span class="keyword">if</span> j &gt;= (weight[i][<span class="number">0</span>] + weight[i][<span class="number">1</span>] + weight[i][<span class="number">2</span>]):</span><br><span class="line">                    <span class="comment"># 当判断通过，则判断当前值与上物品计算当前价格价值与当前3物品情况价值中最大值，同时还要比较目前最优值</span></span><br><span class="line">                    result[i][j] = <span class="built_in">max</span>(result[i][j], result[i - <span class="number">1</span>][j], result[i - <span class="number">1</span>][j - weight[i][<span class="number">0</span>] - weight[i][<span class="number">1</span>] - weight[i][<span class="number">2</span>]] + value[i][<span class="number">0</span>] + value[i][<span class="number">1</span>] + value[i][<span class="number">2</span>])</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 当前价格j不能容下第i个主件时,价值为上一个物品的对应价格的价值</span></span><br><span class="line">            result[i][j] = result[i - <span class="number">1</span>][j]</span><br><span class="line">print(result[things][money] * <span class="number">10</span>)</span><br></pre></td></tr></table></figure>

<h3 id="17H坐标移动"><a href="#17H坐标移动" class="headerlink" title="17H坐标移动"></a>17H坐标移动</h3><h4 id="思路-考点-13"><a href="#思路-考点-13" class="headerlink" title="思路/考点"></a>思路/考点</h4><p><code>使用isdigit判断输入的字符串是否为整数；使用slice[start:end)</code></p>
<p>开发一个坐标计算工具， A表示向左移动，D表示向右移动，W表示向上移动，S表示向下移动。从（0,0）点开始移动，从输入字符串里面读取一些坐标，并将最终输入结果输出到输出文件里面。</p>
<p>输入：</p>
<p>合法坐标为A(或者D或者W或者S) + 数字（两位以内）</p>
<p>坐标之间以;分隔。</p>
<p>非法坐标点需要进行丢弃。如AA10; A1A; $%$; YAD; 等。</p>
<p>下面是一个简单的例子 如：</p>
<p>A10;S20;W10;D30;X;A1A;B10A11;;A10;</p>
<p>处理过程：</p>
<p>起点（0,0）</p>
<p>+  A10  = （-10,0）</p>
<p>+  S20  = (-10,-20)</p>
<p>+  W10 = (-10,-10)</p>
<p>+  D30 = (20,-10)</p>
<p>+  x  = 无效</p>
<p>+  A1A  = 无效</p>
<p>+  B10A11  = 无效</p>
<p>+ 一个空 不影响</p>
<p>+  A10 = (10,-10)</p>
<p>结果 （10， -10）</p>
<p><strong>注意请处理多组输入输出</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        s = <span class="built_in">input</span>().split(<span class="string">&#x27;;&#x27;</span>)</span><br><span class="line">        x, y = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> c <span class="keyword">in</span> s:</span><br><span class="line">            <span class="keyword">if</span> <span class="keyword">not</span> c:</span><br><span class="line">                <span class="keyword">continue</span></span><br><span class="line">            <span class="keyword">elif</span> c[<span class="number">0</span>] == <span class="string">&#x27;A&#x27;</span> <span class="keyword">and</span> c[<span class="number">1</span>:].isdigit():</span><br><span class="line">                x -= <span class="built_in">int</span>(c[<span class="number">1</span>:])</span><br><span class="line">            <span class="keyword">elif</span> c[<span class="number">0</span>] == <span class="string">&#x27;S&#x27;</span> <span class="keyword">and</span> c[<span class="number">1</span>:].isdigit():</span><br><span class="line">                y -= <span class="built_in">int</span>(c[<span class="number">1</span>:])</span><br><span class="line">            <span class="keyword">elif</span> c[<span class="number">0</span>] == <span class="string">&#x27;W&#x27;</span> <span class="keyword">and</span> c[<span class="number">1</span>:].isdigit():</span><br><span class="line">                y += <span class="built_in">int</span>(c[<span class="number">1</span>:])</span><br><span class="line">            <span class="keyword">elif</span> c[<span class="number">0</span>] == <span class="string">&#x27;D&#x27;</span> <span class="keyword">and</span> c[<span class="number">1</span>:].isdigit():</span><br><span class="line">                x += <span class="built_in">int</span>(c[<span class="number">1</span>:])</span><br><span class="line">        print(<span class="built_in">str</span>(x)+<span class="string">&#x27;,&#x27;</span>+<span class="built_in">str</span>(y))</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<h3 id="18H识别有效的IP地址和掩码并进行分类统计"><a href="#18H识别有效的IP地址和掩码并进行分类统计" class="headerlink" title="18H识别有效的IP地址和掩码并进行分类统计"></a>18H识别有效的IP地址和掩码并进行分类统计</h3><h4 id="字符串-查找"><a href="#字符串-查找" class="headerlink" title="字符串/查找"></a>字符串/查找</h4><h4 id="思路-考点-14"><a href="#思路-考点-14" class="headerlink" title="思路/考点"></a>思路/考点</h4><p>请解析IP地址和对应的掩码，进行分类识别。要求按照A/B/C/D/E类地址归类，不合法的地址和掩码单独归类。</p>
<p>所有的IP地址划分为 A,B,C,D,E五类</p>
<p>A类地址1.0.0.0~126.255.255.255;</p>
<p>B类地址128.0.0.0~191.255.255.255;</p>
<p>C类地址192.0.0.0~223.255.255.255;</p>
<p>D类地址224.0.0.0~239.255.255.255；</p>
<p>E类地址240.0.0.0~255.255.255.255</p>
<p>私网IP范围是：</p>
<p>10.0.0.0～10.255.255.255</p>
<p>172.16.0.0～172.31.255.255</p>
<p>192.168.0.0～192.168.255.255</p>
<p>子网掩码为二进制下前面是连续的1，然后全是0。（例如：255.255.255.32就是一个非法的掩码）</p>
<p>注意二进制下全是1或者全是0均为非法</p>
<p>注意：</p>
<p>\1. 类似于【0.<em>.</em>.】和【127..*.*】的IP地址不属于上述输入的任意一类，也不属于不合法ip地址，计数时可以忽略</p>
<p>\2. 私有IP地址和A,B,C,D,E类地址是不冲突的</p>
<p><strong>输入描述：</strong></p>
<p>多行字符串。每行一个IP地址和掩码，用~隔开。</p>
<p><strong>输出描述：</strong></p>
<p>统计A、B、C、D、E、错误IP地址或错误掩码、私有IP的个数，之间以空格隔开。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">ans = [<span class="number">0</span>] * <span class="number">7</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        m = <span class="built_in">input</span>().split(<span class="string">&quot;~&quot;</span>)</span><br><span class="line">        m0 = m[<span class="number">0</span>].split(<span class="string">&quot;.&quot;</span>)  <span class="comment"># ip 地址</span></span><br><span class="line">        m1 = m[<span class="number">1</span>].split(<span class="string">&quot;.&quot;</span>)  <span class="comment"># 子网掩码</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 检查是否有“空”的格式错误， 例如192..0.2</span></span><br><span class="line">        flag = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> m0 + m1:</span><br><span class="line">            <span class="keyword">if</span> i.isdigit() <span class="keyword">is</span> <span class="literal">False</span>:</span><br><span class="line">                ans[<span class="number">5</span>] += <span class="number">1</span>  <span class="comment"># type 5</span></span><br><span class="line">                flag = <span class="literal">True</span></span><br><span class="line">                <span class="keyword">break</span></span><br><span class="line">        <span class="keyword">if</span> flag <span class="keyword">is</span> <span class="literal">True</span>:</span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 求子网掩码的二进制格式 = m2</span></span><br><span class="line">        m2 = <span class="string">&quot;&quot;</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> m1:</span><br><span class="line">            temp = <span class="string">&quot;&#123;0:b&#125;&quot;</span>.<span class="built_in">format</span>(<span class="built_in">int</span>(i))  <span class="comment"># 二进制转换</span></span><br><span class="line">            m2 += <span class="string">&#x27;0&#x27;</span> * (<span class="number">8</span> - <span class="built_in">len</span>(temp)) + temp  <span class="comment"># 补全8bit</span></span><br><span class="line">        <span class="comment"># 检查子网掩码格式</span></span><br><span class="line">        count = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(m2) - <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> m2[i] != m2[i + <span class="number">1</span>]:</span><br><span class="line">                count += <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> count != <span class="number">1</span>:  <span class="comment"># ==1 说明格式正确</span></span><br><span class="line">            ans[<span class="number">5</span>] += <span class="number">1</span>  <span class="comment"># type 5</span></span><br><span class="line">            count = <span class="number">0</span></span><br><span class="line">            <span class="keyword">continue</span></span><br><span class="line"></span><br><span class="line">        <span class="comment"># 统计</span></span><br><span class="line">        <span class="keyword">if</span> <span class="number">1</span> &lt;= <span class="built_in">int</span>(m0[<span class="number">0</span>]) &lt;= <span class="number">126</span>:</span><br><span class="line">            ans[<span class="number">0</span>] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="number">128</span> &lt;= <span class="built_in">int</span>(m0[<span class="number">0</span>]) &lt;= <span class="number">191</span>:</span><br><span class="line">            ans[<span class="number">1</span>] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="number">192</span> &lt;= <span class="built_in">int</span>(m0[<span class="number">0</span>]) &lt;= <span class="number">223</span>:</span><br><span class="line">            ans[<span class="number">2</span>] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="number">224</span> &lt;= <span class="built_in">int</span>(m0[<span class="number">0</span>]) &lt;= <span class="number">239</span>:</span><br><span class="line">            ans[<span class="number">3</span>] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="number">240</span> &lt;= <span class="built_in">int</span>(m0[<span class="number">0</span>]) &lt;= <span class="number">255</span>:</span><br><span class="line">            ans[<span class="number">4</span>] += <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">int</span>(m0[<span class="number">0</span>]) == <span class="number">10</span>:</span><br><span class="line">            ans[<span class="number">6</span>] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">int</span>(m0[<span class="number">0</span>]) == <span class="number">172</span> <span class="keyword">and</span> <span class="number">16</span> &lt;= <span class="built_in">int</span>(m0[<span class="number">1</span>]) &lt;= <span class="number">31</span>:</span><br><span class="line">            ans[<span class="number">6</span>] += <span class="number">1</span></span><br><span class="line">        <span class="keyword">elif</span> <span class="built_in">int</span>(m0[<span class="number">0</span>]) == <span class="number">192</span> <span class="keyword">and</span> <span class="built_in">int</span>(m0[<span class="number">1</span>]) == <span class="number">168</span>:</span><br><span class="line">            ans[<span class="number">6</span>] += <span class="number">1</span></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(ans) - <span class="number">1</span>):</span><br><span class="line">    print(ans[i], end=<span class="string">&quot; &quot;</span>)</span><br><span class="line">print(ans[-<span class="number">1</span>], end=<span class="string">&quot;&quot;</span>)</span><br></pre></td></tr></table></figure>

<h3 id="19H简单错误记录"><a href="#19H简单错误记录" class="headerlink" title="19H简单错误记录"></a>19H简单错误记录</h3><h4 id="字符串-5"><a href="#字符串-5" class="headerlink" title="字符串"></a>字符串</h4><h4 id="思路-考点-15"><a href="#思路-考点-15" class="headerlink" title="思路/考点"></a>思路/考点</h4><p><strong>描述</strong></p>
<p>开发一个简单错误记录功能小模块，能够记录出错的代码所在的文件名称和行号。</p>
<p><strong>处理：</strong></p>
<p>1、 记录最多8条错误记录，循环记录，最后只用输出最后出现的八条错误记录。对相同的错误记录只记录一条，但是<strong>错误计数增加。最后一个斜杠后面的带后缀名的部分（保留最后16位）和行号完全匹配的记录才做算是”相同“的错误记录。</strong></p>
<p>2、 超过16个字符的文件名称，只记录文件的最后有效16个字符；</p>
<p>3、 输入的文件可能带路径，记录文件名称不能带路径。</p>
<p>4、循环记录时，只以第一次出现的顺序为准，后面重复的不会更新它的出现时间，仍以第一次为准</p>
<p><strong>输入描述：</strong></p>
<p>每组只包含一个测试用例。一个测试用例包含一行或多行字符串。每行包括带路径文件名称，行号，以空格隔开。</p>
<p><strong>输出描述：</strong></p>
<p>将所有的记录统计并将结果输出，格式：文件名 代码行数 数目，一个空格隔开，如：</p>
<p><strong>示例1</strong></p>
<p>输入：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">D:\zwtymj\xccb\ljj\cqzlyaszjvlsjmkwoqijggmybr 645</span><br><span class="line">E:\je\rzuwnjvnuz 633</span><br><span class="line">C:\km\tgjwpb\gy\atl 637</span><br><span class="line">F:\weioj\hadd\connsh\rwyfvzsopsuiqjnr 647</span><br><span class="line">E:\ns\mfwj\wqkoki\eez 648</span><br><span class="line">D:\cfmwafhhgeyawnool 649</span><br><span class="line">E:\czt\opwip\osnll\c 637</span><br><span class="line">G:\nt\f 633</span><br><span class="line">F:\fop\ywzqaop 631</span><br><span class="line">F:\yay\jc\ywzqaop 631</span><br></pre></td></tr></table></figure>

<p>输出：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">rzuwnjvnuz 633 1</span><br><span class="line">atl 637 1</span><br><span class="line">rwyfvzsopsuiqjnr 647 1</span><br><span class="line">eez 648 1</span><br><span class="line">fmwafhhgeyawnool 649 1</span><br><span class="line">c 637 1</span><br><span class="line">f 633 1</span><br><span class="line">ywzqaop 631 2</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 初始全纪录list</span></span><br><span class="line">nv = []  </span><br><span class="line"><span class="comment"># 初始去除重复list</span></span><br><span class="line">check = []  </span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        word, n = <span class="built_in">input</span>().split()  <span class="comment"># 处理数据，先以空格区分</span></span><br><span class="line">        word = word.split(<span class="string">&quot;\\&quot;</span>)  <span class="comment"># 再以\区分</span></span><br><span class="line">        word = word[-<span class="number">1</span>]  <span class="comment"># 提取最后一项</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(word) &gt; <span class="number">16</span>:  <span class="comment"># 规范为最大十六位</span></span><br><span class="line">            word = word[(<span class="built_in">len</span>(word) - <span class="number">16</span>)::]  <span class="comment"># 只要最后十六位</span></span><br><span class="line">        str1 = word + <span class="string">&quot; &quot;</span> + n  <span class="comment"># 由于要求行数和后缀完全匹配才算，直接重新合并判断这一整条就好了不用分开</span></span><br><span class="line">        nv.append(str1)  <span class="comment"># 输入list里全纪录</span></span><br><span class="line">        <span class="keyword">if</span> str1 <span class="keyword">not</span> <span class="keyword">in</span> check:  <span class="comment"># 模拟set功能，由于set会乱序在这不能用</span></span><br><span class="line">            check.append(str1)  <span class="comment"># 当为新的时候添加</span></span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line"><span class="comment"># 当错误记录大于8项时（去除重复），只用最后八项设n=8</span></span><br><span class="line"><span class="keyword">if</span> <span class="built_in">len</span>(check) &gt; <span class="number">8</span>:  </span><br><span class="line">    n = <span class="number">8</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    <span class="comment"># 小于8项时</span></span><br><span class="line">    n = <span class="built_in">len</span>(check)  </span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(n):</span><br><span class="line">    <span class="comment"># 由于可能小于八项无法直接-8+i起始，换成（总长度-n+i）逐个提取</span></span><br><span class="line">    str2 = check[(<span class="built_in">len</span>(check)-n+i)] + <span class="string">&quot; &quot;</span> + <span class="built_in">str</span>(nv.count(check[(<span class="built_in">len</span>(check)-n+i)]))</span><br><span class="line">    print(str2)</span><br></pre></td></tr></table></figure>

<h3 id="20H密码验证合格程序"><a href="#20H密码验证合格程序" class="headerlink" title="20H密码验证合格程序"></a>20H密码验证合格程序</h3><h4 id="字符串-数组"><a href="#字符串-数组" class="headerlink" title="字符串/数组"></a>字符串/数组</h4><h4 id="思路-考点-16"><a href="#思路-考点-16" class="headerlink" title="思路/考点"></a>思路/考点</h4><p>[如何检测字符串的类型是本题中的关键]</p>
<p>string.isxxx()检测</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">isdecimal():判断给定字符串是否全为数字</span><br><span class="line"></span><br><span class="line">isalpha():判断给定的字符串是否全为字母</span><br><span class="line"></span><br><span class="line">isalnum()：判断给定的字符串是否只含有数字与字母</span><br><span class="line"></span><br><span class="line">isupper():判断给定的字符串是否全为大写</span><br><span class="line"></span><br><span class="line">islower():判断给定的字符串是否全为小写</span><br><span class="line"></span><br><span class="line">istitle():判断给定的字符串是否符合title()</span><br><span class="line"></span><br><span class="line">isspace():判断给定的字符串是否为空白符（空格、换行、制表符）</span><br><span class="line"></span><br><span class="line">isprintable():判断给定的字符串是否为可打印字符（只有空格可以，换行、制表符都不可以）</span><br><span class="line"></span><br><span class="line">isidentifier():判断给定的字符串是否符合命名规则（只能是字母或下划线开头、不能包含除数字、字母和下划线</span><br><span class="line">				以外的任意字符。）</span><br></pre></td></tr></table></figure>

<p><strong>[使用slice[i:i+3]]来控制子串,同时使用string.count([:])&gt;1–&gt;False控制子串是否有长度大于3且相等的情况]</strong></p>
<p>密码要求:</p>
<p>1.长度超过8位</p>
<p>2.包括大小写字母.数字.其它符号,以上四种至少三种</p>
<p>3.不能有相同长度大于2的子串重复</p>
<p><strong>输入</strong></p>
<p>一组或多组长度超过2的字符串。每组占一行</p>
<p><strong>输出</strong></p>
<p>如果符合要求输出：OK，否则输出NG</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        line = <span class="built_in">input</span>()</span><br><span class="line">        a = <span class="number">0</span></span><br><span class="line">        b = <span class="number">0</span></span><br><span class="line">        c = <span class="number">0</span></span><br><span class="line">        d = <span class="number">0</span></span><br><span class="line">        flag = <span class="literal">True</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> line:</span><br><span class="line">            <span class="keyword">if</span> i.isdigit():</span><br><span class="line">                a = <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> i.islower():</span><br><span class="line">                b = <span class="number">1</span></span><br><span class="line">            <span class="keyword">elif</span> i.isupper():</span><br><span class="line">                c = <span class="number">1</span></span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                d = <span class="number">1</span></span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(line) - <span class="number">3</span>):</span><br><span class="line">            <span class="keyword">if</span> line.count(line[j:j + <span class="number">3</span>]) &gt; <span class="number">1</span>:</span><br><span class="line">                flag = <span class="literal">False</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(line) &gt; <span class="number">8</span> <span class="keyword">and</span> (a + b + c + d) &gt;= <span class="number">3</span> <span class="keyword">and</span> flag:</span><br><span class="line">            print(<span class="string">&quot;OK&quot;</span>)</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            print(<span class="string">&quot;NG&quot;</span>)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<h3 id="21M简单密码"><a href="#21M简单密码" class="headerlink" title="21M简单密码"></a>21M简单密码</h3><h4 id="字符串-6"><a href="#字符串-6" class="headerlink" title="字符串"></a>字符串</h4><h4 id="思路-考点-17"><a href="#思路-考点-17" class="headerlink" title="思路/考点"></a>思路/考点</h4><p>【考察】</p>
<ol>
<li>dict.get(key, defalut=Value)–&gt;不存在return None</li>
<li>ord与chr</li>
<li>字符串检测.isdigit()/is.upper()/.islower</li>
</ol>
<p><strong>描述</strong></p>
<p>密码是我们生活中非常重要的东东，我们的那么一点不能说的秘密就全靠它了。哇哈哈. 接下来渊子要在密码之上再加一套密码，虽然简单但也安全。</p>
<p>假设渊子原来一个BBS上的密码为zvbo9441987,为了方便记忆，他通过一种算法把这个密码变换成YUANzhi1987，这个密码是他的名字和出生年份，怎么忘都忘不了，而且可以明目张胆地放在显眼的地方而不被别人知道真正的密码。</p>
<p> 他是这么变换的，大家都知道手机上的字母： 1–1， abc–2, def–3, ghi–4, jkl–5, mno–6, pqrs–7, tuv–8 wxyz–9, 0–0,就这么简单，渊子把密码中出现的小写字母都变成对应的数字，数字和其他的符号都不做变换，</p>
<p> 声明：密码中没有空格，而密码中出现的大写字母则变成小写之后往后移一位，如：X，先变成小写，再往后移一位，不就是y了嘛，简单吧。记住，z往后移是a哦。</p>
<p><strong>输入描述</strong>：</p>
<p>输入包括多个测试数据。输入是一个明文，密码长度不超过100个字符，输入直到文件结尾</p>
<p><strong>输出描述：</strong></p>
<p>输出渊子真正的密文</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">temp = <span class="built_in">input</span>()</span><br><span class="line">result = <span class="string">&#x27;&#x27;</span></span><br><span class="line">mapping = &#123;<span class="string">&#x27;abc&#x27;</span>: <span class="number">2</span>, <span class="string">&#x27;def&#x27;</span>: <span class="number">3</span>, <span class="string">&#x27;ghi&#x27;</span>: <span class="number">4</span>,</span><br><span class="line">           <span class="string">&#x27;jkl&#x27;</span>: <span class="number">5</span>, <span class="string">&#x27;mno&#x27;</span>: <span class="number">6</span>, <span class="string">&#x27;pqrs&#x27;</span>: <span class="number">7</span>,</span><br><span class="line">           <span class="string">&#x27;tuv&#x27;</span>: <span class="number">8</span>, <span class="string">&#x27;wxyz&#x27;</span>: <span class="number">9</span>&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(temp)):</span><br><span class="line">    <span class="keyword">if</span> temp[i].isdigit():</span><br><span class="line">        result += temp[i]</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> temp[i].islower():</span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> mapping.keys():</span><br><span class="line">            <span class="keyword">if</span> temp[i] <span class="keyword">in</span> key:</span><br><span class="line">                result += <span class="built_in">str</span>(mapping.get(key))</span><br><span class="line"></span><br><span class="line">    <span class="keyword">elif</span> temp[i].isupper():</span><br><span class="line">        temp_char_num = <span class="built_in">ord</span>(temp[i])</span><br><span class="line">        <span class="keyword">if</span> temp_char_num == <span class="number">90</span>:</span><br><span class="line">            temp_char_num = <span class="number">64</span></span><br><span class="line">        result += <span class="built_in">chr</span>(temp_char_num+<span class="number">1</span>).lower()</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        result += temp[i]</span><br><span class="line">print(result)</span><br></pre></td></tr></table></figure>

<h3 id="22E汽水瓶"><a href="#22E汽水瓶" class="headerlink" title="22E汽水瓶"></a>22E汽水瓶</h3><h4 id="数学-模拟"><a href="#数学-模拟" class="headerlink" title="数学/模拟"></a>数学/模拟</h4><h4 id="思路-考点-18"><a href="#思路-考点-18" class="headerlink" title="思路/考点"></a>思路/考点</h4><p><strong>【连续输入整数】</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        temp = <span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<p>【<strong>从本质上讲为n//2–&gt;return value</strong>】</p>
<p><strong>描述</strong></p>
<p>有这样一道智力题：“某商店规定：三个空汽水瓶可以换一瓶汽水。小张手上有十个空汽水瓶，她最多可以换多少瓶汽水喝？”答案是5瓶，方法如下：先用9个空瓶子换3瓶汽水，喝掉3瓶满的，喝完以后4个空瓶子，用3个再换一瓶，喝掉这瓶满的，这时候剩2个空瓶子。然后你让老板先借给你一瓶汽水，喝掉这瓶满的，喝完以后用3个空瓶子换一瓶满的还给老板。如果小张手上有n个空汽水瓶，最多可以换多少瓶汽水喝？</p>
<p><strong>输入描述：</strong></p>
<p>输入文件最多包含10组测试数据，每个数据占一行，仅包含一个正整数n（1&lt;=n&lt;=100），表示小张手上的空汽水瓶数。n=0表示输入结束，你的程序不应当处理这一行。</p>
<p><strong>输出描述</strong>：</p>
<p>对于每组测试数据，输出一行，表示最多可以喝的汽水瓶数。如果一瓶也喝不到，输出0。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        temp = <span class="built_in">int</span>(<span class="built_in">input</span>())</span><br><span class="line">        n = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> temp &gt; <span class="number">1</span>:</span><br><span class="line">            temp //= <span class="number">2</span></span><br><span class="line">            print(temp)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<h3 id="23H删除字符串中出现次数最少的字符"><a href="#23H删除字符串中出现次数最少的字符" class="headerlink" title="23H删除字符串中出现次数最少的字符"></a>23H删除字符串中出现次数最少的字符</h3><h4 id="字符串-7"><a href="#字符串-7" class="headerlink" title="字符串"></a>字符串</h4><h4 id="思路-考点-19"><a href="#思路-考点-19" class="headerlink" title="思路/考点"></a>思路/考点</h4><p>【方向点】</p>
<ol>
<li>如何找到出现次数最小的元素</li>
<li>如何再字符串中剔除1中的元素</li>
<li>string.replace(ele, ‘target’)用于替换字符串中的元素，其中可以用于删除/更改操作</li>
</ol>
<p>【method1】创建一个unicode（list）记录每个ele出现的次数，如果ele出现的次数不等于min，则跳过result</p>
<p><strong>描述</strong></p>
<p>实现删除字符串中出现次数最少的字符，若多个字符出现次数一样，则都删除。输出删除这些单词后的字符串，字符串中其它字符保持原来的顺序。</p>
<p>注意每个输入文件有多组输入，即多个字符串用回车隔开</p>
<p><strong>输入描述</strong>：</p>
<p>字符串只包含小写英文字母, 不考虑非法输入，输入的字符串长度小于等于20个字节。</p>
<p><strong>输出描述</strong>：</p>
<p>删除字符串中出现次数最少的字符后的字符串。</p>
<p><strong>方法一：使用unicode[list]来存贮每个ele的出现次数</strong></p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210710202658.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># method1</span></span><br><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        temp = <span class="built_in">input</span>()</span><br><span class="line">        unicode = []</span><br><span class="line">        result = <span class="string">&#x27;&#x27;</span></span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(temp)):</span><br><span class="line">            unicode.append(temp.count(temp[i]))</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(temp)):</span><br><span class="line">            <span class="keyword">if</span> <span class="built_in">min</span>(unicode) != unicode[i]:</span><br><span class="line">                result += temp[i]</span><br><span class="line">        print(result)</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<p>方法二：使用hash table来存贮每个ele出现的次数</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210710204041.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a = <span class="built_in">min</span>(<span class="built_in">dict</span>.values)</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">dict</span>中最小的value</span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">    <span class="keyword">try</span>:</span><br><span class="line">        temp = <span class="built_in">input</span>()</span><br><span class="line">        unicode = &#123;&#125;</span><br><span class="line">        <span class="keyword">for</span> char <span class="keyword">in</span> temp:</span><br><span class="line">            unicode[char] = unicode.get(char, <span class="number">0</span>) + <span class="number">1</span></span><br><span class="line"></span><br><span class="line">        min_val = <span class="built_in">min</span>(unicode.values())</span><br><span class="line"></span><br><span class="line">        i = <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> key <span class="keyword">in</span> unicode:</span><br><span class="line">            <span class="keyword">if</span> unicode[key] == min_val:</span><br><span class="line">                i += <span class="number">1</span></span><br><span class="line">                temp = temp.replace(key, <span class="string">&#x27;&#x27;</span>)</span><br><span class="line">        print(temp.strip())</span><br><span class="line">    <span class="keyword">except</span>:</span><br><span class="line">        <span class="keyword">break</span></span><br></pre></td></tr></table></figure>

<h3 id="24H合唱队【-star-star-star-】"><a href="#24H合唱队【-star-star-star-】" class="headerlink" title="24H合唱队【:star::star::star:】"></a>24H合唱队【:star::star::star:】</h3><h4 id="动态规划-队列"><a href="#动态规划-队列" class="headerlink" title="动态规划/队列"></a>动态规划/队列</h4><h4 id="思路-考点-20"><a href="#思路-考点-20" class="headerlink" title="思路/考点"></a>思路/考点</h4><p><strong>描述</strong></p>
<p>计算最少出列多少位同学，使得剩下的同学排成合唱队形</p>
<p>说明：</p>
<p>N位同学站成一排，音乐老师要请其中的(N-K)位同学出列，使得剩下的K位同学排成合唱队形。<br>合唱队形是指这样的一种队形：设K位同学从左到右依次编号为1，2…，K，他们的身高分别为T1，T2，…，TK，  则他们的身高满足存在i（1&lt;=i&lt;=K）使得T1&lt;T2&lt;……&lt;Ti-1&lt;Ti+1&gt;……&gt;TK。</p>
<p>你的任务是，已知所有N位同学的身高，计算最少需要几位同学出列，可以使得剩下的同学排成合唱队形。</p>
<p><strong>注意：不允许改变队列元素的先后顺序</strong> <strong>且</strong> <strong>不要求最高同学左右人数必须相等</strong></p>
<p><strong>请注意处理多组输入输出！</strong></p>
<p>备注：</p>
<p>1&lt;=N&lt;=3000</p>
<p><strong>输入描述</strong>：</p>
<p>有多组用例，每组都包含两行数据，第一行是同学的总数N，第二行是N位同学的身高，以空格隔开</p>
<p><strong>输出描述</strong>：</p>
<p>最少需要几位同学出列</p>
<hr>
<h2 id="Day01"><a href="#Day01" class="headerlink" title="Day01"></a>Day01</h2><h3 id="1E-两数之和"><a href="#1E-两数之和" class="headerlink" title="1E.两数之和"></a>1E.两数之和</h3><p>给定一个整数数组 nums 和一个整数目标值 target，请你在该数组中找出 和为目标值 target  的那 两个 整数，并返回它们的数组下标。</p>
<p>你可以假设每种输入只会对应一个答案。但是，数组中同一个元素在答案里不能重复出现。</p>
<p>你可以按任意顺序返回答案。</p>
<p>思路:</p>
<ol>
<li>使用双循环暴力求解，缺点是时间复杂度会很高</li>
<li>使用哈希表，记录上一个值和对应的index</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution1</span>(<span class="params">alist, target</span>):</span></span><br><span class="line">    <span class="keyword">if</span> <span class="built_in">len</span>(alist) == <span class="number">0</span>:</span><br><span class="line">        <span class="keyword">return</span> []</span><br><span class="line">    <span class="keyword">for</span> index, val <span class="keyword">in</span> <span class="built_in">enumerate</span>(alist):</span><br><span class="line">        <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(index+<span class="number">1</span>, <span class="built_in">len</span>(alist)):</span><br><span class="line">            <span class="keyword">if</span> alist[i] + val == target:</span><br><span class="line">                <span class="keyword">return</span> [index, i]</span><br><span class="line">time = 3340ms</span><br><span class="line">memory = <span class="number">14.9</span>MB</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution2</span>(<span class="params">alist, target</span>):</span></span><br><span class="line">    hashmap = &#123;&#125;</span><br><span class="line">    <span class="keyword">for</span> index, val <span class="keyword">in</span> <span class="built_in">enumerate</span>(alist):</span><br><span class="line">        <span class="keyword">if</span> target - val <span class="keyword">in</span> hashmap:</span><br><span class="line">            <span class="keyword">return</span> hashmap[target-val], index</span><br><span class="line">        hashmap[val] = index</span><br><span class="line">time = 40ms</span><br><span class="line">memory = <span class="number">15.8</span>MB</span><br></pre></td></tr></table></figure>

<h3 id="2M-两数相加"><a href="#2M-两数相加" class="headerlink" title="2M.两数相加"></a>2M.两数相加</h3><p>给你两个 非空 的链表，表示两个非负的整数。它们每位数字都是按照 逆序 的方式存储的，并且每个节点只能存储 一位 数字。</p>
<p>请你将两个数相加，并以相同形式返回一个表示和的链表。</p>
<p>你可以假设除了数字 0 之外，这两个数都不会以 0 开头。</p>
<p><img src="https://assets.leetcode-cn.com/aliyun-lc-upload/uploads/2021/01/02/addtwonumber1.jpg" alt="img"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">solution</span>(<span class="params">l1, l2</span>):</span></span><br><span class="line">    length1, length2 = <span class="number">0</span>, <span class="number">0</span></span><br><span class="line">    p = l1</span><br><span class="line">    <span class="keyword">while</span> p:</span><br><span class="line">        length1 += <span class="number">1</span></span><br><span class="line">        p = p.<span class="built_in">next</span></span><br><span class="line">    p = l2</span><br><span class="line">    <span class="keyword">while</span> p:</span><br><span class="line">        length2 += <span class="number">1</span></span><br><span class="line">        p = p.<span class="built_in">next</span></span><br><span class="line">    <span class="keyword">if</span> length1 &lt; length2:</span><br><span class="line">        l1, l2 = l2, l1</span><br><span class="line"></span><br><span class="line">    p1, p2 = l1, l2</span><br><span class="line">    c = <span class="number">0</span></span><br><span class="line">    <span class="keyword">while</span> p2:</span><br><span class="line">        p1.val += p2.val</span><br><span class="line">        p1 = p1.<span class="built_in">next</span></span><br><span class="line">        p2 = p2.<span class="built_in">next</span></span><br><span class="line">    p1 = l1</span><br><span class="line">    <span class="keyword">while</span> p1:</span><br><span class="line">        p1.val += c</span><br><span class="line">        c = <span class="number">0</span></span><br><span class="line">        <span class="keyword">if</span> p1.val &gt; <span class="number">9</span>:</span><br><span class="line">            p1.val -= <span class="number">10</span></span><br><span class="line">            c = <span class="number">1</span></span><br><span class="line">        <span class="keyword">if</span> <span class="keyword">not</span> p1.<span class="built_in">next</span> <span class="keyword">and</span> c:</span><br><span class="line">            p1.<span class="built_in">next</span> = ListNode(<span class="number">1</span>)</span><br><span class="line">            <span class="keyword">break</span></span><br><span class="line">        p1 = p1.<span class="built_in">next</span></span><br><span class="line">    <span class="keyword">return</span> l1</span><br><span class="line">&gt;&gt;</span><br><span class="line">Time = 50ms</span><br><span class="line">Memory = <span class="number">14.9</span>M</span><br></pre></td></tr></table></figure>

<h3 id="3M求最长的回文子串"><a href="#3M求最长的回文子串" class="headerlink" title="3M求最长的回文子串"></a>3M求最长的回文子串</h3><h4 id="思路-考点-21"><a href="#思路-考点-21" class="headerlink" title="思路/考点"></a>思路/考点</h4><p>子序列！==子集</p>
<p>求子序列的问题可以理解成求解index的问题，通过控制[start：end)切片操作来实现字符串子序列的提取</p>
<p>chars=‘acbcd’的所有子字符串为：</p>
<p>{‘’, ‘b’, ‘cb’, ‘cbc’, ‘acbc’, ‘a’, ‘c’, ‘acb’, ‘bc’, ‘ac’}</p>
<p>找出长度最大的回文子串：</p>
<p>比如a，aba</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">chars = <span class="string">&quot;acbcd&quot;</span></span><br><span class="line">b = <span class="built_in">set</span>()</span><br><span class="line">length = <span class="built_in">len</span>(chars)</span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(length):</span><br><span class="line">        <span class="keyword">if</span> i+j &lt; length:</span><br><span class="line">            b.add(chars[i:i+j])</span><br><span class="line">print(b)</span><br><span class="line"></span><br><span class="line">temp = []</span><br><span class="line"><span class="keyword">for</span> ele <span class="keyword">in</span> b:</span><br><span class="line">    <span class="keyword">if</span> ele == ele[::-<span class="number">1</span>] <span class="keyword">and</span> ele != <span class="string">&#x27;&#x27;</span>:</span><br><span class="line">        temp.append(ele)</span><br><span class="line">print(temp)</span><br><span class="line">&gt;&gt;</span><br><span class="line">&#123;<span class="string">&#x27;&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;cb&#x27;</span>, <span class="string">&#x27;cbc&#x27;</span>, <span class="string">&#x27;acbc&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>, <span class="string">&#x27;acb&#x27;</span>, <span class="string">&#x27;bc&#x27;</span>, <span class="string">&#x27;ac&#x27;</span>&#125;</span><br><span class="line">[<span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;cbc&#x27;</span>, <span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/06/13/LeeCode/" data-id="ckpv081uv0000aof549d6e3en" data-title="LeeCode" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/LeeCode/" rel="tag">LeeCode</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-批评与自我批评" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/13/%E6%89%B9%E8%AF%84%E4%B8%8E%E8%87%AA%E6%88%91%E6%89%B9%E8%AF%84/" class="article-date">
  <time class="dt-published" datetime="2021-06-13T09:00:06.000Z" itemprop="datePublished">2021-06-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/06/13/%E6%89%B9%E8%AF%84%E4%B8%8E%E8%87%AA%E6%88%91%E6%89%B9%E8%AF%84/">批评与自我批评</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        
      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/06/13/%E6%89%B9%E8%AF%84%E4%B8%8E%E8%87%AA%E6%88%91%E6%89%B9%E8%AF%84/" data-id="ckpuylp1k0001akf598276phf" data-title="批评与自我批评" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%96%E7%95%8C%E8%A7%82/" rel="tag">世界观</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-我的世界观" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/13/%E6%88%91%E7%9A%84%E4%B8%96%E7%95%8C%E8%A7%82/" class="article-date">
  <time class="dt-published" datetime="2021-06-13T08:59:48.000Z" itemprop="datePublished">2021-06-13</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/06/13/%E6%88%91%E7%9A%84%E4%B8%96%E7%95%8C%E8%A7%82/">我的世界观</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="目录"><a href="#目录" class="headerlink" title="目录"></a>目录</h1><h3 id="艾思奇"><a href="#艾思奇" class="headerlink" title="艾思奇"></a>艾思奇</h3><ul>
<li><input disabled="" type="checkbox"> 辩证唯物主义 历史唯物主义艾思奇</li>
</ul>
<h3 id="卞历南"><a href="#卞历南" class="headerlink" title="卞历南"></a>卞历南</h3><ul>
<li><input disabled="" type="checkbox"> 卞历南 制度变迁的逻辑 中国现代国营企业制度之形成</li>
</ul>
<h3 id="达尔文"><a href="#达尔文" class="headerlink" title="达尔文"></a>达尔文</h3><ul>
<li><input disabled="" type="checkbox"> 达尔文 人类的由来</li>
<li><input disabled="" type="checkbox"> 达尔文 人类和动物的表情</li>
<li><input disabled="" type="checkbox"> 达尔文 物种起源</li>
</ul>
<h3 id="大卫·哈维"><a href="#大卫·哈维" class="headerlink" title="大卫·哈维"></a>大卫·哈维</h3><ul>
<li><input disabled="" type="checkbox"> 大卫·哈维 美《资本论》 第一卷</li>
<li><input disabled="" type="checkbox"> 大卫·哈维 美《资本论》 第二卷</li>
<li><input disabled="" type="checkbox"> 大卫·哈维 新自由主义简史</li>
<li><input disabled="" type="checkbox"> 大卫哈维 资本主义社会的17个矛盾</li>
</ul>
<h3 id="费约翰"><a href="#费约翰" class="headerlink" title="费约翰"></a>费约翰</h3><ul>
<li><input disabled="" type="checkbox"> 费约翰 唤醒中国</li>
</ul>
<h3 id="哥白尼"><a href="#哥白尼" class="headerlink" title="哥白尼"></a>哥白尼</h3><ul>
<li><input disabled="" type="checkbox"> 哥白尼 天体运行论</li>
</ul>
<h3 id="共产党宣言-1963-1997"><a href="#共产党宣言-1963-1997" class="headerlink" title="共产党宣言(1963 1997)"></a>共产党宣言(1963 1997)</h3><ul>
<li><input checked="" disabled="" type="checkbox"> 共产党宣言1963</li>
<li><input checked="" disabled="" type="checkbox"> 共产党宣言1997</li>
</ul>
<h3 id="赫胥黎"><a href="#赫胥黎" class="headerlink" title="赫胥黎"></a>赫胥黎</h3><ul>
<li><input disabled="" type="checkbox"> 天演论</li>
</ul>
<h3 id="康德"><a href="#康德" class="headerlink" title="康德"></a>康德</h3><ul>
<li><input disabled="" type="checkbox"> 康德三大批判合集（注释版）</li>
<li><input disabled="" type="checkbox"> 实用人类学</li>
<li><input disabled="" type="checkbox"> 永久和平论</li>
<li><input disabled="" type="checkbox"> 自然科学的形而上学基础</li>
</ul>
<h3 id="雷蒙阿隆"><a href="#雷蒙阿隆" class="headerlink" title="雷蒙阿隆"></a>雷蒙阿隆</h3><ul>
<li><input disabled="" type="checkbox"> 阶级斗争工业社会新讲</li>
</ul>
<h3 id="李达"><a href="#李达" class="headerlink" title="李达"></a>李达</h3><ul>
<li><input disabled="" type="checkbox"> 李达 唯物辩证法大纲</li>
</ul>
<h3 id="梁漱溟"><a href="#梁漱溟" class="headerlink" title="梁漱溟"></a>梁漱溟</h3><ul>
<li><input disabled="" type="checkbox"> 梁漱溟 中国文化要义</li>
<li><input disabled="" type="checkbox"> 梁漱溟 乡村建设理论</li>
</ul>
<h3 id="列宁"><a href="#列宁" class="headerlink" title="列宁"></a>列宁</h3><ul>
<li><input disabled="" type="checkbox"> 列宁 国家与革命</li>
<li><input disabled="" type="checkbox"> 列宁选集第一卷1972</li>
<li><input disabled="" type="checkbox"> 列宁选集第二卷1972</li>
<li><input disabled="" type="checkbox"> 列宁选集第三卷1972</li>
<li><input disabled="" type="checkbox"> 列宁选集第四卷1972</li>
</ul>
<h3 id="卢卡奇"><a href="#卢卡奇" class="headerlink" title="卢卡奇"></a>卢卡奇</h3><ul>
<li><input disabled="" type="checkbox"> 卢卡奇  历史和阶级意识-马克思主义辩证法研究</li>
</ul>
<h3 id="卢梭"><a href="#卢梭" class="headerlink" title="卢梭"></a>卢梭</h3><ul>
<li><input disabled="" type="checkbox"> 社会契约论2003</li>
</ul>
<h3 id="鲁迅"><a href="#鲁迅" class="headerlink" title="鲁迅"></a>鲁迅</h3><ul>
<li><input disabled="" type="checkbox"> 鲁迅 4卷 三闲集、二心集、南腔北调集</li>
</ul>
<h3 id="罗伯特欧文"><a href="#罗伯特欧文" class="headerlink" title="罗伯特欧文"></a>罗伯特欧文</h3><ul>
<li><input disabled="" type="checkbox"> 罗伯特欧文 选集一</li>
<li><input disabled="" type="checkbox"> 罗伯特欧文 选集二</li>
<li><input disabled="" type="checkbox"> 罗伯特欧文 选集三</li>
</ul>
<h3 id="马克思"><a href="#马克思" class="headerlink" title="马克思"></a>马克思</h3><ul>
<li><input disabled="" type="checkbox"> 辩证唯物主义和历史唯物主义</li>
<li><input disabled="" type="checkbox"> 马恩列斯 论共产主义社会</li>
<li><input disabled="" type="checkbox"> 马克思：法兰西内战</li>
<li><input disabled="" type="checkbox"> 马克思：哥达纲领批判</li>
<li><input disabled="" type="checkbox"> 马克思《哲学的贫困》研究读本</li>
</ul>
<h3 id="毛泽东"><a href="#毛泽东" class="headerlink" title="毛泽东"></a>毛泽东</h3><ul>
<li><input disabled="" type="checkbox"> 毛泽东选集1</li>
<li><input disabled="" type="checkbox"> 毛泽东选集2</li>
<li><input disabled="" type="checkbox"> 毛泽东选集3</li>
<li><input disabled="" type="checkbox"> 毛泽东选集4</li>
<li><input disabled="" type="checkbox"> 毛泽东选集5</li>
<li><input disabled="" type="checkbox"> 毛泽东选集6</li>
<li><input disabled="" type="checkbox"> 毛泽东选集7</li>
<li><input disabled="" type="checkbox"> 毛泽东 早期文稿1912.6-1920.11</li>
<li><input disabled="" type="checkbox"> 毛泽东 读书笔记解析</li>
<li><input disabled="" type="checkbox"> 毛泽东 读书生活</li>
<li><input disabled="" type="checkbox"> 毛泽东 社会主义政治经济学批注和谈话 上</li>
<li><input disabled="" type="checkbox"> 毛泽东 社会主义政治经济学批注和谈话 下</li>
<li><input disabled="" type="checkbox"> 毛泽东 苏联解密档案选</li>
<li><input disabled="" type="checkbox"> 毛泽东评点二十四史</li>
<li><input disabled="" type="checkbox"> 毛泽东思想1913-1943</li>
<li><input disabled="" type="checkbox"> 毛泽东思想1943-1949</li>
<li><input disabled="" type="checkbox"> 毛泽东思想1949-1957</li>
<li><input disabled="" type="checkbox"> 毛泽东思想1958-1960</li>
<li><input disabled="" type="checkbox"> 毛泽东思想1961-1968</li>
<li><input disabled="" type="checkbox"> 中央编辑组 社会主义政治经济学</li>
<li><input disabled="" type="checkbox"> 毛泽东语录</li>
</ul>
<h3 id="孟德斯鸠"><a href="#孟德斯鸠" class="headerlink" title="孟德斯鸠"></a>孟德斯鸠</h3><ul>
<li><input disabled="" type="checkbox"> 论法的精神（上册）1961</li>
<li><input disabled="" type="checkbox"> 论法的精神（下册）1963</li>
</ul>
<h3 id="摩尔根"><a href="#摩尔根" class="headerlink" title="摩尔根"></a>摩尔根</h3><ul>
<li><input disabled="" type="checkbox"> 古代社会1971</li>
</ul>
<h3 id="黄宗智"><a href="#黄宗智" class="headerlink" title="黄宗智"></a>黄宗智</h3><ul>
<li><input disabled="" type="checkbox"> 农村阶级斗争1998</li>
</ul>
<h3 id="蒲鲁东"><a href="#蒲鲁东" class="headerlink" title="蒲鲁东"></a>蒲鲁东</h3><ul>
<li><input disabled="" type="checkbox"> 什么是所有权</li>
</ul>
<h3 id="戚本禹回忆录"><a href="#戚本禹回忆录" class="headerlink" title="戚本禹回忆录"></a>戚本禹回忆录</h3><ul>
<li><input checked="" disabled="" type="checkbox"> 戚本禹回忆录 上</li>
<li><input checked="" disabled="" type="checkbox"> 戚本禹回忆录 下</li>
</ul>
<h3 id="三联书屋"><a href="#三联书屋" class="headerlink" title="三联书屋"></a>三联书屋</h3><ul>
<li><input disabled="" type="checkbox"> 资本主义文化矛盾</li>
</ul>
<h3 id="斯大林"><a href="#斯大林" class="headerlink" title="斯大林"></a>斯大林</h3><ul>
<li><input disabled="" type="checkbox"> 斯大林 苏联社会主义经济问题</li>
</ul>
<h3 id="斯诺"><a href="#斯诺" class="headerlink" title="斯诺"></a>斯诺</h3><ul>
<li><input checked="" disabled="" type="checkbox"> 西行漫记</li>
</ul>
<h3 id="维特根斯坦"><a href="#维特根斯坦" class="headerlink" title="维特根斯坦"></a>维特根斯坦</h3><ul>
<li><input disabled="" type="checkbox"> 维特根斯坦 逻辑哲学论</li>
</ul>
<h3 id="希特勒"><a href="#希特勒" class="headerlink" title="希特勒"></a>希特勒</h3><ul>
<li><input disabled="" type="checkbox"> 我的奋斗 2004</li>
</ul>
<h3 id="密洛凡·德热拉斯"><a href="#密洛凡·德热拉斯" class="headerlink" title="密洛凡·德热拉斯"></a>密洛凡·德热拉斯</h3><ul>
<li><input disabled="" type="checkbox"> 新阶级(1963 1981)</li>
</ul>
<h3 id="亚当密斯"><a href="#亚当密斯" class="headerlink" title="亚当密斯"></a>亚当密斯</h3><ul>
<li><input disabled="" type="checkbox"> 国富论2005 亚当·斯密</li>
<li><input disabled="" type="checkbox"> 国民财富的性质和原因的研究 1972</li>
</ul>
<h3 id="约翰穆勒"><a href="#约翰穆勒" class="headerlink" title="约翰穆勒"></a>约翰穆勒</h3><ul>
<li><input disabled="" type="checkbox"> 功利主义</li>
<li><input disabled="" type="checkbox"> 政治经济学原理 上</li>
<li><input disabled="" type="checkbox"> 政治经济学原理 下</li>
<li><input disabled="" type="checkbox"> 论自由（[英]约翰·密尔）</li>
</ul>
<h3 id="哲学小词典"><a href="#哲学小词典" class="headerlink" title="哲学小词典"></a>哲学小词典</h3><ul>
<li><input disabled="" type="checkbox"> 哲学小辞典</li>
</ul>
<h3 id="中国社会科学院"><a href="#中国社会科学院" class="headerlink" title="中国社会科学院"></a>中国社会科学院</h3><ul>
<li><input disabled="" type="checkbox"> 历史虚无主义的批判</li>
</ul>
<h3 id="资本论-1982-2004-2009"><a href="#资本论-1982-2004-2009" class="headerlink" title="资本论(1982 2004 2009)"></a>资本论(1982 2004 2009)</h3><ul>
<li><input disabled="" type="checkbox"> 资本论</li>
</ul>
<h3 id="资治通鉴"><a href="#资治通鉴" class="headerlink" title="资治通鉴"></a>资治通鉴</h3><ul>
<li><input disabled="" type="checkbox"> 资治通鉴全译本 柏杨 </li>
</ul>
<h3 id="佚名"><a href="#佚名" class="headerlink" title="佚名"></a>佚名</h3><ul>
<li><input disabled="" type="checkbox"> 白俄罗斯的阶级斗争系列</li>
</ul>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/06/13/%E6%88%91%E7%9A%84%E4%B8%96%E7%95%8C%E8%A7%82/" data-id="ckpuylp1f0000akf54dckg8zi" data-title="我的世界观" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E4%B8%96%E7%95%8C%E8%A7%82/" rel="tag">世界观</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Python-BuiltIn" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/06/06/Python-BuiltIn/" class="article-date">
  <time class="dt-published" datetime="2021-06-06T12:46:32.000Z" itemprop="datePublished">2021-06-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/06/06/Python-BuiltIn/">Python-BuiltIn</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Class魔法"><a href="#Class魔法" class="headerlink" title="[Class魔法]"></a>[Class魔法]</h2><h3 id="–iter–"><a href="#–iter–" class="headerlink" title="–iter–"></a>–iter–</h3><h3 id="–str-repr-format–"><a href="#–str-repr-format–" class="headerlink" title="–str/repr/format–"></a>–str/repr/format–</h3><p>string/represent</p>
<p>其实这正是<strong>反应了两者的区别</strong>，如果简单理解，这两个函数都是将一个实例转成字符串。但是不同的是，两者的使用场景不同，其中__str__更加侧重展示。所以当我们print<strong>输出给用户或者使用str函数进行类型转化</strong>的时候，Python都会默认优先调用__str__函数。而__repr__更侧重于这个实例的报告，除了实例当中的内容之外，我们往往还会附上它的类相关的信息，<strong>因为这些内容是给开发者看的</strong>。所以当我们在交互式窗口输出的时候，它会优先调用__repr__。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">       <span class="keyword">return</span> <span class="string">&#x27;x: %s, y: %s&#x27;</span> % (self.x, self.y)</span><br><span class="line">   </span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">__repr__</span>(<span class="params">self</span>):</span></span><br><span class="line">       <span class="keyword">return</span> <span class="string">&#x27;x: %s, y: %s&#x27;</span> % (self.x, self.y)</span><br></pre></td></tr></table></figure>

<p>到这里还没有结束，在有些场景当中，对于<strong>同一个对象我们可能有多种输出的格式</strong>。比如点，在有些场景下我们可能希望输出(x, y)，有时候我们又希望输出x: 3, y: 4，可能还有些场景当中，我们希望输出&lt;x, y&gt;。</p>
<p>我们针对这么多场景，如果各自实现不同的接口会非常麻烦。这个时候利用__format__当中的这个参数，就可以大大简化这个过程，我们来看代码：</p>
<p><code>.format()</code>配合<code>__format__</code>使用，减少api的设置，同时可是设置不同的输出格式</p>
<p><code>__str__</code>:侧重展示</p>
<p><code>__repr__</code>:侧重报告，可以展示类的相关信息给开发者</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># dictionary</span></span><br><span class="line">formats = &#123;</span><br><span class="line">    <span class="string">&#x27;normal&#x27;</span>: <span class="string">&#x27;x: &#123;p.x&#125;, y: &#123;p.y&#125;&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;point&#x27;</span>: <span class="string">&#x27;(&#123;p.x&#125;, &#123;p.y&#125;)&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;prot&#x27;</span>: <span class="string">&#x27;&lt;&#123;p.x&#125;, &#123;p.y&#125;&gt;&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">point</span>:</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, x, y</span>):</span></span><br><span class="line">        self.x = x</span><br><span class="line">        self.y = y</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__str__</span>(<span class="params">self</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;x: %s, y: %s&#x27;</span> % (self.x, self.y)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__format__</span>(<span class="params">self, code</span>):</span></span><br><span class="line">        <span class="comment"># use dictionary[key].format(message==&gt;/dictionary_varable/attribuate)</span></span><br><span class="line">        <span class="keyword">return</span> formats[code].<span class="built_in">format</span>(p=self)</span><br><span class="line">    </span><br><span class="line">p = point(<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line"><span class="comment"># call--&gt;&#123;:key&#125;.format(instance)</span></span><br><span class="line">print(<span class="string">&#x27;the point is &#123;:normal&#125;&#x27;</span>.<span class="built_in">format</span>(p))</span><br><span class="line">print(<span class="string">&#x27;the point is &#123;:point&#125;&#x27;</span>.<span class="built_in">format</span>(p))</span><br><span class="line">print(<span class="string">&#x27;the point is &#123;:prot&#125;&#x27;</span>.<span class="built_in">format</span>(p))</span><br><span class="line">&gt;&gt;</span><br><span class="line">the point <span class="keyword">is</span> x: <span class="number">3</span>, y: <span class="number">4</span></span><br><span class="line">the point <span class="keyword">is</span> (<span class="number">3</span>, <span class="number">4</span>)</span><br><span class="line">the point <span class="keyword">is</span> &lt;<span class="number">3</span>, <span class="number">4</span>&gt;</span><br></pre></td></tr></table></figure>

<h3 id="–contains–"><a href="#–contains–" class="headerlink" title="–contains–"></a>–contains–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">Class A:</span><br><span class="line">	<span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">		self.item = <span class="number">10</span></span><br><span class="line">       </span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__contains__</span>(<span class="params">self, item</span>):</span></span><br><span class="line">		<span class="keyword">if</span> item <span class="keyword">is</span> self.item:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">a = A()</span><br><span class="line">print(a.__contains__(<span class="number">5</span>))</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="literal">False</span></span><br></pre></td></tr></table></figure>

<h2 id="查看信息"><a href="#查看信息" class="headerlink" title="[查看信息]"></a>[查看信息]</h2><h3 id="加密Class属性"><a href="#加密Class属性" class="headerlink" title="加密Class属性"></a>加密Class属性</h3><p><strong>使用__getattribute_</strong>_进行加密</p>
<p>为了避免从实列中使用dir()或者<code>__dict__</code>access属性,可以使用<code>__getattribute__</code>:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.__name = <span class="string">&#x27;LIU&#x27;</span></span><br><span class="line">        self.__score = <span class="number">96</span></span><br><span class="line">        self.age = <span class="number">17</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattribute__</span>(<span class="params">self, item</span>):</span></span><br><span class="line">        <span class="comment"># prevent all methods to access attributes</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">None</span></span><br><span class="line"></span><br><span class="line">temp = Student()</span><br><span class="line">print(temp.age)</span><br><span class="line">print(temp.__name)</span><br><span class="line">print(temp.__dict__)</span><br><span class="line">print(<span class="built_in">dir</span>(temp))</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="literal">None</span></span><br><span class="line"><span class="literal">None</span></span><br><span class="line"><span class="literal">None</span></span><br><span class="line">[]</span><br></pre></td></tr></table></figure>

<ul>
<li>使用<code>__getattr__</code>只能对private attribute 和不存在的属性有效，当访问私有属性和不存在的属性时，return <code>__getattr__</code>里的内容</li>
</ul>
<p><strong>使用__getitem_ _</strong>进行单个key加密</p>
<p><code>access attributes use [key&#39;string&#39;]</code></p>
<p>instance[‘attr_1’]</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.__name = <span class="string">&#x27;LIU&#x27;</span></span><br><span class="line">        self.__score = <span class="number">96</span></span><br><span class="line">        self.age = <span class="number">17</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span>(<span class="params">self, key</span>):</span></span><br><span class="line">        <span class="keyword">if</span> key <span class="keyword">in</span> [<span class="string">&#x27;__name&#x27;</span>, <span class="string">&#x27;__score&#x27;</span>, <span class="string">&#x27;age&#x27;</span>]:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;the class has the attributes.&#x27;</span></span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&#x27;no access&#x27;</span></span><br><span class="line">        </span><br><span class="line">temp = Student()</span><br><span class="line">print(temp[<span class="string">&#x27;age&#x27;</span>])</span><br><span class="line">print(temp[<span class="string">&#x27;ee&#x27;</span>])</span><br><span class="line">&gt;&gt;</span><br><span class="line">the <span class="class"><span class="keyword">class</span> <span class="title">has</span> <span class="title">the</span> <span class="title">attribute</span>.</span></span><br><span class="line"><span class="class"><span class="title">no</span> <span class="title">access</span></span></span><br></pre></td></tr></table></figure>

<h3 id="访问Class属性"><a href="#访问Class属性" class="headerlink" title="访问Class属性"></a>访问Class属性</h3><p>访问属性的方法常见的有四种</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">__getattribute__() <span class="comment"># default 优先级最高</span></span><br><span class="line">instance.attribute</span><br><span class="line">__getattr__()</span><br><span class="line">__getitem__()</span><br><span class="line">.</span><br></pre></td></tr></table></figure>

<h3 id="查看class属性"><a href="#查看class属性" class="headerlink" title="查看class属性"></a>查看class属性</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Student</span>:</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self</span>):</span></span><br><span class="line">        self.__name = <span class="string">&#x27;LIU&#x27;</span> <span class="comment"># private attribute</span></span><br><span class="line">        self.__score = <span class="number">96</span></span><br><span class="line">        self.age = <span class="number">17</span></span><br><span class="line"></span><br><span class="line">temp = Student()</span><br><span class="line">print(temp.age)</span><br><span class="line">print(<span class="built_in">dir</span>(temp))</span><br><span class="line">print(temp.__dict__)</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">17</span></span><br><span class="line">[<span class="string">&#x27;_Student__name&#x27;</span>, <span class="string">&#x27;_Student__score&#x27;</span>, <span class="string">&#x27;__class__&#x27;</span>, <span class="string">&#x27;__delattr__&#x27;</span>, <span class="string">&#x27;__dict__&#x27;</span>, <span class="string">&#x27;__dir__&#x27;</span>, <span class="string">&#x27;__doc__&#x27;</span>, <span class="string">&#x27;__eq__&#x27;</span>, <span class="string">&#x27;__format__&#x27;</span>, <span class="string">&#x27;__ge__&#x27;</span>, <span class="string">&#x27;__getattribute__&#x27;</span>, <span class="string">&#x27;__gt__&#x27;</span>, <span class="string">&#x27;__hash__&#x27;</span>, <span class="string">&#x27;__init__&#x27;</span>, <span class="string">&#x27;__init_subclass__&#x27;</span>, <span class="string">&#x27;__le__&#x27;</span>, <span class="string">&#x27;__lt__&#x27;</span>, <span class="string">&#x27;__module__&#x27;</span>, <span class="string">&#x27;__ne__&#x27;</span>, <span class="string">&#x27;__new__&#x27;</span>, <span class="string">&#x27;__reduce__&#x27;</span>, <span class="string">&#x27;__reduce_ex__&#x27;</span>, <span class="string">&#x27;__repr__&#x27;</span>, <span class="string">&#x27;__setattr__&#x27;</span>, <span class="string">&#x27;__sizeof__&#x27;</span>, <span class="string">&#x27;__str__&#x27;</span>, <span class="string">&#x27;__subclasshook__&#x27;</span>, <span class="string">&#x27;__weakref__&#x27;</span>, <span class="string">&#x27;age&#x27;</span>]</span><br><span class="line">----------------</span><br><span class="line">&#123;<span class="string">&#x27;_Student__name&#x27;</span>: <span class="string">&#x27;LIU&#x27;</span>, <span class="string">&#x27;_Student__score&#x27;</span>: <span class="number">96</span>, <span class="string">&#x27;age&#x27;</span>: <span class="number">17</span>&#125;</span><br></pre></td></tr></table></figure>

<h3 id="–len–"><a href="#–len–" class="headerlink" title="–len–"></a>–len–</h3><p>Python对象含有的<strong>xxxx__这样定义的属性和方法，都有特殊用途，比如__len</strong>()。</p>
<p> 在Python中，如果你调用<code>len()</code>函数试图获取一个对象的长度，实际上，在<code>len()</code>函数内部，它自动去调用该对象的<code>__len__()</code>方法。</p>
<h3 id="–dict–"><a href="#–dict–" class="headerlink" title="–dict–"></a>–dict–</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">instance.__dict__()</span><br><span class="line">==&gt;list</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">all</span> attributes(contains private attribute)</span><br><span class="line"></span><br><span class="line"><span class="built_in">dir</span>(instance)</span><br><span class="line">==&gt;dictionary</span><br><span class="line"><span class="keyword">return</span> <span class="built_in">all</span> operations <span class="keyword">and</span> attributes</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<figure class="highlight"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__dict__ &lt;==difference==&gt; dic()</span><br></pre></td></tr></table></figure>

<p><code>__dict__与dir()</code>的区别：</p>
<ol>
<li>dir()是一个函数，返回的是list；</li>
<li><code>__dict__</code>是一个字典，键为属性名，值为属性值；</li>
<li>dir()用来寻找一个对象的所有属性，包括<code>__dict__</code>中的属性，<code>__dict__</code>是dir()的子集；</li>
<li><strong>并不是所有对象都拥有<code>__dict__</code>属性。</strong>许多内建类型就[没有<code>__dict__</code>属性，如list，此时就需要用dir()来列出对象的所有属性。</li>
</ol>
<p><strong><code>__dict__</code>是用来存储对象属性的一个字典，其键为属性名，值为属性的值。</strong></p>
<p><strong>注意:</strong></p>
<ol>
<li><p>实例的<code>__dict__</code>仅存储与该实例相关的实例属性，</p>
<p>正是因为实例的<code>__dict__</code>属性，每个实例的实例属性才会互不影响。</p>
</li>
<li><p>类的<code>__dict__</code>存储所有实例共享的变量和函数(类属性，方法等)，类的<code>__dict__</code>并不包含其父类的属性。</p>
</li>
</ol>
<p><strong>结论：</strong></p>
<p>dir()函数会自动寻找一个对象的所有属性，包括<code>__dict__</code>中的属性。</p>
<p><code>__dict__</code>是dir()的子集，dir()包含<code>__dict__</code>中的属性。</p>
<p>dir()是Python提供的一个API函数，<strong>dir()函数会自动寻找一个对象的所有属性</strong>(包括从父类中继承的属性)。</p>
<p> 一个实例的<code>__dict__</code>属性仅仅是那个实例的实例属性的集合，并不包含该实例的所有有效属性。所以如果想获取一个对象所有有效属性，应使用dir()。</p>
<hr>
<h3 id="dir"><a href="#dir" class="headerlink" title="dir()"></a>dir()</h3><p><strong>dir()</strong> 函数不带参数时，返回当前范围内的变量、方法和定义的类型列表；带参数时，返回参数的属性、方法列表。如果参数包含方法<strong>dir</strong>()，该方法将被调用。如果参数不包含<strong>dir</strong>()，该方法将最大限度地收集参数信息。</p>
<h3 id="Get与Attr"><a href="#Get与Attr" class="headerlink" title="Get与Attr"></a>Get与Attr</h3><p>如果在类中定义了<strong>getitem</strong>()方法，那么他的实例对象（假设为P）就可以这样P[key]取值。当实例对象做P[key]运算时，就会调用类中的<strong>getitem</strong>()方法。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">__getitem__(self,key):返回键对应的值。</span><br><span class="line"></span><br><span class="line">__setitem__(self,key,value)：设置给定键的值</span><br><span class="line"></span><br><span class="line">__delitem__(self,key):删除给定键对应的元素。</span><br><span class="line"></span><br><span class="line">__len__():返回元素的数量</span><br></pre></td></tr></table></figure>

<p>python的一切数据都是对象，包括函数、基本数据类型、自定义数据类型等等，这其中最复杂的就是对象内部存储的数据结构(引用)，包括类属性、数据描述符、实例属性及非数据描述符，不仅它们的优先级不一样，而且它们的回调函数也存在很大的差异，这也是本文需要阐述的地方。</p>
<p>如果以前有过Javascript的编程经验，初上Python肯定会对“.”运算符与“[]”之间的差异难以理解，它们不仅不能替换，而且完全不相关，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">mem = &#123;<span class="string">&#x27;username&#x27;</span>: <span class="string">&#x27;yiifaa&#x27;</span>&#125;</span><br><span class="line"><span class="comment"># 无法通过.运算符进行计算</span></span><br><span class="line">mem.username</span><br><span class="line"><span class="comment"># 声明String</span></span><br><span class="line">name = <span class="built_in">str</span>(<span class="string">&#x27;yiifaa&#x27;</span>)</span><br><span class="line"><span class="comment"># 无法使用“[]”运算符</span></span><br><span class="line">name[<span class="string">&#x27;upper&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p><strong>1. 为实例添加“[]”运算符支持</strong></p>
<p>这也是“<em>_ getattribute_</em>”与“<em>_ getitem_</em>”的最大差异，示例如下：<br>“<em>_ getattribute_</em>”只适用于所有的“.”运算符；<br>“<em>_ getitem_</em>”只适用于所有的“[]”运算符；</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Employee</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, username, age</span>):</span></span><br><span class="line">        self.username = username</span><br><span class="line">        self.age = age</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getattribute__</span>(<span class="params">self, attr</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>(Employee, self).__getattribute__(attr)</span><br><span class="line"></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">__getitem__</span>(<span class="params">self, attr</span>):</span></span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>(Employee, self).__getattribute__(attr)</span><br><span class="line"></span><br><span class="line">em = Employee(<span class="string">&#x27;yiifaa&#x27;</span>, <span class="number">32</span>)</span><br><span class="line"><span class="built_in">print</span> em.username</span><br><span class="line"><span class="comment">#   现在支持“[]”运算符</span></span><br><span class="line"><span class="built_in">print</span> em[<span class="string">&#x27;username&#x27;</span>]</span><br></pre></td></tr></table></figure>

<p>通过实现“<em>_ getitem_</em>”回调接口，现在Employee可以支持“[]”运算符。</p>
<ol start="2">
<li><strong>避免语法错误错误</strong></li>
</ol>
<p>在对象属性的调用中，如果没有调用了不存在的属性，则Python解释器会报错，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Traceback (most recent call last):</span><br><span class="line">  File <span class="string">&quot;&lt;stdin&gt;&quot;</span>, line <span class="number">1</span>, <span class="keyword">in</span> &lt;module&gt;</span><br><span class="line">AttributeError: <span class="string">&#x27;str&#x27;</span> <span class="built_in">object</span> has no attribute <span class="string">&#x27;length&#x27;</span></span><br></pre></td></tr></table></figure>

<p>通过覆盖实现“<em>_ getattr_</em>”回调接口可以解决此问题，如下：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">#   直接返回空对象，将此方法添加到类Employee的声明中</span><br><span class="line">def __getattr__(self, attr):</span><br><span class="line">    return None</span><br><span class="line"></span><br><span class="line"># 现在调用不存在的属性也不会报错</span><br><span class="line">print em.company</span><br></pre></td></tr></table></figure>

<p>那“<em>_ getattribute_</em>”与“<em>_ getattr_</em>”的最大差异在于：</p>
<ol>
<li>无论调用对象的什么属性，包括不存在的属性，都会首先调用“<em>_ getattribute_</em>”方法；</li>
<li>只有找不到对象的属性时，才会调用“<em>_ getattr_</em>”方法；</li>
</ol>
<p><strong>3. 将对象作为数据描述符</strong></p>
<p>这就是“<em>_ get_</em>”的作用了，将整个对象都作为数据描述符，但是请记住<strong>，要想_ get_作为数据描述符，那么此对象只能作为类属性</strong>，作为实例属性则无效，如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Dept</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line"></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__init__</span>(<span class="params">self, name</span>):</span></span><br><span class="line">          self.name = name</span><br><span class="line"></span><br><span class="line">      <span class="comment"># target是拥有此属性的对象</span></span><br><span class="line">      <span class="function"><span class="keyword">def</span> <span class="title">__get__</span>(<span class="params">self, target, <span class="built_in">type</span>=<span class="literal">None</span></span>):</span></span><br><span class="line">        <span class="comment"># 默认返回self与obj都可以</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&#x27;Dept&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="class"><span class="keyword">class</span> <span class="title">Company</span>(<span class="params"><span class="built_in">object</span></span>):</span></span><br><span class="line">    <span class="comment">#   一定要作为类属性，作为实例属性无效</span></span><br><span class="line">    dept = Dept(<span class="string">&#x27;organ&#x27;</span>)</span><br><span class="line"></span><br><span class="line"><span class="comment"># 现在的测试结果</span></span><br><span class="line">x = Company()</span><br><span class="line"><span class="comment">#   返回True</span></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">type</span>(x.dept) == <span class="built_in">str</span></span><br></pre></td></tr></table></figure>

<p><strong>4. 获取对象属性数据的三种方法</strong></p>
<p>对象的所有属性都存储在“<em>_ dict_</em>”中（启用了“<em>_ slots_</em>”除外），所以访问对象的属性数据有如下三种方法：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">print yiifaa.name</span><br><span class="line">print yiifaa.__dict__[&#39;name&#39;]</span><br><span class="line">print getattr(yiifaa, &#39;name&#39;)</span><br></pre></td></tr></table></figure>

<p><strong>结论</strong></p>
<p>每个以“__ get”为前缀的方法都是获取对象内部数据的钩子，但名称不一样，用途也存在较大的差异，只有在实践中理解它们，才能真正掌握它们的用法。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line">class Examp(object):</span><br><span class="line">    def __init__(self, username, age):</span><br><span class="line">        self.username &#x3D; username</span><br><span class="line">        self.age &#x3D; age</span><br><span class="line"></span><br><span class="line">    # 1. “_ getattribute_”只适用于所有的“.”运算符；</span><br><span class="line">    def __getattribute__(self, item):</span><br><span class="line">        print(&#39;---getattribute----&#39;)</span><br><span class="line">        return super(Examp, self).__getattribute__(item)</span><br><span class="line"></span><br><span class="line">    # 2. “_ getitem_”只适用于所有的“[]”运算符；</span><br><span class="line">    def __getitem__(self, item):</span><br><span class="line">        print(&#39;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;getitem&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#39;)</span><br><span class="line">        return super(Examp, self).__getattribute__(item)</span><br><span class="line"></span><br><span class="line">    # 3. 解决了访问不存在的属性报错问题, 找不到属性时会被调用：</span><br><span class="line">    def __getattr__(self, item):</span><br><span class="line">        return None</span><br><span class="line"></span><br><span class="line">    # 4. ““__get__””作为数据描述符，那么此对象只能作为类属性，作为实例属性则无效</span><br><span class="line">    def __get__(self, instance, owner):</span><br><span class="line">        # instance 访问此描述符的对象若通过类访问则为None   ower 指所有者的类</span><br><span class="line">        # print(id(instance), id(owner),id(Obj1))</span><br><span class="line">        print(&#39;____get____&#39;)</span><br><span class="line">        return self</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">em &#x3D; Examp(&#39;xiao66&#39;, 32)</span><br><span class="line"># print(em.username) # 输出 ---getattribute----  xiao66</span><br><span class="line"># print(em[&#39;username&#39;]) # 输出 &#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;getitem&#x3D;&#x3D;&#x3D;&#x3D;&#x3D;&#x3D; xiao66</span><br><span class="line"># print(em.length) # 输出 ---getattribute---- None</span><br><span class="line"></span><br><span class="line"># 获取对象属性的三种方法</span><br><span class="line"># print(em.username)</span><br><span class="line"># print(em.__dict__[&#39;username&#39;])</span><br><span class="line"># print(getattr(em, &#39;username&#39;))</span><br><span class="line"></span><br><span class="line"># __get__ 作用</span><br><span class="line">class Obj1(object):</span><br><span class="line">    #一定要作为类属性，作为实例属性无效</span><br><span class="line">    attr &#x3D; Examp(&#39;xiao66&#39;,12)</span><br><span class="line"></span><br><span class="line">x &#x3D; Obj1()</span><br><span class="line">print(x.attr)</span><br></pre></td></tr></table></figure>

<p><strong>总结：</strong><br>“__getattribute__”与“__getattr__”的最大差异在于：<br>1.无论调用对象的什么属性，包括不存在的属性，都会首先调用“__getattribute__”方法；<br>2.只有找不到对象的属性时，才会调用“__getattr__”方法；</p>
<p>仅希望以某种特殊的方式使用少数属性，而其他属性则按照普通属性操作。这些普通属性不会触发任何特殊代码，也不会因为遍历方法代码而浪费时间。在这些情况下，您可以对属性使用描述符<br>每次访问descriptor（即实现了__get__的类），都会先经过__get__函数。</p>
<p>需要注意的是，当使用类访问不存在的变量是，不会经过__getattr__函数。而descriptor不存在此问题，只是把instance标识为none而已</p>
<h2 id="快捷操作"><a href="#快捷操作" class="headerlink" title="[快捷操作]"></a>[快捷操作]</h2><h3 id="map-【映射】"><a href="#map-【映射】" class="headerlink" title="map()【映射】"></a>map()【映射】</h3><h3 id="–【函数，参数值】"><a href="#–【函数，参数值】" class="headerlink" title="–【函数，参数值】"></a>–【函数，参数值】</h3><p>接受迭代函数和迭代对象（list，tuple，dictionary）</p>
<p>返回迭代对象（return 物理地址）</p>
<p>可以根据输入的迭代参数对return的值进行可视化展示譬如：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>))</span><br><span class="line">y = <span class="built_in">list</span>(<span class="built_in">range</span>(<span class="number">1</span>, <span class="number">11</span>))</span><br><span class="line"></span><br><span class="line">print(<span class="built_in">map</span>(<span class="keyword">lambda</span> x, y: x * y, x, y), end=<span class="string">&#x27;\n\n&#x27;</span>)</span><br><span class="line">print(<span class="built_in">list</span>(<span class="built_in">map</span>(<span class="keyword">lambda</span> x, y: x * y, x, y)))</span><br><span class="line"></span><br><span class="line">&gt;&gt;</span><br><span class="line">&lt;<span class="built_in">map</span> <span class="built_in">object</span> at <span class="number">0x00000205E4273F48</span>&gt;</span><br><span class="line">[<span class="number">1</span>, <span class="number">4</span>, <span class="number">9</span>, <span class="number">16</span>, <span class="number">25</span>, <span class="number">36</span>, <span class="number">49</span>, <span class="number">64</span>, <span class="number">81</span>, <span class="number">100</span>]</span><br></pre></td></tr></table></figure>

<p>通俗的讲是接受函数和对应的参数（可迭代的），并返回最小参数长度所对应的函数的运算值的物理存储地址</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">map</span>(function, iterable, ...)</span><br></pre></td></tr></table></figure>

<p>它需要两个必须的参数：</p>
<ul>
<li><code>function</code> - 针对每一个迭代调用的函数</li>
<li><code>iterable</code> - 支持迭代的一个或者多个对象。在 Python 中大部分内建对象，例如 lists, dictionaries, 和 tuples 都是可迭代的。</li>
</ul>
<p>在 Python 3 中，<code>map()</code>返回一个与传入可迭代对象大小一样的 map 对象。在 Python 2中，这个函数返回一个列表 list。</p>
<p>其中function可以使用lambda关键词替换</p>
<p>你可以将任意多的可迭代对象传递给map()函数。回调函数接受的必填输入参数的数量，必须和可迭代对象的数量一致。</p>
<p>下面的例子显示如何在两个列表上执行元素级别的操作：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">multiply</span>(<span class="params">x, y</span>):</span></span><br><span class="line">	<span class="keyword">return</span> x * y</span><br><span class="line"> </span><br><span class="line">a = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>]</span><br><span class="line">b = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line"> </span><br><span class="line">result = <span class="built_in">map</span>(multiply, a, b)</span><br><span class="line"> </span><br><span class="line">print(<span class="built_in">list</span>(result))</span><br><span class="line">&gt;&gt;</span><br><span class="line">[<span class="number">2</span>, <span class="number">12</span>, <span class="number">30</span>]</span><br></pre></td></tr></table></figure>

<p>同样的代码，使用 lambda 函数，会像这样：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>]</span><br><span class="line">b = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>]</span><br><span class="line"> </span><br><span class="line">result = <span class="built_in">map</span>(<span class="keyword">lambda</span> x, y: x*y, a, b)</span><br><span class="line"> </span><br><span class="line">print(<span class="built_in">list</span>(result))</span><br></pre></td></tr></table></figure>

<p>当提供多个可迭代对象时，返回对象的数量大小和最短的迭代对象的数量一致。</p>
<p>让我们看看一个例子，当可迭代对象的长度不一致时：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">a = [<span class="number">1</span>, <span class="number">4</span>, <span class="number">6</span>]</span><br><span class="line">b = [<span class="number">2</span>, <span class="number">3</span>, <span class="number">5</span>, <span class="number">7</span>, <span class="number">8</span>]</span><br><span class="line"> </span><br><span class="line">result = <span class="built_in">map</span>(<span class="keyword">lambda</span> x, y: x*y, a, b)</span><br><span class="line"> </span><br><span class="line">print(<span class="built_in">list</span>(result))</span><br></pre></td></tr></table></figure>

<p>超过的元素 （7 和 8 ）被忽略了。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[<span class="number">2</span>, <span class="number">12</span>, <span class="number">30</span>]</span><br></pre></td></tr></table></figure>

<p><strong>三、总结</strong></p>
<p>Python 的 <code>map()</code>函数作用于一个可迭代对象，使用一个函数，并且将函数应用于这个可迭代对象的每一个元素。</p>
<h3 id="lambda【匿名函数】"><a href="#lambda【匿名函数】" class="headerlink" title="lambda【匿名函数】"></a>lambda【匿名函数】</h3><h3 id="–【变量：表达式】"><a href="#–【变量：表达式】" class="headerlink" title="–【变量：表达式】"></a>–【变量：表达式】</h3><p>本质上讲为<strong>匿名函数</strong>，接受变量和表达式</p>
<p>使用语法：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">lambda</span> argument_list:expersion</span><br></pre></td></tr></table></figure>

<ul>
<li>argument_list：变量列表</li>
<li>expression：表达式</li>
</ul>
<p><strong>lambda 常常和map（）函数结合使用</strong></p>
<h3 id="get"><a href="#get" class="headerlink" title="get()"></a>get()</h3><p><strong>字典中的get操作</strong></p>
<p>return: 返回字典中key对应value值，如果没有就return None， 而get函数可以将没有的key进行操作</p>
<p>dict.get(key, default=None)</p>
<ul>
<li>key – 字典中要查找的键。</li>
<li>default – 如果指定键的值不存在时，返回该默认值。</li>
</ul>
<p>返回指定键的值，如果键不在字典中返回默认值 None 或者设置的默认值。</p>
<h3 id="split"><a href="#split" class="headerlink" title="split()"></a>split()</h3><p><strong>return</strong> <strong>list</strong></p>
<p>Python <strong>split()</strong> 通过指定分隔符对字符串进行切片，如果参数 num 有指定值，则分隔 num+1 个子字符串</p>
<p>string.split(sep=’’, maxsplit=num)</p>
<ul>
<li>sep–&gt;分隔符，默认为所有的空字符，包括空格、换行(\n)、制表符(\t)等默认情况下不显示sep，直接输入需要splitstr即可。</li>
<li>maxsplit– &gt;分割次数。默认为 -1, 即分隔所有。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">temp = <span class="built_in">input</span>().split(sep=<span class="string">&#x27;**&#x27;</span>, maxsplit=-<span class="number">1</span>)</span><br><span class="line">print(temp)</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">1</span> <span class="number">2</span> <span class="number">3</span> ** <span class="number">4</span></span><br><span class="line">[<span class="string">&#x27;1 2 3 &#x27;</span>, <span class="string">&#x27; 4&#x27;</span>]</span><br></pre></td></tr></table></figure>



<h3 id="print"><a href="#print" class="headerlink" title="print()"></a>print()</h3><p>print(objectes, sep=’’, end=’\n’, flush=False, file=sys.stdout)</p>
<ul>
<li>objects:需要输出的对象</li>
<li>sep:以什么间隔default:space</li>
<li>end:以什么结尾default:\n</li>
<li>file:是要写入的对象,其中sys.stdout为python的标准输出</li>
<li>flush:输出是否被缓存通常决定于 file，但如果 flush 关键字参数为 True，流会被强制刷新</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">print(<span class="string">&#x27;Loading&#x27;</span>, end=<span class="string">&#x27;&#x27;</span>)</span><br><span class="line"><span class="comment"># 以end=&#x27;&#x27;结尾防止Loading后面的&quot;.&quot;换行</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">20</span>):</span><br><span class="line">    print(<span class="string">&#x27;.&#x27;</span>, end=<span class="string">&#x27;&#x27;</span>, flush=<span class="literal">True</span>)</span><br><span class="line">    time.sleep(<span class="number">0.5</span>)</span><br></pre></td></tr></table></figure>

<p><img src="https://www.runoob.com/wp-content/uploads/2017/04/loading-example.gif" alt="img"></p>
<h3 id="ljust-center"><a href="#ljust-center" class="headerlink" title="ljust/center"></a>ljust/center</h3><p>对于需要填充的字符串一种快捷操作</p>
<ul>
<li><p>ljust(width, char)–&gt;左对齐–&gt;右填充</p>
</li>
<li><p>rjust(width, char)–&gt;右对齐–&gt;左tianchong</p>
</li>
<li><p>center(width, char)–&gt;中间对齐–&gt;两边填充</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">str</span> = <span class="string">&#x27;  123  &#x27;</span></span><br><span class="line">print(<span class="built_in">len</span>(<span class="built_in">str</span>))</span><br><span class="line">print(<span class="built_in">str</span>.ljust(<span class="number">10</span>, <span class="string">&#x27;*&#x27;</span>))</span><br><span class="line">print(<span class="built_in">str</span>.rjust(<span class="number">10</span>, <span class="string">&#x27;*&#x27;</span>))</span><br><span class="line">print(<span class="built_in">str</span>.center(<span class="number">10</span>, <span class="string">&#x27;*&#x27;</span>))</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">7</span></span><br><span class="line">  <span class="number">123</span>  ***</span><br><span class="line">***  <span class="number">123</span>  </span><br><span class="line">*  <span class="number">123</span>  **</span><br></pre></td></tr></table></figure>

</li>
</ul>
<h3 id="‘’-join"><a href="#‘’-join" class="headerlink" title="‘’.join()"></a>‘’.join()</h3><p>将list中的element转化成string,其中”char”中的符号为间隔填充符,但是如果list中只有数字,将不能直接转化,需要遍历列表,将列表中的内容转化成字符串:</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">alist = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>]</span><br><span class="line"><span class="comment"># True</span></span><br><span class="line">print(<span class="string">&#x27;&#x27;</span>.join(<span class="string">&#x27;%s&#x27;</span> %i <span class="keyword">for</span> i <span class="keyword">in</span> alist))</span><br><span class="line"></span><br><span class="line"><span class="comment"># False</span></span><br><span class="line">print(<span class="string">&#x27;&#x27;</span>.join(alist))</span><br><span class="line">&gt;&gt;</span><br><span class="line">TypeError: sequence item <span class="number">3</span>: expected <span class="built_in">str</span> instance, <span class="built_in">int</span> found</span><br></pre></td></tr></table></figure>

<h3 id="int"><a href="#int" class="headerlink" title="int()"></a>int()</h3><p>int()可以快速的实现进制的转换</p>
<p>int(num, base)</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="built_in">int</span>(num, base=n))</span><br><span class="line"><span class="comment"># 在base进制下的num表示成10j</span></span><br><span class="line"></span><br><span class="line">num=<span class="number">110</span>, base=<span class="number">2</span></span><br><span class="line">&gt;&gt;<span class="number">6</span></span><br></pre></td></tr></table></figure>

<h3 id="eval"><a href="#eval" class="headerlink" title="eval()"></a>eval()</h3><p>eval() 函数用来执行一个字符串表达式，并返回表达式的值。</p>
<p>以下是 eval() 方法的语法:</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">eval(expression[, globals[, locals]])</span><br></pre></td></tr></table></figure>

<p><strong>参数</strong></p>
<ul>
<li>expression – 表达式。</li>
<li>globals – 变量作用域，全局命名空间，如果被提供，则必须是一个字典对象。</li>
<li>locals – 变量作用域，局部命名空间，如果被提供，可以是任何映射对象。</li>
</ul>
<p><strong>返回值</strong></p>
<p>返回表达式计算结果。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;x = <span class="number">7</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">eval</span>( <span class="string">&#x27;3 * x&#x27;</span> )</span><br><span class="line"><span class="number">21</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">eval</span>(<span class="string">&#x27;pow(2,2)&#x27;</span>)</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">eval</span>(<span class="string">&#x27;2 + 2&#x27;</span>)</span><br><span class="line"><span class="number">4</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span>n=<span class="number">81</span></span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="built_in">eval</span>(<span class="string">&quot;n + 4&quot;</span>)</span><br><span class="line"><span class="number">85</span></span><br></pre></td></tr></table></figure>

<h3 id="bin"><a href="#bin" class="headerlink" title="bin()"></a>bin()</h3><p><strong>bin()</strong> 返回一个整数 int 或者长整数 long int 的二进制表示。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">print(<span class="built_in">bin</span>(<span class="number">10</span>))</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">0b1010</span></span><br><span class="line"><span class="comment"># 0b 指二进制标识，在c语言中用0b标识二进制</span></span><br></pre></td></tr></table></figure>

<h3 id="format"><a href="#format" class="headerlink" title=".format()"></a>.format()</h3><p>Python2.6 开始，新增了一种格式化字符串的函数 **str.format()**，它增强了字符串格式化的功能。</p>
<p>基本语法是通过 <strong>{}</strong> 和 <strong>:</strong> 来代替以前的 <strong>%</strong> 。</p>
<p>format 函数可以接受不限个参数，位置可以不按顺序。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;&gt;&gt;<span class="string">&quot;&#123;&#125; &#123;&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>)    </span><br><span class="line"><span class="comment"># 不设置指定位置，按默认顺序</span></span><br><span class="line"><span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&quot;&#123;0&#125; &#123;1&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>)  </span><br><span class="line"><span class="comment"># 设置指定位置</span></span><br><span class="line"><span class="string">&#x27;hello world&#x27;</span></span><br><span class="line"> </span><br><span class="line"><span class="meta">&gt;&gt;&gt; </span><span class="string">&quot;&#123;1&#125; &#123;0&#125; &#123;1&#125;&quot;</span>.<span class="built_in">format</span>(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>) </span><br><span class="line"><span class="comment"># 设置指定位置</span></span><br><span class="line"><span class="string">&#x27;world hello world&#x27;</span></span><br></pre></td></tr></table></figure>

<h2 id="sys"><a href="#sys" class="headerlink" title="[sys]"></a>[sys]</h2><h3 id="stdin-readline"><a href="#stdin-readline" class="headerlink" title=".stdin.readline()"></a>.stdin.readline()</h3><h3 id="stdin-read"><a href="#stdin-read" class="headerlink" title=".stdin.read()"></a>.stdin.read()</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">line = sys.stdin.readline()     <span class="comment"># 读取一行（包括换行符）</span></span><br><span class="line">char = sys.stdin.read(<span class="number">1</span>)        <span class="comment"># 读取一个字节</span></span><br><span class="line">lines = sys.stdin.read()        <span class="comment"># 读取到文件尾</span></span><br></pre></td></tr></table></figure>

<p>Python中常用到的两种标准化输入方式：分别sys.stdin和input，两者使用方式大致相同，但是总的来说sys.stdin使用方式更加多样化一些，下面就例子说明两者之间的使用差别。</p>
<ul>
<li>python3中使用sys.stdin.readline()可以实现标准输入，其中默认输入的格式是字符串，如果是int，float类型则需要强制转换。</li>
</ul>
<h2 id="特殊方法"><a href="#特殊方法" class="headerlink" title="[特殊方法]"></a>[特殊方法]</h2><h3 id="isxxx-string"><a href="#isxxx-string" class="headerlink" title=".isxxx()[string]"></a>.isxxx()[string]</h3><p>is判断函数为一种判断函数，根据规定字符串判断是否符合结果返回True或者False</p>
<p>主要判断如下：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">isdecimal():判断给定字符串是否全为数字</span><br><span class="line"></span><br><span class="line">isalpha():判断给定的字符串是否全为字母</span><br><span class="line"></span><br><span class="line">isalnum()：判断给定的字符串是否只含有数字与字母</span><br><span class="line"></span><br><span class="line">isupper():判断给定的字符串是否全为大写</span><br><span class="line"></span><br><span class="line">islower():判断给定的字符串是否全为小写</span><br><span class="line"></span><br><span class="line">istitle():判断给定的字符串是否符合title()</span><br><span class="line"></span><br><span class="line">isspace():判断给定的字符串是否为空白符（空格、换行、制表符）</span><br><span class="line"></span><br><span class="line">isprintable():判断给定的字符串是否为可打印字符（只有空格可以，换行、制表符都不可以）</span><br><span class="line"></span><br><span class="line">isidentifier():判断给定的字符串是否符合命名规则（只能是字母或下划线开头、不能包含除数字、字母和下划线</span><br><span class="line">				以外的任意字符。）</span><br></pre></td></tr></table></figure>



<h3 id="count"><a href="#count" class="headerlink" title="count()"></a>count()</h3><p>可以统计在list\tuple\string中某个element\string出现的次数</p>
<ul>
<li>list.count(element)</li>
<li>string.count(string, strat, end)</li>
</ul>
<table>
<thead>
<tr>
<th align="left">参数</th>
<th align="left">描述</th>
</tr>
</thead>
<tbody><tr>
<td align="left"><em>value</em></td>
<td align="left">必需。字符串。要检索的字符串。</td>
</tr>
<tr>
<td align="left"><em>start</em></td>
<td align="left">可选。整数。开始检索的位置。默认是 0。</td>
</tr>
<tr>
<td align="left"><em>end</em></td>
<td align="left">可选。整数。结束检索的位置。默认是字符串的结尾。</td>
</tr>
</tbody></table>
<h3 id="strip"><a href="#strip" class="headerlink" title="strip()"></a>strip()</h3><p>Python strip() 方法用于移除字符串头尾指定的字符（默认为空格或换行符）或字符序列。</p>
<p><strong>注意：</strong>该方法只能删除开头或是结尾的字符，不能删除中间部分的字符。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">str1 = <span class="string">&quot;00000003210Runoob01230000000&quot;</span>; </span><br><span class="line">print(str1.strip( <span class="string">&#x27;0&#x27;</span> ))	 <span class="comment"># 去除首尾字符 0</span></span><br><span class="line"> </span><br><span class="line">str2 = <span class="string">&quot;   Runoob      &quot;</span>   <span class="comment"># 去除首尾空格</span></span><br><span class="line">print(str2.strip())</span><br><span class="line">&gt;&gt;</span><br><span class="line">3210Runoob0123</span><br><span class="line">Runoob</span><br></pre></td></tr></table></figure>

<p><strong>一、默认用法：去除空格</strong></p>
<ul>
<li>str.strip()  ： 去除字符串两边的空格</li>
<li>str.lstrip() ： 去除字符串左边的空格</li>
<li>str.rstrip() ： 去除字符串右边的空格</li>
</ul>
<p>注：此处的空格包含’\n’, ‘\r’,  ‘\t’,  ‘ ‘</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">a=<span class="string">&#x27; abc de a  1&#x27;</span></span><br><span class="line">print(a.strip())</span><br><span class="line">print(a.lstrip())</span><br><span class="line">print(a.rstrip())</span><br><span class="line">&gt;&gt;</span><br><span class="line">abc de a  <span class="number">1</span></span><br><span class="line">abc de a  <span class="number">1</span></span><br><span class="line"> abc de a  <span class="number">1</span></span><br></pre></td></tr></table></figure>

<p><strong>二、去除指定字符</strong></p>
<ul>
<li>str.strip(‘do’)  ：去除字符串两端指定的字符</li>
<li>str.lstrip(‘do’) ：用于去除左边指定的字符</li>
<li>str.rstrip(‘do’) ：用于去除右边指定的字符</li>
</ul>
<p>三个函数都可以传入一个参数(这里以’do’为例)，指定要去除的首尾字符，编译器会去除两端所有相应的字符，直到没有匹配的字符。</p>
<p><code>指定的字符表示的一种组合，例如&#39;do&#39;表示&#39;dd&#39;,&#39;do&#39;,&#39;od&#39;,&#39;oo&#39;,&#39;ddd&#39;,&#39;ooo&#39;等</code></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">dodo = <span class="string">&quot;say hello say boy saaayaaas&quot;</span>  </span><br><span class="line"></span><br><span class="line">print(dodo.strip(<span class="string">&#x27;say&#x27;</span>) ) </span><br><span class="line">print(dodo.strip(<span class="string">&#x27;yas&#x27;</span>) )  </span><br><span class="line"><span class="comment">#当传入的参数中加入空格时  </span></span><br><span class="line">print(dodo.strip(<span class="string">&#x27;say &#x27;</span>) )</span><br><span class="line"></span><br><span class="line">print(dodo.lstrip(<span class="string">&#x27;say&#x27;</span>) ) </span><br><span class="line">print(dodo.rstrip(<span class="string">&#x27;say&#x27;</span>) ) </span><br><span class="line"></span><br><span class="line">hello say boy </span><br><span class="line"> hello say boy </span><br><span class="line">hello say bo</span><br><span class="line"> hello say boy saaayaaas</span><br><span class="line">say hello say boy </span><br></pre></td></tr></table></figure>

<h3 id="处理异常"><a href="#处理异常" class="headerlink" title="处理异常"></a>处理异常</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">    可能产生异常的代码块</span><br><span class="line"><span class="keyword">except</span> [ (Error1, Error2, ... ) /[<span class="keyword">as</span> e] ]:</span><br><span class="line">    处理异常的代码块<span class="number">1</span></span><br><span class="line"><span class="keyword">except</span> [ (Error3, Error4, ... ) /[<span class="keyword">as</span> e] ]:</span><br><span class="line">    处理异常的代码块<span class="number">2</span></span><br><span class="line"><span class="keyword">except</span>  [Exception]:</span><br><span class="line">    处理其它异常</span><br></pre></td></tr></table></figure>

<p>该格式中，[] 括起来的部分可以使用，也可以省略。其中各部分的含义如下：</p>
<ul>
<li>(Error1, Error2,…) 、(Error3, Error4,…)：其中，Error1、Error2、Error3 和 Error4 都是具体的异常类型。显然，一个 except 块可以同时处理多种异常。</li>
<li>[as e]：作为可选参数，表示给异常类型起一个别名 e，这样做的好处是方便在 except 块中调用异常类型（后续会用到）。</li>
<li>[Exception]：作为可选参数，可以代指程序可能发生的所有异常情况，其通常用在最后一个 except 块。</li>
</ul>
<p>try except 语句的执行流程如下：</p>
<ol>
<li>首先执行 try 中的代码块，如果执行过程中出现异常，系统会自动生成一个异常类型，并将该异常提交给 Python 解释器，此过程称为捕获异常。</li>
<li>当 Python 解释器收到异常对象时，会寻找能处理该异常对象的 except 块，如果找到合适的 except 块，则把该异常对象交给该 except 块处理，这个过程被称为处理异常。如果 Python 解释器找不到处理异常的 except 块，则程序运行终止，Python 解释器也将退出。</li>
</ol>
<p>通过前面的学习，我们已经可以捕获程序中可能发生的异常，并对其进行处理。但是，由于一个 except 可以同时处理多个异常，那么我们如何知道当前处理的到底是哪种异常呢？</p>
<p>其实，每种异常类型都提供了如下几个属性和方法，通过调用它们，就可以获取当前处理异常类型的相关信息：</p>
<ul>
<li>args：返回异常的错误编号和描述字符串；</li>
<li>str(e)：返回异常信息，但不包括异常信息的类型；</li>
<li>repr(e)：返回较全的异常信息，包括异常信息的类型。</li>
</ul>
<p>举个例子：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:</span><br><span class="line">	<span class="number">1</span>/<span class="number">0</span></span><br><span class="line">	<span class="keyword">except</span> Exception <span class="keyword">as</span> e:</span><br><span class="line">    <span class="comment"># 访问异常的错误编号和详细信息</span></span><br><span class="line">print(e.args)    </span><br><span class="line">print(<span class="built_in">str</span>(e))    </span><br><span class="line">print(<span class="built_in">repr</span>(e))</span><br><span class="line"></span><br><span class="line">&gt;&gt;</span><br><span class="line">(<span class="string">&#x27;division by zero&#x27;</span>,)</span><br><span class="line">division by zero</span><br><span class="line">ZeroDivisionError(<span class="string">&#x27;division by zero&#x27;</span>,)</span><br></pre></td></tr></table></figure>

<p>输出结果为：</p>
<p>(‘division by zero’,)<br>division by zero<br>ZeroDivisionError(‘division by zero’,)</p>
<h3 id="isdigit"><a href="#isdigit" class="headerlink" title="isdigit()"></a>isdigit()</h3><p>str.isdigit()</p>
<ul>
<li>不需要任何参数</li>
<li>返回True False</li>
<li>检测字符串是否只有数字组成</li>
</ul>
<h3 id="ord-–chr"><a href="#ord-–chr" class="headerlink" title="ord()–chr()"></a>ord()–chr()</h3><p>ord():返回对应的ASCII值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(ord(&#39;A&#39;))</span><br><span class="line">&gt;&gt;65</span><br></pre></td></tr></table></figure>

<p>chr():返回对应的 Unicode 数值</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">print(chr(65))</span><br><span class="line">&gt;&gt;A</span><br></pre></td></tr></table></figure>

<h3 id="slots"><a href="#slots" class="headerlink" title="slots"></a>slots</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">__slots__</span><br></pre></td></tr></table></figure>

<ol>
<li>节省memory。在上面的例子里，如果我们看看<code>bar</code>和<code>slotted_bar</code>就看到，<code>slotted_bar</code>并没有<code>__dict__</code>而<code>bar</code>却含有<code>__dict__</code>。<code>__slots__</code>正是通过避免定义动态的数据结构<code>__dict__</code>来实现对memory的节省，大约能节省30%的memory</li>
<li>.access attributes更快。事实上，在CPython的实现里，<code>__slots__</code>是一个静态数据结构（static），里面存的是value references，比<code>__dict__</code>更快</li>
</ol>
<p>此处要注意一点，正因为<code>__slots__</code>是static的，定义了<code>__slots__</code>之后，你将不能创造新的attribute</p>
<p>如果你想获得<code>__slots__</code>的好处并且可以创造新的attribute，你可以将<code>__dict__</code>作为<code>__slots__</code>中的一个element（见下面code）：</p>
<p><strong>什么情况下该使用<code>__slots__</code>?</strong></p>
<p>当你事先知道class的attributes的时候，建议使用slots来节省memory以及获得更快的attribute access。</p>
<p>注意不应当把防止创造<code>__slots__</code>之外的新属性作为使用<code>__slots__</code>的原因，可以使用decorators以及getters，setters来实现attributes control。</p>
<p><strong>使用<code>__slots__</code>的特殊注意事项</strong></p>
<ol>
<li>当inherit from a slotted class，那么子类自动变成slotted并且获得parent class的slots；子类可以定义新的elements加入到inherited slots里。slots里面的每一个element，只能在inheritance里面定义一次（否则就是redundant）</li>
<li>在multiple inheritance（比如mixedins）里，如果两个parents定义了不同的nonempty __slots__，那么python会报错。这个时候，就进一步factor out 母类的slots。</li>
</ol>
<h3 id="if–name–-’–main–’"><a href="#if–name–-’–main–’" class="headerlink" title="if–name–==’–main–’:"></a>if–name–==’–main–’:</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&#x27;__main__&#x27;</span>:</span><br></pre></td></tr></table></figure>

<p>当你在写 .py 的时候</p>
<p>一般是以两种方式存在的</p>
<ul>
<li><input checked="" disabled="" type="checkbox"> <strong>1、作为脚本直接运行</strong> </li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210529144951.png"></p>
<ul>
<li><input checked="" disabled="" type="checkbox"> <strong>2、作为模块给别人导入</strong></li>
</ul>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210529145101.png"></p>
<p>的代码在被执行的时候，Python 解释器会先去读取你的 Python 代码然后定义一些全局的内置变量，而我们常常写的这个 –name–就是其中的变量之一，如果判断出 –name– 的值是 –main–就说明这里是程序入口，而非被别的 py 文件 import</p>
<p>所以你的 .py 可以作为自己的脚本运行，在 –main– 中做一些测试，或者本身程序的运行，当然你也可以使用你的 .py 作为模块给别人使用，给别人提供一些便利，为了不让别人一导入你的模块就直接运行整个脚本那么使用 **if –name– == ‘–main–’**其中的代码就不会在被 import 时被执行。</p>
<h3 id="yield-lt-gt-send-gt-next"><a href="#yield-lt-gt-send-gt-next" class="headerlink" title="yield&lt;==&gt;send==&gt;next"></a>yield&lt;==&gt;send==&gt;next</h3><p>首先，如果你还没有对yield有个初步分认识，那么你先把yield看做“return”，这个是直观的，它首先是个return，普通的return是什么意思，就是在程序中返回某个值，返回之后程序就不再往下运行了。看做return之后再把它看做一个是生成器（generator）的一部分（带yield的函数才是真正的迭代器），好了，如果你对这些不明白的话，那先把yield看做return,然后直接看下面的程序，你就会明白yield的全部意思了：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>():</span></span><br><span class="line">    print(<span class="string">&quot;starting...&quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        res = <span class="keyword">yield</span> <span class="number">4</span></span><br><span class="line">        print(<span class="string">&quot;res:&quot;</span>,res)</span><br><span class="line">g = foo()</span><br><span class="line">print(<span class="built_in">next</span>(g))</span><br><span class="line">print(<span class="string">&quot;*&quot;</span>*<span class="number">20</span>)</span><br><span class="line">print(<span class="built_in">next</span>(g))</span><br><span class="line">&gt;&gt;</span><br><span class="line">starting...</span><br><span class="line"><span class="number">4</span></span><br><span class="line">********************</span><br><span class="line">res: <span class="literal">None</span></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>我直接解释代码运行顺序，相当于代码单步调试：</p>
<ol>
<li><p>程序开始执行以后，因为foo函数中有yield关键字，所以foo函数并不会真的执行，而是先得到一个生成器g(相当于一个对象)</p>
</li>
<li><p>直到调用next方法，foo函数正式开始执行，先执行foo函数中的print方法，然后进入while循环</p>
</li>
<li><p>程序遇到yield关键字，然后把yield想想成return,return了一个4之后，程序停止，并没有执行赋值给res操作，此时next(g)语句执行完成，所以输出的前两行（第一个是while上面的print的结果,第二个是return出的结果）是执行print(next(g))的结果，</p>
</li>
<li><p>程序执行print(“*”<em>20)，输出20个</em></p>
</li>
<li><p>又开始执行下面的print(next(g)),这个时候和上面那个差不多，不过不同的是，这个时候是从刚才那个next程序停止的地方开始执行的，也就是要执行res的赋值操作，这时候要注意，这个时候赋值操作的右边是没有值的（因为刚才那个是return出去了，并没有给赋值操作的左边传参数），所以这个时候res赋值是None,所以接着下面的输出就是res:None,</p>
</li>
<li><p>程序会继续在while里执行，又一次碰到yield,这个时候同样return 出4，然后程序停止，print函数输出的4就是这次return出的4.</p>
</li>
</ol>
<p>到这里你可能就明白yield和return的关系和区别了，带yield的函数是一个生成器，而不是一个函数了，这个生成器有一个函数就是next函数，next就相当于“下一步”生成哪个数，这一次的next开始的地方是接着上一次的next停止的地方执行的，所以调用next的时候，生成器并不会从foo函数的开始执行，只是接着上一步停止的地方开始，然后遇到yield后，return出要生成的数，此步就结束。</p>
<hr>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>():</span></span><br><span class="line">    print(<span class="string">&quot;starting...&quot;</span>)</span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        res = <span class="keyword">yield</span> <span class="number">4</span></span><br><span class="line">        print(<span class="string">&quot;res:&quot;</span>,res)</span><br><span class="line">        </span><br><span class="line">g = foo()</span><br><span class="line">print(<span class="built_in">next</span>(g))</span><br><span class="line">print(<span class="string">&quot;*&quot;</span>*<span class="number">20</span>)</span><br><span class="line">print(g.send(<span class="number">7</span>))</span><br><span class="line">&gt;&gt;</span><br><span class="line">starting...</span><br><span class="line"><span class="number">4</span></span><br><span class="line">********************</span><br><span class="line">res: <span class="number">7</span></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>先大致说一下send函数的概念：此时你应该注意到上面那个的紫色的字，还有上面那个res的值为什么是None，这个变成了7，到底为什么，这是因为，send是发送一个参数给res的，因为上面讲到，return的时候，并没有把4赋值给res，下次执行的时候只好继续执行赋值操作，只好赋值为None了，而如果用send的话，开始执行的时候，先接着上一次（return 4之后）执行，先把7赋值给了res,然后执行next的作用，遇见下一回的yield，return出结果后结束。</p>
<ol>
<li><p>程序执行g.send(7)，程序会从yield关键字那一行继续向下运行，send会把7这个值赋值给res变量</p>
</li>
<li><p>由于send方法中包含next()方法，所以程序会继续向下运行执行print方法，然后再次进入while循环</p>
</li>
<li><p>程序执行再次遇到yield关键字，yield会返回后面的值后，程序再次暂停，直到再次调用next方法或send方法。</p>
</li>
</ol>
<p><strong>简要理解：yield就是 return 返回一个值，并且记住这个返回的位置，下次迭代就从这个位置后开始。</strong></p>
<h2 id="关键字"><a href="#关键字" class="headerlink" title="[关键字]"></a>[关键字]</h2><h3 id="global"><a href="#global" class="headerlink" title="global"></a>global</h3><p>Python变量的作用域一共有4种，分别是：</p>
<ul>
<li>L （Local） 局部作用域</li>
<li>E （Enclosing） 闭包函数外的函数中</li>
<li>G （Global） 全局作用域</li>
<li>B （Built-in） 内建作用域 以 L –&gt; E –&gt; G –&gt;B 的规则查找，即：在局部找不到，便会去局部外的局部找（例如闭包），再找不到就会去全局找，再者去内建中找。</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># instance 1</span></span><br><span class="line">x = <span class="number">5</span> <span class="comment"># global</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun_a</span>():</span></span><br><span class="line">    x = <span class="number">4</span> <span class="comment"># local</span></span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun_b</span>():</span></span><br><span class="line">    x = <span class="number">3</span></span><br><span class="line">    print(x)</span><br><span class="line">    </span><br><span class="line">print(x)</span><br><span class="line">fun_a()</span><br><span class="line">fun_b()</span><br><span class="line">&gt;&gt;\n</span><br><span class="line"><span class="number">5</span> <span class="number">4</span> <span class="number">3</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># instance 2</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun_a</span>():</span></span><br><span class="line">    x = <span class="number">5</span> <span class="comment"># enclosing</span></span><br><span class="line">    print(x)</span><br><span class="line">    <span class="keyword">return</span> fun_b</span><br><span class="line"></span><br><span class="line">b = fun_a()</span><br><span class="line">b()</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">5</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># instance 3</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun_a</span>():</span></span><br><span class="line">    x = <span class="number">5</span> <span class="comment"># enclosing</span></span><br><span class="line">    <span class="function"><span class="keyword">def</span> <span class="title">fun_b</span>():</span></span><br><span class="line">        x = <span class="number">4</span> <span class="comment"># local</span></span><br><span class="line">        print(x)</span><br><span class="line">    <span class="keyword">return</span> fun_b</span><br><span class="line">b = fun_a()</span><br><span class="line">b()</span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># instance 4</span></span><br><span class="line">x = <span class="number">5</span> <span class="comment"># global</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun_a</span>():</span></span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun_b</span>():</span></span><br><span class="line">    print(x)</span><br><span class="line">fun_a()</span><br><span class="line">fun_b()</span><br><span class="line">&gt;&gt;\n</span><br><span class="line"><span class="number">5</span> <span class="number">4</span></span><br></pre></td></tr></table></figure>

<p><strong>结论：</strong></p>
<p>实例一： 即使变量同名，优先引用的是局部变量。</p>
<p>实例二 &amp; 实例三： 闭包的情况，如果内部函数没有局部变量，则会优先引用闭包的环境变量。</p>
<p>实例四： 引用全局变量。</p>
<hr>
<p>对于全局变量来说，既然能函数体内直接引用，并且程序没有报错，那为什么还要用 global 关键字？</p>
<p>现在在重新声明一个 func_c 函数，并且对这个 x 进行加 1 的操作。你觉得会打印什么结果？</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># instance 5</span></span><br><span class="line">x = <span class="number">5</span> <span class="comment"># global --&gt;同名且有修改--&gt;认为def中的变量为局部变量</span></span><br><span class="line"><span class="function"><span class="keyword">def</span>  <span class="title">fun_a</span>():</span></span><br><span class="line">    print(x)</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span>  <span class="title">fun_b</span>():</span></span><br><span class="line">    print(x)</span><br><span class="line">    </span><br><span class="line"><span class="function"><span class="keyword">def</span>  <span class="title">fun_c</span>():</span></span><br><span class="line">    x += <span class="number">1</span> <span class="comment"># 由于内部函数有引用外部函数的同名变量或者全局变量，并且对这个变量有修改的时候，此时 Python 会认为它是一个局部变量，而函数中并没有 x 的定义和赋值，所以报错。</span></span><br><span class="line">    print(x)</span><br><span class="line">fun_a()</span><br><span class="line">fun_b()</span><br><span class="line">fun_c()</span><br><span class="line">&gt;&gt;\n</span><br><span class="line"><span class="number">5</span> <span class="number">5</span></span><br><span class="line">UnboundLocalError: local variable <span class="string">&#x27;x&#x27;</span> referenced before assignment</span><br></pre></td></tr></table></figure>

<p>可以看到已经报错了 ，UnboundLocalError，错误代码第 9 行 x = x+1。</p>
<p><strong>在这个例子中设置的 x=5 属于全局变量,而在函数内部中没有对 x 的定义。</strong></p>
<p><strong>根据 Python 访问局部变量和全局变量的规则：当搜索一个变量的时候，Python 先从局部作用域开始搜索，如果在局部作用域没有找到那个变量，那样 Python 就会像上面的案例中介绍的作用域范围逐层寻找。</strong></p>
<p><strong>最终在全局变量中找这个变量，如果找不到则抛出 UnboundLocalError 异常。</strong></p>
<p>但你会想，明明已经在全局变量中找到同名变量了，怎么还是报错？</p>
<p><strong>因为内部函数有引用外部函数的同名变量或者全局变量，并且对这个变量有修改的时候，此时 Python 会认为它是一个局部变量，而函数中并没有 x 的定义和赋值，所以报错。</strong></p>
<hr>
<p>global 关键字为解决此问题而生，在函数 func_c中，显示地告诉解释器 x 为全局变量，然后会在函数外面寻找 x 的定义，执行完 x = x + 1 后，x 依然是全局变量。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># instance 6</span></span><br><span class="line">x = <span class="number">5</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun_a</span>():</span></span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun_b</span>():</span></span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun_c</span>():</span></span><br><span class="line">    <span class="keyword">global</span> x <span class="comment"># 定义def中的变量为全局变量,即先Enclosing-&gt;local--&gt;//global//-//-&gt;buinltin</span></span><br><span class="line">    x += <span class="number">1</span></span><br><span class="line">    print(x)</span><br><span class="line"></span><br><span class="line">fun_a()</span><br><span class="line">fun_b()</span><br><span class="line">fun_c()</span><br><span class="line">&gt;&gt;\n</span><br><span class="line"><span class="number">5</span> <span class="number">5</span> <span class="number">6</span></span><br></pre></td></tr></table></figure>

<h3 id="yield"><a href="#yield" class="headerlink" title="yield"></a>yield</h3><p>简要理解：yield就是 return 返回一个值，并且记住这个返回的位置，下次迭代就从这个位置后开始</p>
<ul>
<li>它首先是个<code>return：在程序中返回某个值，返回之后程序就不再往下运行了。</code></li>
<li>之后是生成器（generator）的一部分（带yield的函数才是真正的迭代器）</li>
</ul>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>():</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        res = <span class="keyword">yield</span> <span class="number">4</span></span><br><span class="line">        print(<span class="string">&quot;res:&quot;</span>,res)</span><br><span class="line">g = foo()</span><br><span class="line">print(<span class="built_in">next</span>(g))  --|<span class="number">1</span>|</span><br><span class="line">print(<span class="string">&quot;*&quot;</span>*<span class="number">20</span>)</span><br><span class="line">print(<span class="built_in">next</span>(g))</span><br><span class="line"></span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">4</span></span><br><span class="line">********************</span><br><span class="line">res: <span class="literal">None</span></span><br><span class="line"><span class="number">4</span></span><br></pre></td></tr></table></figure>

<p>1.程序开始执行以后，因为foo函数中有yield关键字，所以foo函数并不会真的执行，而是先得到一个生成器g(相当于一个对象)</p>
<p>2.直到调用next方法，foo函数正式开始执行，进入while循环</p>
<p>3.程序遇到yield关键字，然后把yield想想成return,return了一个4之后，程序停止，<strong>并没有执行赋值给res操作</strong>，此时next(g)语句执行完成，所以输出4（return出的结果）是执行print(next(g))的结果（–|1|）</p>
<p>4.程序执行print(“*”<em>20)，输出20个</em></p>
<p>5.又开始执行下面的print(next(g)),这个时候和上面那个差不多，不过不同的是，<strong>这个时候是从刚才那个next程序停止的地方开始执行的，也就是要执行res的赋值操作</strong>，这时候要注意，<strong>这个时候赋值操作的右边是没有值的（因为刚才那个是return出去了，并没有给赋值操作的左边传参数），所以这个时候res赋值是None,所以接着下面的输出就是res:None</strong></p>
<p>6.程序会继续在while里执行，又一次碰到yield,这个时候同样return 出4，然后程序停止，print函数输出的4就是这次return出的4.</p>
<p><strong>带yield的函数是一个生成器，而不是一个函数了这个生成器有一个函数就是next函数，</strong>next就相当于“下一步”生成哪个数，这一次的next开始的地方是接着上一次的next停止的地方执行的，所以调用next的时候，生成器并不会从foo函数的开始执行，只是接着上一步停止的地方开始，然后遇到yield后，return出要生成的数，此步就结束。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>():</span></span><br><span class="line">    <span class="keyword">while</span> <span class="literal">True</span>:</span><br><span class="line">        res = <span class="keyword">yield</span> <span class="number">4</span></span><br><span class="line">        print(<span class="string">&quot;res:&quot;</span>,res)</span><br><span class="line">g = foo()</span><br><span class="line">print(<span class="built_in">next</span>(g))</span><br><span class="line">print(<span class="string">&quot;*&quot;</span>*<span class="number">20</span>)</span><br><span class="line">print(g.send(<span class="number">7</span>))</span><br><span class="line"></span><br><span class="line"><span class="number">4</span></span><br><span class="line">********************</span><br><span class="line">res: <span class="number">7</span></span><br><span class="line"><span class="number">4</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="raise"><a href="#raise" class="headerlink" title="raise"></a>raise</h3><p>raise 关键字用于引发异常。</p>
<p>您可以定义要引发的错误类型以及要向用户打印的文本。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">x = <span class="string">&quot;hello&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> <span class="keyword">not</span> <span class="built_in">type</span>(x) <span class="keyword">is</span> <span class="built_in">int</span>:</span><br><span class="line">  <span class="keyword">raise</span> TypeError(<span class="string">&quot;Only integers are allowed&quot;</span>)</span><br><span class="line">&gt;&gt;</span><br><span class="line">Traceback (most recent call last):</span><br><span class="line">    <span class="keyword">raise</span> TypeError(<span class="string">&quot;Only integers are allowed&quot;</span>)</span><br><span class="line">TypeError: Only integers are allowed</span><br></pre></td></tr></table></figure>


      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/06/06/Python-BuiltIn/" data-id="ckpl8jl0v00006gf58eoi3lfm" data-title="Python-BuiltIn" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/BuiltIn/" rel="tag">BuiltIn</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Framework-Thinking" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/23/Framework-Thinking/" class="article-date">
  <time class="dt-published" datetime="2021-05-23T10:35:51.000Z" itemprop="datePublished">2021-05-23</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/23/Framework-Thinking/">Framework-Thinking</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="Backtracking-Algorithm"><a href="#Backtracking-Algorithm" class="headerlink" title="Backtracking Algorithm"></a>Backtracking Algorithm</h2><h3 id="算法介绍"><a href="#算法介绍" class="headerlink" title="算法介绍"></a>算法介绍</h3><p>实际场景中，解决问题的出发点有多种，为了确认这些出发点是否真的可以解决问题，我们需要逐一测试，找出 1 个甚至所有可行的解决方案，必要时还需要从众多可行方案中找出一个最优的方案。这种情况下，就可以优先考虑回溯算法。</p>
<p>回溯是一种可查找部分甚至全部解决方案的算法，它能够对所有的可行性方案进行测试，一旦判定某个方案无效，则以回溯的方式继续测试其它的方案，直至测试完所有的方案。</p>
<p>回溯可以简单地理解为“回退”或者“原路返回”，我们以一个实例来理解回溯的含义。如下图所示，找出从 A 到 K 的路径：<br><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210708164033.png"><br>图 1 回溯的含义<br>显然，从 A 到 K 的路径为 A-E-J-K，但如果要编程实现查找可行的路径，需要一一测试从 A 出发的所有路径，整个查找的过程为：</p>
<ul>
<li>从 A 出发，有 2 条路径可以选择，先选择 A-B；从 B 出发，又有 2 条路径，先选择 B-C；</li>
<li>到达 C 后，发现无法达到 K，所以放弃此路线，回退至 B，继续测试其他路径（第一次回溯）；</li>
<li>继续探查 B-D，发现也无法到达 K，回退到 B，继续探测其他路径（第二次回溯）；</li>
<li>除 B-C 和 B-D 外，没有其他路径可供选择，回退至 A，探测其他路径（第三次回溯）；</li>
<li>除了 A-B 外，还可以选择 A-E，测试过程同测试 A-B 部分的方式完全相同。</li>
</ul>
<p>下图给您描绘了测试所有路径所经历的过程：</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210708164113.png"><br>通过不断的回溯，找到解决问题的所有可行方案，这样的算法就称为回溯算法。</p>
<h3 id="算法运用"><a href="#算法运用" class="headerlink" title="算法运用"></a>算法运用</h3><p>回溯算法经常以递归的方式实现，该算法常用于解决以下 3 类问题：</p>
<ol>
<li>决策问题：从众多选择中找到一个可行的解决方案；</li>
<li>优化问题：从众多选择中找到一个最佳的解决方案；</li>
<li>枚举问题：找出能解决问题的所有方案。</li>
</ol>
<p>经典的适合用回溯算法解决的问题有 <a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/n-queens-problem.html">N皇后问题</a>、<a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/maze-puzzle.html">迷宫问题</a>等，我们会在后续章节给大家做详细的讲解。</p>
<h2 id="Divide-and-conquer-algorithm"><a href="#Divide-and-conquer-algorithm" class="headerlink" title="Divide and conquer algorithm"></a>Divide and conquer algorithm</h2><p><code>用空间换时间</code></p>
<h3 id="算法介绍-1"><a href="#算法介绍-1" class="headerlink" title="算法介绍"></a>算法介绍</h3><p>实际开发中，我们经常会使用一些巧妙的算法解决问题，分治算法就是其中之一。</p>
<p>分治算法是指采用分而治之的思想，将一个复杂的问题划分成很多相互独立的小问题，通过逐个解决这些小问题，使整个问题得到解决。</p>
<p>使用分治算法解决问题，大致经历 3 个阶段：</p>
<ol>
<li>分：将整个问题划分为很多相互独立的小问题（子问题），很多小问题还可以进行更细致地划分，直至这些问题不可再分；</li>
<li>治：逐个解决每个子问题，整个过程通常采用递归的方式实现；</li>
<li>合并：合并所有子问题的解决方案，得到整个问题的解决方案。</li>
</ol>
<h3 id="算法特点"><a href="#算法特点" class="headerlink" title="算法特点"></a>算法特点</h3><p>分治算法擅长解决一些规模较大的问题，直接解决此类问题的难度较大，通过将大问题“分而治之”，可以简化问题的难度。此外，由于分解得到的诸多小问题之间是相互独立的，所以可以采用并发执行的方式，提高问题的解决效率。</p>
<p>分治算法的缺陷也很明显，该算法常常采用递归的方式实现，整个过程需要消耗大量的系统资源，严重时还会导致程序崩溃。</p>
<h3 id="算法运用-1"><a href="#算法运用-1" class="headerlink" title="算法运用"></a>算法运用</h3><ul>
<li>解决<a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/max-min-problem.html">数组最大值和最小值问题</a>；</li>
<li>实现<a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/binary_search.html">二分查找算法</a>；</li>
<li>实现<a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/merge_sort.html">归并排序算法</a>；</li>
<li>实现<a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/stable-sorting.html">快速排序算法</a>；</li>
<li>解决<a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/tower_of_hanoi.html">汉诺塔问题</a>。</li>
</ul>
<h2 id="Greedy-Algorithm"><a href="#Greedy-Algorithm" class="headerlink" title="Greedy Algorithm"></a>Greedy Algorithm</h2><ul>
<li>计算性价比</li>
<li>根据性价比进行排序（包括weight、value）等</li>
<li>使用while循环控制每次取局部最优解</li>
</ul>
<h3 id="算法介绍-2"><a href="#算法介绍-2" class="headerlink" title="算法介绍"></a>算法介绍</h3><p>贪心算法又称贪婪算法，是所有算法中最简单、最易实现的一种算法。</p>
<p>一个问题通常对应有多种算法，每种算法由多个步骤组成。贪心算法解决问题的核心思想是：算法的每一步都选择当前场景中最优的解决方案（又称局部最优解）。</p>
<p>举个例子，假设我们有面值分别为 1、2、5、10 的硬币，要求用尽可能少的硬币拼凑出的总面值为 18。如果采用贪心算法解决此问题，则解决方案为：</p>
<ol>
<li>选择一个面值为 10 的硬币，可最大程度解决问题，剩余需要拼凑的面值数为 8；</li>
<li>选择一个面值为 5 的硬币，可最大程度解决问题，剩余需要拼凑的面值数为 3；</li>
<li>选择一个面值为 2 的硬币，可最大程度解决问题，剩余需要拼凑的面值数为 1；</li>
<li>选择一个面值为 1 的硬币。</li>
</ol>
<p>贪心算法每一步都选择的是当前所允许的最大面值的硬币（即局部最优解），整个解决方案也是最优的。</p>
<p>注意，贪心算法并不是在任何场景中都可以得出最优的解决方案。比如，有面值分别为 1、7、10 的硬币，要求用尽可能少的硬币拼凑出的总面值为 15。如果采用贪心算法，则解决方案为：</p>
<ol>
<li>选择一个面值为 10 的硬币，剩余面值为 5；</li>
<li>选择一个面值为 1 的硬币，剩余面值为 4；</li>
<li>选择一个面值为 1 的硬币，剩余面值为 3；</li>
<li>选择一个面值为 1 的硬币，剩余面值为 2；</li>
<li>选择一个面值为 1 的硬币，剩余面值为 1；</li>
<li>选择一个面值为 1 的硬币。</li>
</ol>
<p>贪心算法使用了“10+1+1+1+1+1”共 6 枚硬币，但实际上，最优的解决方案只需要“7+7+1”共 3 枚硬币。所以，贪心算法追求的是局部最优解，它并不关心设计的整个解决方案是否最优。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">target = <span class="number">18</span></span><br><span class="line">price = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">10</span>]</span><br><span class="line"></span><br><span class="line">price.sort(reverse=<span class="literal">True</span>)</span><br><span class="line"></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line">count = <span class="number">1</span></span><br><span class="line"><span class="keyword">while</span> target &gt; <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">if</span> price[i] &lt;= target:</span><br><span class="line">        target -= price[i]</span><br><span class="line">        print(<span class="string">&#x27;the %d take:%d&#x27;</span> % (count, price[i]))</span><br><span class="line">        count += <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        i += <span class="number">1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<h3 id="算法运用-2"><a href="#算法运用-2" class="headerlink" title="算法运用"></a>算法运用</h3><p>贪心算法可用于解决很多实际问题，例如：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/fractional-knapsack.html">部分背包问题</a>；</li>
<li>使用<a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/kruskal.html">克鲁斯卡尔算法</a>求最小生成树；</li>
<li>使用<a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/dijkstra.html">迪杰斯特拉算法</a>求两个顶点之间的最短路径。</li>
</ul>
<h2 id="Dynamic-Programming"><a href="#Dynamic-Programming" class="headerlink" title="Dynamic Programming"></a>Dynamic Programming</h2><h3 id="算法介绍-3"><a href="#算法介绍-3" class="headerlink" title="算法介绍"></a>算法介绍</h3><p>和分治算法类似，动态规划算法也是先将问题分解成多个规模更小、更容易解决的小问题，通过解决这些小问题，从而找到解决整个问题的方法。<strong>不同之处在于，分治算法分解的每个小问题都是相互独立的，而动态规划算法分解的小问题之间往往存在关联，比如要想解决问题 A 和问题 B，必须先解决问题 C。</strong></p>
<p>讲解贪心算法时，我们举过一个例子：假设有 3 种面值分别为 1、7 和 10 的硬币，要求用尽可能少的硬币拼凑出的总面值为 15。贪心算法的解决方案为共需要 6 枚硬币（10+1+1+1+1+1），但如果采用动态规划算法，可以找到更优的解决方案，只需要 3 枚硬币（ 7+7+1）。</p>
<p>动态规划算法的解题思路是：用 f(n) 表示凑齐面值为 n 所需要的最少的硬币数量，则面值 15 的拼凑方案有以下 3 种：</p>
<ul>
<li>f(15) = f(14) +1：选择一枚面值为 1 的硬币，f(14) 表示拼凑出面值 14 所需要的最少的硬币数量；</li>
<li>f(15) = f(8) + 1：选择一枚面值为 7 的硬币，f(8) 表示拼凑出面值 8 所需要的最少的硬币数量；</li>
<li>f(15) = f(5) + 1：选择一枚面值为10 的硬币，f(5) 表示拼凑出面值 5 所需要的最少的硬币数量。</li>
</ul>
<p>由此，我们将求 f(15) 的值，转换成为了求 min( f(14) , f(8) , f(5) ) 的值（min() 表示取三者中的最小值）。在此基础上，f(14)、f(8)、f(5) 还可以分解为更小的问题：</p>
<ul>
<li>f(5) = f(4) + 1；</li>
<li>f(8) = f(7) + 1 = f(1) +1；</li>
<li>f(14) = f(13)+1 = f(7) + 1 = f(4) +1。</li>
</ul>
<p>通过不断地分解，问题的规模会不断地减小，直至分解为 f(0) 或 f(1) 这类很简单的子问题。也就是说，我们只需要求得 f(0) 和f(1) 的值，所有小问题都可以得到解决（如表 1 所示）。</p>
<table>
<thead>
<tr>
<th align="center">子问题</th>
<th align="center">分解方案</th>
<th align="center">最佳方案</th>
<th align="center">硬币数量</th>
</tr>
</thead>
<tbody><tr>
<td align="center">f(0)</td>
<td align="center">不可再分</td>
<td align="center">不选择任何硬币</td>
<td align="center">0</td>
</tr>
<tr>
<td align="center">f(1)</td>
<td align="center">f(0) + 1</td>
<td align="center">“1”</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">f(2)</td>
<td align="center">f(1) + 1</td>
<td align="center">“1+1”</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">f(3)</td>
<td align="center">f(2) + 1</td>
<td align="center">“1+1+1”</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">f(4)</td>
<td align="center">f(3) + 1</td>
<td align="center">“1+1+1+1”</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">f(5)</td>
<td align="center">f(4) + 1</td>
<td align="center">“1+1+1+1+1”</td>
<td align="center">5</td>
</tr>
<tr>
<td align="center">f(6)</td>
<td align="center">f(5) + 1</td>
<td align="center">“1+1+1+1+1+1”</td>
<td align="center">6</td>
</tr>
<tr>
<td align="center">f(7)</td>
<td align="center">f(6) + 1 , f(0) + 1</td>
<td align="center">“7”</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">f(8)</td>
<td align="center">f(7) + 1 , f(1) + 1</td>
<td align="center">“7+1”</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">f(9)</td>
<td align="center">f(8) + 1 , f(2) + 1</td>
<td align="center">“7+1+1”</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">f(10)</td>
<td align="center">f(9) + 1 , f(3) + 1 , f(0) + 1</td>
<td align="center">“10”</td>
<td align="center">1</td>
</tr>
<tr>
<td align="center">f(11)</td>
<td align="center">f(10) + 1 , f(4) + 1 , f(1) + 1</td>
<td align="center">“10+1”</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">f(12)</td>
<td align="center">f(11) + 1 , f(5) + 1 , f(2) + 1</td>
<td align="center">“10+1+1”</td>
<td align="center">3</td>
</tr>
<tr>
<td align="center">f(13)</td>
<td align="center">f(12) + 1 , f(6) + 1 , f(3) + 1</td>
<td align="center">“10+1+1+1”</td>
<td align="center">4</td>
</tr>
<tr>
<td align="center">f(14)</td>
<td align="center">f(13) + 1 , f(7) + 1 , f(4) + 1</td>
<td align="center">“7+7”</td>
<td align="center">2</td>
</tr>
<tr>
<td align="center">f(15)</td>
<td align="center">f(14) + 1 , f(8) + 1 , f(5) + 1</td>
<td align="center">“7+7+1”</td>
<td align="center">3</td>
</tr>
</tbody></table>
<p>表 1 中借助 f(0) 和 f(1) 的值，依次推导出了 f(2)~f(15) 的值。因此，我们可以很容易得出“拼凑总面值为 15 只需要 7+7+1 共 3 个硬币”的最佳解决方案，这样解决问题的方法就称为动态规划算法。</p>
<h3 id="算法运用-3"><a href="#算法运用-3" class="headerlink" title="算法运用"></a>算法运用</h3><p>如下给您列举了几个适合采用动态规划算法解决的经典案例：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/01_knapsack.html">0-1背包问题</a>；</li>
<li><a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/floyd-warshall.html">弗洛伊德算法</a>解决最短路径问题；</li>
<li>最长公共子序列问题；</li>
</ul>
<hr>
<p><strong>经典算法题</strong></p>
<hr>
<h2 id="N皇后问题-回溯-递归"><a href="#N皇后问题-回溯-递归" class="headerlink" title="N皇后问题[回溯+递归]"></a>N皇后问题[回溯+递归]</h2><h3 id="问题介绍"><a href="#问题介绍" class="headerlink" title="问题介绍"></a>问题介绍</h3><p>在国际象棋中，皇后是整个棋盘上实力最强的一种棋子，可以直走、横走和斜着走（沿 45 ° 角移动），可以攻击行走路线上的任何棋子。</p>
<p>N 皇后问题就源自国际象棋，它研究的是：如何将 N 个皇后摆放在 N*N 的棋盘中，使它们不能相互攻击。也就是说，棋盘上各个皇后无论直走、横走还是斜着走，都无法相互攻击。</p>
<p>举个例子，如下在 4*4 的棋盘中摆放了 4 个皇后，它们都用 Q 来表示。</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210708213932.png"></p>
<h3 id="问题思路"><a href="#问题思路" class="headerlink" title="问题思路"></a>问题思路</h3><p>显然要想使各个皇后不相互攻击，应保证它们不位于同一行（或者同一列）。借助<a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/backtracking.html">回溯</a>算法，我们可以逐一测试出每一行皇后所在的位置，最终得出 N 皇后问题的解决方案。</p>
<h3 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">count = <span class="number">0</span>    <span class="comment">#统计解决方案的个数</span></span><br><span class="line">q = [<span class="number">0</span>]*<span class="number">20</span>   <span class="comment">#记录各个皇后的放置位置，最终放置 20 个皇后</span></span><br><span class="line"><span class="comment">#输出 N 皇后问题的解决方案</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">display</span>(<span class="params">n</span>):</span></span><br><span class="line">    <span class="keyword">global</span> count</span><br><span class="line">    count = count + <span class="number">1</span></span><br><span class="line">    print(<span class="string">&quot;输出第%d个解：&quot;</span> % (count))</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span> , n + <span class="number">1</span>):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span> , n + <span class="number">1</span>):</span><br><span class="line">            <span class="keyword">if</span> q[i] != j:</span><br><span class="line">                print(<span class="string">&quot;x&quot;</span>,end=<span class="string">&quot; &quot;</span>);</span><br><span class="line">            <span class="keyword">else</span>:</span><br><span class="line">                print(<span class="string">&quot;Q&quot;</span>,end=<span class="string">&quot; &quot;</span>);</span><br><span class="line">        print()</span><br><span class="line">    print()</span><br><span class="line"><span class="comment">#检验第k行的第j列是否可以摆放皇后</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">isSafe</span>(<span class="params">k , j</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span> , k):</span><br><span class="line">        <span class="comment">#如果有其它皇后位置同一列上，或者位于该位置的斜线位置上，则该位置无法使用</span></span><br><span class="line">        <span class="keyword">if</span> q[i] == j <span class="keyword">or</span> <span class="built_in">abs</span>(i - k) == <span class="built_in">abs</span>(q[i] - j):</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">False</span></span><br><span class="line">    <span class="keyword">return</span> <span class="literal">True</span></span><br><span class="line"><span class="comment">#放置皇后到棋盘上</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">n_queens</span>(<span class="params">k , n</span>):</span></span><br><span class="line">    <span class="keyword">if</span> k &gt; n:      <span class="comment">#递归的出口</span></span><br><span class="line">        display(n)</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span> , n + <span class="number">1</span>): <span class="comment">#试探第k行的每一列，找到符合要求的列</span></span><br><span class="line">            <span class="keyword">if</span> isSafe(k , j):</span><br><span class="line">                q[k] = j</span><br><span class="line">                n_queens(k + <span class="number">1</span> , n); <span class="comment">#在确认第 k 行皇后位置的前提下，继续测试下一行皇后的位置</span></span><br><span class="line">print(<span class="string">&quot;请输入皇后个数：&quot;</span>)</span><br><span class="line">n = <span class="built_in">int</span>(<span class="built_in">input</span>());</span><br><span class="line">n_queens(<span class="number">1</span>,n)</span><br><span class="line">print(<span class="string">&quot;共有 %d 种不同的排列&quot;</span> % (count))</span><br></pre></td></tr></table></figure>

<h2 id="迷宫问题-回溯-递归"><a href="#迷宫问题-回溯-递归" class="headerlink" title="迷宫问题[回溯+递归]"></a>迷宫问题[回溯+递归]</h2><h3 id="问题介绍-1"><a href="#问题介绍-1" class="headerlink" title="问题介绍"></a>问题介绍</h3><p>假设有一个 N*N 的正方形迷宫（如图 1 所示），老鼠必须从起始点移动到终点，它可以向上、向下、向左、向右移动，但仅限于在白色区域内移动。</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210708164837.png"></p>
<p>回溯算法可以很好地解决类似的迷宫问题，该算法能够从起点开始，逐一测试所有的移动路线，并最终找到能够达到终点的移动路线。</p>
<h3 id="问题思路-1"><a href="#问题思路-1" class="headerlink" title="问题思路"></a>问题思路</h3><p>通过使用回溯不断“试错”，直到找出最优路径</p>
<p>假设迷宫中可行走的白色区域用 1 表示， 不能行走的黑色区域用 0 表示，图 1 的迷宫可以用如下的矩阵表示：</p>
<p>1 0 1 1 1<br>1 1 1 0 1<br>1 0 0 1 1<br>1 0 0 1 0<br>1 0 0 1 1</p>
<h3 id="代码实现-1"><a href="#代码实现-1" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 指定地图的行数和列数</span></span><br><span class="line">ROW = <span class="number">5</span></span><br><span class="line">COL = <span class="number">5</span></span><br><span class="line"><span class="comment"># 初始化地图</span></span><br><span class="line">maze = [[<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>],</span><br><span class="line">        [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>],</span><br><span class="line">        [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>],</span><br><span class="line">        [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;0&#x27;</span>],</span><br><span class="line">        [<span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;0&#x27;</span>, <span class="string">&#x27;1&#x27;</span>, <span class="string">&#x27;1&#x27;</span>]]</span><br><span class="line"><span class="comment"># 假设当前迷宫中没有起点到终点的路线</span></span><br><span class="line">find = <span class="literal">False</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 回溯算法查找可行路线</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">maze_puzzle</span>(<span class="params">maze, row, col, outrow, outcol</span>):</span></span><br><span class="line">    <span class="keyword">global</span> find</span><br><span class="line">    maze[row][col] = <span class="string">&#x27;Y&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> row == outrow <span class="keyword">and</span> col == outcol:</span><br><span class="line">        find = <span class="literal">True</span></span><br><span class="line">        print(<span class="string">&quot;成功走出迷宫,路线图为：&quot;</span>)</span><br><span class="line">        printmaze(maze)</span><br><span class="line">    <span class="keyword">if</span> canMove(maze, row-<span class="number">1</span>, col):</span><br><span class="line">        maze_puzzle(maze, row - <span class="number">1</span>, col, outrow, outcol)</span><br><span class="line">    <span class="comment"># 如果程序不结束，表明此路不通，恢复该区域的标记</span></span><br><span class="line">        maze[row - <span class="number">1</span>][col] = <span class="string">&#x27;1&#x27;</span></span><br><span class="line">    <span class="keyword">if</span> canMove(maze, row, col - <span class="number">1</span>):</span><br><span class="line">        maze_puzzle(maze, row, col - <span class="number">1</span>, outrow, outcol)</span><br><span class="line">    <span class="comment"># 如果程序不结束，表明此路不通，恢复该区域的标记</span></span><br><span class="line">        maze[row][col - <span class="number">1</span>] = <span class="string">&#x27;1&#x27;</span></span><br><span class="line">    <span class="comment"># 尝试向下移动</span></span><br><span class="line">    <span class="keyword">if</span> canMove(maze, row + <span class="number">1</span>, col):</span><br><span class="line">        maze_puzzle(maze, row + <span class="number">1</span>, col, outrow, outcol)</span><br><span class="line">    <span class="comment"># 如果程序不结束，表明此路不通，恢复该区域的标记</span></span><br><span class="line">        maze[row + <span class="number">1</span>][col] = <span class="string">&#x27;1&#x27;</span></span><br><span class="line">    <span class="comment"># 尝试向右移动</span></span><br><span class="line">    <span class="keyword">if</span> canMove(maze, row, col + <span class="number">1</span>):</span><br><span class="line">        maze_puzzle(maze, row, col + <span class="number">1</span>, outrow, outcol)</span><br><span class="line">    <span class="comment"># 如果程序不结束，表明此路不通，恢复该区域的标记</span></span><br><span class="line">        maze[row][col + <span class="number">1</span>] = <span class="string">&#x27;1&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 判断指定路线是否可以行走</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">canMove</span>(<span class="params">maze, row, col</span>):</span></span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span> &lt;= row &lt;= ROW - <span class="number">1</span> <span class="keyword">and</span> <span class="number">0</span> &lt;= col &lt;= COL - <span class="number">1</span> <span class="keyword">and</span> maze[row][col] != <span class="string">&#x27;0&#x27;</span> <span class="keyword">and</span> maze[row][col] != <span class="string">&#x27;Y&#x27;</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># 输出行走路线</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">printmaze</span>(<span class="params">maze</span>):</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, ROW):</span><br><span class="line">        <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">0</span>, COL):</span><br><span class="line">            print(maze[i][j], end=<span class="string">&quot; &quot;</span>)</span><br><span class="line">        print(end=<span class="string">&#x27;\n&#x27;</span>)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">maze_puzzle(maze, <span class="number">0</span>, <span class="number">0</span>, ROW-<span class="number">1</span>, COL-<span class="number">1</span>)</span><br><span class="line"><span class="keyword">if</span> find <span class="keyword">is</span> <span class="literal">False</span>:</span><br><span class="line">    print(<span class="string">&quot;未找到可行路线&quot;</span>)</span><br></pre></td></tr></table></figure>

<h2 id="部分背包问题-贪婪算法"><a href="#部分背包问题-贪婪算法" class="headerlink" title="部分背包问题[贪婪算法]"></a>部分背包问题[贪婪算法]</h2><h3 id="问题介绍-2"><a href="#问题介绍-2" class="headerlink" title="问题介绍"></a>问题介绍</h3><p>背包问题指的是在背包所能承受的重量范围内，将哪些物品装入背包可以获得最大的收益？</p>
<p>举个例子，一个小偷正在商店行窃，他随身携带的背包可以装一定重量的商品，商店中摆放着不同重量和价值的商品，小偷应该如何选择才能获得最大的收益？这样的问题就属于背包问题。</p>
<p>根据所选物品是否可再分（比如选择某物品的 1/2），背包问题可分为以下两种：</p>
<ul>
<li><a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/01_knapsack.html">0-1 背包问题</a>：挑选物品时，单个物品要么放弃，要么全部装入背包，不存在“装入 1/2 物品”的情况；</li>
<li>部分背包问题：挑选物品时，单个物品可再分，例如将物品的 1/2 装入背包。</li>
</ul>
<p>本节给您讲解的是如何使用贪心算法解决部分背包问题。</p>
<h3 id="问题思路-2"><a href="#问题思路-2" class="headerlink" title="问题思路"></a>问题思路</h3><p>接下来以“小偷在商店行窃，商店的商品都可再分”为例，给您讲解如何解决部分背包问题。</p>
<p>为了方便讲解，我们做以下假设：</p>
<ul>
<li>背包最多可以承受的商品重量为 W（后续简称承重）；</li>
<li>商店共有 n 件商品，它们都是可再分的，其中第 i 件商品的总重量为 Wi，总收益为 Pi。</li>
</ul>
<p>显然，要想获得最大的收益，小偷需要做到以下 2 点：</p>
<ul>
<li>充分利用背包的承重，背包装的商品越多，获得收益就越大；</li>
<li>确保选中的 W 重量商品中，单位重量下获得的收益最大。</li>
</ul>
<p>结合以上 2 点，我们可以采用贪心算法来解决这个问题，具体的解决方案是：计算每个商品的收益率（即 Pi/Wi），优先选择收益率最大的商品，直至选择的商品总重量恰好为 W。</p>
<p>假设背包的承重为 20，商店中共有 3 种商品，它们的重量和收益分别为：</p>
<ul>
<li>商品 1：重量 10，收益 60，单位重量的收益为 6；</li>
<li>商品 2：重量 20，收益 100，单位重量的收益为 5；</li>
<li>商品 3：重量 30，收益 120，单位重量的收益为 4。</li>
</ul>
<p>通过比较收益率，以上 3 种商品装入背包的顺序依次为：商品 1 &gt; 商品 2 &gt; 商品 3。受到背包承重的限制，商品 1 可以全部装入背包，而商品 2 只能装一半（10 斤），商品 3 无法被装入。</p>
<h3 id="代码实现-2"><a href="#代码实现-2" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">W = <span class="number">50</span></span><br><span class="line">w = [<span class="number">10</span>, <span class="number">30</span>, <span class="number">20</span>]</span><br><span class="line">p = [<span class="number">60</span>, <span class="number">100</span>, <span class="number">120</span>]</span><br><span class="line">value = <span class="number">0</span></span><br><span class="line">result = [<span class="number">0</span>] * <span class="built_in">len</span>(w)</span><br><span class="line"></span><br><span class="line">v = []</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(w)):</span><br><span class="line">    v.append(p[i]/w[i])</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(w)):</span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(j+<span class="number">1</span>, <span class="built_in">len</span>(w)):</span><br><span class="line">        <span class="keyword">if</span> v[j] &lt; v[i]:</span><br><span class="line">            v[j], v[i] = v[i], v[j]</span><br><span class="line">            w[j], w[i] = w[i], w[j]</span><br><span class="line">            p[j], p[i] = p[i], p[j]</span><br><span class="line"></span><br><span class="line">i = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> W &gt; <span class="number">0</span>:</span><br><span class="line">    temp = <span class="built_in">min</span>(W, w[i])</span><br><span class="line">    result[i] = temp / w[i]</span><br><span class="line">    i += <span class="number">1</span></span><br><span class="line">    W -= temp</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(result)):</span><br><span class="line">    <span class="keyword">if</span> result[i] == <span class="number">1</span>:</span><br><span class="line">        print(<span class="string">&#x27;weight:%f, total value:%f--&gt;100%%&#x27;</span> % (w[i], p[i]))</span><br><span class="line">        value += p[i]</span><br><span class="line">    <span class="keyword">elif</span> result[i] == <span class="number">0</span>:</span><br><span class="line">        print(<span class="string">&#x27;weight:%f, total value:%f--&gt;0%%&#x27;</span> % (w[i], p[i]))</span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&#x27;weight:%f, total value:%f--&gt;%f&#x27;</span> % (w[i], p[i], result[i]*<span class="number">100</span>))</span><br><span class="line">        value += p[i]*result[i]</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;the total value:%f&#x27;</span> % value)</span><br></pre></td></tr></table></figure>

<h2 id="01背包问题-动态规划"><a href="#01背包问题-动态规划" class="headerlink" title="01背包问题[动态规划]"></a>01背包问题[动态规划]</h2><h3 id="问题介绍-3"><a href="#问题介绍-3" class="headerlink" title="问题介绍"></a>问题介绍</h3><p>仍以小偷在商店行窃为例，他随身携带的背包可以装一定重量的商品，商店中摆放着不同重量和价值的商品，小偷如何选择能获得最大的收益？在 01背包问题中，每种商品都是不可再分的，小偷在选择商品时，要么装入整个商品，要么放弃装该商品，不存在“装某商品的 1/2”的情况。</p>
<p>贪心算法仅适用于解决部分背包问题，不再适合解决 01背包问题。举个例子，假设商店摆放着以下几种商品：</p>
<ul>
<li>商品 1 ：重量为 6，收益为 6；</li>
<li>商品 2 ：重量为 2，收益为 4；</li>
<li>商品 3 ：重量为 3，收益为 4；</li>
<li>商品 4 ：重量为 5，收益为 3。</li>
</ul>
<p>假设背包可容纳商品的最大重量为 7，如果采用贪心算法，首先会选取收益最大的商品 1，此时背包的剩余承重为 1，无法再装下其他商品，因此最终获得的收益为 6。实际上还有一种更好的解决方案，即选择装入商品 2 和商品 3，总重量为 5（&lt;7），总收益为 4 + 4 = 8。</p>
<p>显然，贪心算法不再适用于解决 01背包问题，解决此问题可以使用<a target="_blank" rel="noopener" href="https://www.biancheng.net/algorithm/dynamic-programming.html">动态规划算法</a>。</p>
<h3 id="问题思路-3"><a href="#问题思路-3" class="headerlink" title="问题思路"></a>问题思路</h3><p>假设背包可以承受的最大重量为 11，商店有 5 种商品，它们的重量和价值分别为：</p>
<p>wi 表示第 i 种商品的重量，vi 表示第 i 种商品的价值<br>w1 = 1，v1 = 1<br>w2 = 2，v2 = 6<br>w3 = 5，v3 = 18<br>w4 = 6，v4 = 22<br>w5 = 7，v5 = 28</p>
<p>采用动态规划算法解决此问题的具体过程是：</p>
<ol>
<li>从背包所能承受的最大重量为 1 开始，依次推导出各个承重条件下所能获得的最大收益。</li>
</ol>
<p>建立如下这张表格，逐一分析出各个载重量下每一个商品装与不装对收益值的影响，从而获得各个载重量对应的最大收益值。</p>
<table>
<thead>
<tr>
<th>背包载重量</th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
</tr>
</thead>
<tbody><tr>
<td>w1 = 1，v1 = 1</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>w2 = 2，v2 = 6</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>w3 = 5，v3 = 18</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>w4 = 6，v4 = 22</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>w5 = 7，v5 = 28</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<p><strong>当背包载重量为 0 时，无法装入各个商品，因此收益一直为 0。</strong></p>
<ol start="2">
<li>首先考虑商品 (w1 , v1)，当背包载重量分别为 1、2、…、11 时，都可以装入此商品，且和不装该商品相比（背包是空的），装该商品的收益更大，因此对上表进行更新：</li>
</ol>
<table>
<thead>
<tr>
<th>背包载重量</th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
</tr>
</thead>
<tbody><tr>
<td>w1 = 1，v1 = 1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>w2 = 2，v2 = 6</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>w3 = 5，v3 = 18</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>w4 = 6，v4 = 22</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>w5 = 7，v5 = 28</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<ol start="3">
<li>再分析商品 (w2，v2)：</li>
</ol>
<ul>
<li><p>载重量为 1 时：w2&gt;1，无法装入该商品，最大收益仍为 1。</p>
</li>
<li><p>载重量为 2 时：背包可以装入此商品，装入此商品对应的总收益可以用 6+f(0) 表示，其中 f(0) 指的是载重量为 0 时装 (w1,v1) 对应的最佳收益。从上表可知，f(0) = 0，因此 6+f(0)=6，比先前只装 (w1 , v1) 的收益大。</p>
</li>
<li><p>载重量为 3 时：背包可以装入此商品，装入此商品对应的总收益可以用 6+f(1) 表示，f(1) 指的是载重量为 1 时装 (w1 , v1) 对应的最佳收益。从上表可知，f(1) = 1，因此 6+f(1) = 7，比先前只装 (w1 , v1) 的收益大。</p>
</li>
<li><p>载重量为 4~11：背包可以装入此商品，且装此商品的收益总比不装时的大，总收益都为 7。 </p>
<p>继续对表格进行更新：</p>
</li>
</ul>
<table>
<thead>
<tr>
<th>背包载重量</th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
</tr>
</thead>
<tbody><tr>
<td>w1 = 1，v1 = 1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>w2 = 2，v2 = 6</td>
<td>0</td>
<td>1</td>
<td>6</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
</tr>
<tr>
<td>w3 = 5，v3 = 18</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>w4 = 6，v4 = 22</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>w5 = 7，v5 = 28</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<ol start="4">
<li>再分析商品 (w3 , v3)：</li>
</ol>
<ul>
<li>载重量为 1 时：w3&gt;1，无法装入该商品，最大收益仍为 1。</li>
<li>载重量为 2 时：w3&gt;1，无法装入该商品，最大收益仍为 6。</li>
<li>载重量为 3~4 时：w3&gt;1，无法装入该商品，最大收益仍为 7。</li>
<li>载重量为 5：背包可以装入此商品，且装此商品的总收益可以用 18+f(0) 表示，f(0) 指的是载重量为 0 时装 (w2 , v2) 对应的最佳收益。从上表可知，f(0) = 0，因此 18+f(0) = 18，比先前统计的收益值更高。</li>
<li>载重量为 6：背包可以装入此商品，且装此商品的总收益可以用 18+f(1) 表示，f(1) 指的是载重量为 1 时装 (w2 , v2) 对应的最佳收益。从上表可知，f(1) = 1，因此 18+f(1) = 19，比先前统计的收益值更高。</li>
<li>载重量为 7：背包可以装入此商品，且装此商品的总收益可以用 18+f(2) 表示，f(2) 指的是载重量为 2 时装 (w2 , v2) 对应的最佳收益。从上表可知，f(2) = 6，因此 18+f(2) = 24，比先前统计的收益值更高。</li>
<li>根据此规律可以依次求得载重量分别为 8、9、…、11 时，对应的总收益为 25。</li>
</ul>
<p>继续对表格进行更新：</p>
<table>
<thead>
<tr>
<th>背包载重量</th>
<th>0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
</tr>
</thead>
<tbody><tr>
<td>w1 = 1，v1 = 1</td>
<td>0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td>w2 = 2，v2 = 6</td>
<td>0</td>
<td>1</td>
<td>6</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
</tr>
<tr>
<td>w3 = 5，v3 = 18</td>
<td>0</td>
<td>1</td>
<td>6</td>
<td>7</td>
<td>7</td>
<td>18</td>
<td>19</td>
<td>24</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
</tr>
<tr>
<td>w4 = 6，v4 = 22</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr>
<td>w5 = 7，v5 = 28</td>
<td>0</td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
</tbody></table>
<ol start="5">
<li>借助 (w3 , v3) 的收益数据，我们可以继续推导出不同载重量对应的 (w4 , v4) 商品的收益值；同理借助 (w4 , v4) 的收益数据，可以推导出不同载重量对应的 (w5 , v5) 商品的收益值。推导结果如下所示：</li>
</ol>
<table>
<thead>
<tr>
<th align="center">背包载重量</th>
<th align="center">0</th>
<th>1</th>
<th>2</th>
<th>3</th>
<th>4</th>
<th>5</th>
<th>6</th>
<th>7</th>
<th>8</th>
<th>9</th>
<th>10</th>
<th>11</th>
</tr>
</thead>
<tbody><tr>
<td align="center">w1 = 1，v1 = 1</td>
<td align="center">0</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
<td>1</td>
</tr>
<tr>
<td align="center">w2 = 2，v2 = 6</td>
<td align="center">0</td>
<td>1</td>
<td>6</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
<td>7</td>
</tr>
<tr>
<td align="center">w3 = 5，v3 = 18</td>
<td align="center">0</td>
<td>1</td>
<td>6</td>
<td>7</td>
<td>7</td>
<td>18</td>
<td>19</td>
<td>24</td>
<td>25</td>
<td>25</td>
<td>25</td>
<td>25</td>
</tr>
<tr>
<td align="center">w4 = 6，v4 = 22</td>
<td align="center">0</td>
<td>1</td>
<td>6</td>
<td>7</td>
<td>7</td>
<td>18</td>
<td>22</td>
<td>24</td>
<td>28</td>
<td>29</td>
<td>29</td>
<td>40</td>
</tr>
<tr>
<td align="center">w5 = 7，v5 = 28</td>
<td align="center">0</td>
<td>1</td>
<td>6</td>
<td>7</td>
<td>7</td>
<td>18</td>
<td>22</td>
<td>28</td>
<td>29</td>
<td>34</td>
<td>35</td>
<td>40</td>
</tr>
</tbody></table>
<p>因此借助动态规划算法，当背包的载重量为 11 时，获得的最大收益为 40。</p>
<h3 id="代码实现-3"><a href="#代码实现-3" class="headerlink" title="代码实现"></a>代码实现</h3><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line">N = <span class="number">5</span>       <span class="comment"># 设定商品的种类</span></span><br><span class="line">W = <span class="number">11</span>      <span class="comment"># 设定背包的最大载重量</span></span><br><span class="line">w = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]    <span class="comment"># 商品的载重，不使用 w[0]</span></span><br><span class="line">v = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">18</span>, <span class="number">22</span>, <span class="number">28</span>]   <span class="comment"># 商品的价值，不使用 v[0]</span></span><br><span class="line"><span class="comment"># 二维列表，记录统计数据</span></span><br><span class="line">result = [[<span class="number">0</span>]*(W+<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(w))]</span><br><span class="line"><span class="comment"># 动态规划算法解决01背包问题</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 逐个遍历每个商品</span></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, N+<span class="number">1</span>):</span><br><span class="line">    <span class="comment"># 求出从 1 到 W 各个载重对应的最大收益</span></span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, W+<span class="number">1</span>):</span><br><span class="line">        <span class="comment"># 如果背包载重小于商品总重量，则该商品无法放入背包，收益不变</span></span><br><span class="line">        <span class="keyword">if</span> j &lt; w[i]:</span><br><span class="line">            result[i][j] = result[i-<span class="number">1</span>][j]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            <span class="comment"># 比较装入该商品和不装该商品，哪种情况获得的收益更大，记录最大收益值</span></span><br><span class="line">            result[i][j] = <span class="built_in">max</span>(result[i-<span class="number">1</span>][j], v[i]+result[i-<span class="number">1</span>][j-w[i]])</span><br><span class="line">print(result)</span><br><span class="line">print(<span class="string">&quot;背包可容纳重量为 %d,最大收益为 %d&quot;</span> % (W, result[N][W]))</span><br><span class="line"></span><br><span class="line"><span class="comment"># 追溯选中的商品</span></span><br><span class="line">n = N</span><br><span class="line">bagw = W</span><br><span class="line"><span class="comment"># 逐个商品进行判断</span></span><br><span class="line">print(<span class="string">&quot;所选商品为:&quot;</span>)</span><br><span class="line"><span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">    <span class="comment"># 如果在指定载重量下，该商品对应的收益和上一个商品对应的收益相同，则表明未选中</span></span><br><span class="line">    <span class="keyword">if</span> result[n][bagw] == result[n-<span class="number">1</span>][bagw]:</span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        <span class="comment"># 输出被选用商品的重量和价值</span></span><br><span class="line">        print(<span class="string">&quot;(%d,%d) &quot;</span> % (w[n], v[n]))</span><br><span class="line">        <span class="comment"># 删除被选用商品的载重量，以便继续遍历</span></span><br><span class="line">        bagw = bagw - w[n]</span><br><span class="line">        n = n - <span class="number">1</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210708163344.png"></p>
<p>简化后的code</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">N = <span class="number">5</span></span><br><span class="line">W = <span class="number">11</span></span><br><span class="line">w = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>]</span><br><span class="line">v = [<span class="number">0</span>, <span class="number">1</span>, <span class="number">6</span>, <span class="number">18</span>, <span class="number">22</span>, <span class="number">28</span>]</span><br><span class="line"></span><br><span class="line">result = [[<span class="number">0</span>]*(W+<span class="number">1</span>) <span class="keyword">for</span> _ <span class="keyword">in</span> <span class="built_in">range</span>(N+<span class="number">1</span>)]</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, N+<span class="number">1</span>):</span><br><span class="line">    <span class="keyword">for</span> j <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1</span>, W+<span class="number">1</span>):</span><br><span class="line">        <span class="keyword">if</span> j &lt; w[i]:</span><br><span class="line">            result[i][j] = result[i-<span class="number">1</span>][j]</span><br><span class="line">        <span class="keyword">else</span>:</span><br><span class="line">            result[i][j] = <span class="built_in">max</span>(result[i-<span class="number">1</span>][j], v[i]+result[i-<span class="number">1</span>][j-w[i]])</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;bag`s weight:%d, total value:%d&#x27;</span> % (W, result[N][W]))</span><br><span class="line"></span><br><span class="line">print(<span class="string">&#x27;The selected products are:&#x27;</span>)</span><br><span class="line">n = N</span><br><span class="line">bagw = W</span><br><span class="line"><span class="keyword">while</span> n &gt; <span class="number">0</span>:</span><br><span class="line">    <span class="keyword">if</span> result[n][bagw] == result[n-<span class="number">1</span>][bagw]:</span><br><span class="line">        n -= <span class="number">1</span></span><br><span class="line">    <span class="keyword">else</span>:</span><br><span class="line">        print(<span class="string">&#x27;(&#123;&#125;, &#123;&#125;)&#x27;</span>.<span class="built_in">format</span>(w[n], v[n]))</span><br><span class="line">        bagw -= w[n]</span><br><span class="line">        n -= <span class="number">1</span></span><br></pre></td></tr></table></figure>



<h2 id="List"><a href="#List" class="headerlink" title="List"></a>List</h2><ol>
<li>一般情况下使用index进行列表的切分比使用[:]–&gt;[start:end)的时间复杂度更低，效率也更高O(1）&lt;–&gt;O（n）</li>
<li>对于具有特殊意义的index一般追踪起来比较困难，我们选择直接再terminal中return对应的information而不是return index</li>
</ol>
<h2 id="String"><a href="#String" class="headerlink" title="String"></a>String</h2><h2 id="Set"><a href="#Set" class="headerlink" title="Set"></a>Set</h2><h2 id="Dictionary"><a href="#Dictionary" class="headerlink" title="Dictionary"></a>Dictionary</h2><h2 id="Tuple"><a href="#Tuple" class="headerlink" title="Tuple"></a>Tuple</h2>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/05/23/Framework-Thinking/" data-id="ckp1cbb4x0000ukf5cn4v72te" data-title="Framework-Thinking" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/consciousness/" rel="tag">consciousness</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Python-Underlying-Structure" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/15/Python-Underlying-Structure/" class="article-date">
  <time class="dt-published" datetime="2021-05-15T07:14:15.000Z" itemprop="datePublished">2021-05-15</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/15/Python-Underlying-Structure/">Python-Underlying-Structure</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h1 id="Python底层结构"><a href="#Python底层结构" class="headerlink" title="Python底层结构"></a>Python底层结构</h1><h2 id="浅拷贝-深拷贝"><a href="#浅拷贝-深拷贝" class="headerlink" title="浅拷贝/深拷贝"></a>浅拷贝/深拷贝</h2><p>首先需要了解下几个概念</p>
<ul>
<li>变量：是一个系统表的元素，拥有指向对象的连接空间</li>
<li>对象：被分配的一块内存，存储其所代表的值</li>
<li>引用：是自动形成的从变量到对象的指针</li>
<li>类型：属于对象，而非变量</li>
<li>不可变对象：一旦创建就不可修改的对象，包括字符串、元组、数值类型</li>
</ul>
<p><em>（该对象所指向的内存中的值不能被改变。当改变某个变量时候，由于其所指的值不能被改变，相当于把原来的值复制一份后再改变，这会开辟一个新的地址，变量再指向这个新的地址。）</em></p>
<ul>
<li>可变对象：可以修改的对象，包括列表、字典、集合</li>
</ul>
<p><em>（该对象所指向的内存中的值可以被改变。变量（准确的说是引用）改变后，实际上是其所指的值直接发生改变，并没有发生复制行为，也没有开辟新的地址，通俗点说就是原地改变。）</em></p>
<p>当我们写：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a = &#x27;python&#x27;</span><br></pre></td></tr></table></figure>

<p>Python解释器干的事情：</p>
<p>\1. 创建变量a</p>
<p>\2. 创建一个对象(分配一块内存)，来存储值 ‘python’</p>
<p>\3. 将变量与对象，通过指针连接起来，从变量到对象的连接称之为引用(变量引用对象)</p>
<hr>
<p><strong>1.赋值: 只是复制了新对象的引用，不会开辟新的内存空间。</strong></p>
<p>并不会产生一个独立的对象单独存在，只是将原有的数据块打上一个新标签，所以当其中一个标签被改变的时候，数据块就会发生变化，另一个标签也会随之改变。</p>
<p><strong>2.浅拷贝: 创建新对象，其内容是原对象的引用。</strong></p>
<p>浅拷贝有三种形式： 切片操作，工厂函数，copy模块中的copy函数。</p>
<p>如： lst = [1,2,[3,4]]</p>
<p>切片操作：lst1 = lst[:] 或者 lst1 = [each for each in lst]</p>
<p>工厂函数：lst1 = list(lst)</p>
<p>copy函数：lst1 = copy.copy(lst)</p>
<p>浅拷贝之所以称为浅拷贝，是它仅仅只拷贝了一层，拷贝了最外围的对象本身，内部的元素都只是拷贝了一个引用而已，在lst中有一个嵌套的list[3,4]，如果我们修改了它，情况就不一样了。</p>
<p>浅复制要分两种情况进行讨论：</p>
<p>1）当浅复制的值是不可变对象（字符串、元组、数值类型）时和“赋值”的情况一样，对象的id值<em>（id()函数用于获取对象的内存地址）</em>与浅复制原来的值相同。</p>
<p>2）当浅复制的值是可变对象（列表、字典、集合）时会产生一个“不是那么独立的对象”存在。有两种情况：</p>
<p><em>第一种情况：复制的对象中无复杂子对象，原来值的改变并不会影响浅复制的值，同时浅复制的值改变也并不会影响原来的值。原来值的id值与浅复制原来的值不同。</em></p>
<p><em>第二种情况：复制的对象中有复杂子对象（例如列表中的一个子元素是一个列表），如果不改变其中复杂子对象，浅复制的值改变并不会影响原来的值。 但是改变原来的值中的复杂子对象的值会影响浅复制的值。</em></p>
<p><strong>3.深拷贝：和浅拷贝对应，深拷贝拷贝了对象的所有元素，包括多层嵌套的元素。深拷贝出来的对象是一个全新的对象，不再与原来的对象有任何关联。</strong></p>
<p>所以改变原有被复制对象不会对已经复制出来的新对象产生影响。</p>
<p>只有一种形式，copy模块中的deepcopy函数</p>
<p><strong>对于不可变对象的深浅拷贝</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import copy</span><br><span class="line">a=(1,2,3)</span><br><span class="line"></span><br><span class="line">print(&quot;=====赋值=====&quot;)</span><br><span class="line">b=a</span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br><span class="line">print(id(a))</span><br><span class="line">print(id(b))</span><br><span class="line"></span><br><span class="line">print(&quot;=====浅拷贝=====&quot;)</span><br><span class="line">b=copy.copy(a)</span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br><span class="line">print(id(a))</span><br><span class="line">print(id(b))</span><br><span class="line"></span><br><span class="line">print(&quot;=====深拷贝=====&quot;)</span><br><span class="line">b=copy.deepcopy(a)</span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br><span class="line">print(id(a))</span><br><span class="line">print(id(b))</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">=====赋值=====</span><br><span class="line">(1, 2, 3)</span><br><span class="line">(1, 2, 3)</span><br><span class="line">43481128</span><br><span class="line">43481128</span><br><span class="line">=====浅拷贝=====</span><br><span class="line">(1, 2, 3)</span><br><span class="line">(1, 2, 3)</span><br><span class="line">43481128</span><br><span class="line">43481128</span><br><span class="line">=====深拷贝=====</span><br><span class="line">(1, 2, 3)</span><br><span class="line">(1, 2, 3)</span><br><span class="line">43481128</span><br><span class="line">43481128</span><br></pre></td></tr></table></figure>

<p>不可变对象类型，没有被拷贝的说法，即便是用深拷贝，查看id的话也是一样的，如果对其重新赋值，也只是新创建一个对象，替换掉旧的而已。</p>
<p>一句话就是，不可变类型，不管是深拷贝还是浅拷贝，地址值和拷贝后的值都是一样的。</p>
<p><strong>对于可变对象深浅拷贝</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">import copy</span><br><span class="line">a=[1,2,3]</span><br><span class="line"></span><br><span class="line">print(&quot;=====赋值=====&quot;)</span><br><span class="line">b=a</span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br><span class="line">print(id(a))</span><br><span class="line">print(id(b))</span><br><span class="line"></span><br><span class="line">print(&quot;=====浅拷贝=====&quot;)</span><br><span class="line">b=copy.copy(a)</span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br><span class="line">print(id(a))</span><br><span class="line">print(id(b))</span><br><span class="line"></span><br><span class="line">print(&quot;=====深拷贝=====&quot;)</span><br><span class="line">b=copy.deepcopy(a)</span><br><span class="line">print(a)</span><br><span class="line">print(b)</span><br><span class="line">print(id(a))</span><br><span class="line">print(id(b))</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">=====赋值=====</span><br><span class="line">[1, 2, 3]</span><br><span class="line">[1, 2, 3]</span><br><span class="line">37235144</span><br><span class="line">37235144</span><br><span class="line">=====浅拷贝=====</span><br><span class="line">[1, 2, 3]</span><br><span class="line">[1, 2, 3]</span><br><span class="line">37235144</span><br><span class="line">37191432</span><br><span class="line">=====深拷贝=====</span><br><span class="line">[1, 2, 3]</span><br><span class="line">[1, 2, 3]</span><br><span class="line">37235144</span><br><span class="line">37210184</span><br></pre></td></tr></table></figure>

<p>赋值： 值相等，地址相等</p>
<p>copy浅拷贝：值相等，地址不相等</p>
<p>deepcopy深拷贝：值相等，地址不相等</p>
<p><strong>对于可变对象深浅拷贝(外层改变元素)</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import copy</span><br><span class="line">l=[1,2,3,[4, 5]]</span><br><span class="line"></span><br><span class="line">l1=l #赋值</span><br><span class="line">l2=copy.copy(l) #浅拷贝</span><br><span class="line">l3=copy.deepcopy(l) #深拷贝</span><br><span class="line">l.append(6)</span><br><span class="line"></span><br><span class="line">print(l)  </span><br><span class="line">print(l1)</span><br><span class="line">print(l2)</span><br><span class="line">print(l3)</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[1, 2, 3, [4, 5], 6]     #l添加一个元素6</span><br><span class="line">[1, 2, 3, [4, 5], 6]     #l1跟着添加一个元素6</span><br><span class="line">[1, 2, 3, [4, 5]]        #l2保持不变</span><br><span class="line">[1, 2, 3, [4, 5]]        #l3保持不变</span><br></pre></td></tr></table></figure>

<p><strong>对于可变对象深浅拷贝(内层改变元素)</strong></p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">import copy</span><br><span class="line">l=[1,2,3,[4, 5]]</span><br><span class="line"></span><br><span class="line">l1=l #赋值</span><br><span class="line">l2=copy.copy(l) #浅拷贝</span><br><span class="line">l3=copy.deepcopy(l) #深拷贝</span><br><span class="line">l[3].append(6) </span><br><span class="line"></span><br><span class="line">print(l) </span><br><span class="line">print(l1)</span><br><span class="line">print(l2)</span><br><span class="line">print(l3)</span><br></pre></td></tr></table></figure>

<p>结果：</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[1, 2, 3, [4, 5, 6]]      #l[3]添加一个元素6</span><br><span class="line">[1, 2, 3, [4, 5, 6]]      #l1跟着添加一个元素6</span><br><span class="line">[1, 2, 3, [4, 5, 6]]      #l2跟着添加一个元素6</span><br><span class="line">[1, 2, 3, [4, 5]]         #l3保持不变</span><br></pre></td></tr></table></figure>

<p>1.外层添加元素时，浅拷贝不会随原列表变化而变化；内层添加元素时，浅拷贝才会变化。<br>2.无论原列表如何变化，深拷贝都保持不变。<br>3.赋值对象随着原列表一起变化。</p>
<h2 id="几何-set"><a href="#几何-set" class="headerlink" title="几何[set]"></a>几何[set]</h2><p><a target="_blank" rel="noopener" href="http://c.biancheng.net/python/">Python</a> set 集合最常用的操作是向集合中添加、删除元素，以及集合之间做交集、并集、差集等运算，本节将一一讲解这些操作的具体实现。</p>
<p><strong>向 set 集合中添加元素</strong></p>
<p>set 集合中添加元素，可以使用 set 类型提供的 add() 方法实现，该方法的语法格式为：</p>
<p>setname.add(element)</p>
<p>其中，setname 表示要添加元素的集合，element 表示要添加的元素内容。</p>
<p><strong>需要注意的是，使用 add() 方法添加的元素，只能是数字、字符串、元组或者布尔类型（True 和 False）值，不能添加列表、字典、集合这类可变的数据，否则 Python 解释器会报 TypeError 错误。例如：</strong></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; &#123;1,2,3&#125;a.add((1,2))print(a)a.add([1,2])print(a)</span><br></pre></td></tr></table></figure>

<p>运行结果为：</p>
<p>{(1, 2), 1, 2, 3}<br>Traceback (most recent call last):<br> File “C:\Users\mengma\Desktop\1.py”, line 4, in <module><br>  a.add([1,2])<br>TypeError: unhashable type: ‘list’</p>
<p><strong>从set集合中删除元素</strong></p>
<p>删除现有 set 集合中的指定元素，可以使用 remove() 方法，该方法的语法格式如下：</p>
<p>setname.remove(element)</p>
<p>使用此方法删除集合中元素，需要注意的是，如果被删除元素本就不包含在集合中，则此方法会抛出 KeyError 错误，例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; &#123;1,2,3&#125;a.remove(1)print(a)a.remove(1)print(a)</span><br></pre></td></tr></table></figure>

<p>运行结果为：</p>
<p>{2, 3}<br>Traceback (most recent call last):<br> File “C:\Users\mengma\Desktop\1.py”, line 4, in <module><br>  a.remove(1)<br>KeyError: 1</p>
<p>上面程序中，由于集合中的元素 1 已被删除，因此当再次尝试使用 remove() 方法删除时，会引发 KeyError 错误。</p>
<p>如果我们不想在删除失败时令解释器提示 KeyError 错误，还可以使用 discard() 方法，此方法和 remove() 方法的用法完全相同，唯一的区别就是，当删除集合中元素失败时，此方法不会抛出任何错误。</p>
<p>例如：</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">a &#x3D; &#123;1,2,3&#125;a.remove(1)print(a)a.discard(1)print(a)</span><br></pre></td></tr></table></figure>

<p>运行结果为：</p>
<p>{2, 3}<br>{2, 3}</p>
<p><strong>Python set集合做交集、并集、差集运算</strong></p>
<p>集合最常做的操作就是进行交集、并集、差集以及对称差集运算，首先有必要给大家普及一下各个运算的含义。</p>
<p><img src="http://c.biancheng.net/uploads/allimg/190712/2-1ZG2132104150.gif" alt="img"><br>图 1 中，有 2 个集合，分别为 set1={1,2,3} 和 set2={3,4,5}，它们既有相同的元素，也有不同的元素。以这两个集合为例，分别做不同运算的结果如表 1 所示。</p>
<table>
<thead>
<tr>
<th>运算操作</th>
<th>Python运算符</th>
<th>含义</th>
<th>例子</th>
</tr>
</thead>
<tbody><tr>
<td>交集</td>
<td>&amp;</td>
<td>取两集合公共的元素</td>
<td>&gt;&gt;&gt; set1 &amp; set2 {3}</td>
</tr>
<tr>
<td>并集</td>
<td>|</td>
<td>取两集合全部的元素</td>
<td>&gt;&gt;&gt; set1 | set2 {1,2,3,4,5}</td>
</tr>
<tr>
<td>差集</td>
<td>-</td>
<td>取一个集合中另一集合没有的元素</td>
<td>&gt;&gt;&gt; set1 - set2 {1,2} &gt;&gt;&gt; set2 - set1 {4,5}</td>
</tr>
<tr>
<td>对称差集</td>
<td>^</td>
<td>取集合 A 和 B 中不属于 A&amp;B 的元素</td>
<td>&gt;&gt;&gt; set1 ^ set2 {1,2,4,5}</td>
</tr>
</tbody></table>
<h2 id="字典-dict"><a href="#字典-dict" class="headerlink" title="字典[dict]"></a>字典[dict]</h2><p>字典中的.pop()是指删除key-val并抛出val</p>
<p>字典的访问：</p>
<ul>
<li>dic.get(key, default):访问key，如果没有key返回None，有key返回对应的value</li>
<li>dic[key]：通过key访问value</li>
<li>for key in dic.keys()：访问所有的keys</li>
<li>for value in dic.values()：访问所有的values</li>
<li>for key, value in dic.items()：访问所有的键值对</li>
</ul>
<hr>
<ul>
<li>for i in dict–&gt;access key</li>
<li>for key in dict.keys–&gt;accsee key</li>
<li>for key, val in dict.item–&gt;access key and val</li>
<li>dict[key]–&gt;access key对应的val, 没有的话返回KeyError</li>
<li>dict.get(key, val(default:None))–&gt;访问dict中key对应的值,没有的话返回val</li>
</ul>
<p>有与dict中的key不可以直接修改,如果要修改key需要以下操作</p>
<p><strong>第一种方法：将需要修改的键对应的值用dict.pop() 的方法提取出来，并重新赋值给新的键，即dict[新的键] = dict.pop(旧的键)。</strong>（字典dict的pop是删除某个键及其对应的值，返回的是该键对应的值）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dict</span>=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="built_in">dict</span>[<span class="string">&quot;c&quot;</span>] = <span class="built_in">dict</span>.pop(<span class="string">&quot;a&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>第二种方法：结合dict.pop() 和dict.update() 的方法。</strong>（字典dict的pop是删除某个键及其对应的值，返回的是该键对应的值）</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dict</span>=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="built_in">dict</span>.update(&#123;<span class="string">&#x27;c&#x27;</span>:<span class="built_in">dict</span>.pop(<span class="string">&quot;a&quot;</span>)&#125;)</span><br></pre></td></tr></table></figure>

<p><strong>第三种方法：结合直接修改和del语句。</strong>先用直接修改的方式将旧键赋值给新的键，再用del语句删除原来的键名。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dict</span>=&#123;<span class="string">&#x27;a&#x27;</span>:<span class="number">1</span>, <span class="string">&#x27;b&#x27;</span>:<span class="number">2</span>&#125;</span><br><span class="line"><span class="built_in">dict</span>[<span class="string">&#x27;c&#x27;</span>]=<span class="built_in">dict</span>[<span class="string">&#x27;a&#x27;</span>]</span><br><span class="line"><span class="keyword">del</span> <span class="built_in">dict</span>[<span class="string">&#x27;a&#x27;</span>]</span><br></pre></td></tr></table></figure>



<h2 id="Operators"><a href="#Operators" class="headerlink" title="Operators"></a>Operators</h2><p><code>//</code>:rounding down ==&gt; 7//2 = 3.5 —&gt; 3</p>
<p><code>[start:end]</code>==&gt;contains start except end</p>
<p>[1, 2, 3, 4, 5] ==[2:]==&gt;[3, 4, 5]</p>
<p>[1, 2, 3, 4, 5] ==[:2]==&gt;[1, 2]</p>
<p>[1, 2, 3, 4, 5] ==[1:3]==&gt;[2, 3]</p>
<p>切片操作[start:end]==&gt;[start， end)</p>
<p><strong>[a::b]</strong></p>
<p>这个是python的slice notation的特殊用法。<br>b = a[i:j] ==&gt;[i, j)==&gt;new list</p>
<ul>
<li>default(i)=0</li>
<li>default(j)=len(alist)</li>
</ul>
<p>[i:j:s]==&gt;[i, j) step=s</p>
<p>如果<code>s&lt;0</code></p>
<ul>
<li>i缺省时，默认为-1；</li>
<li> j缺省时，默认为-len(a)-1</li>
</ul>
<p>所以a[::-1]相当于 a[-1:-len(a)-1:-1]，也就是从最后一个元素到第一个元素复制一遍。</p>
<p>常见的譬如[::-1]==&gt;将list的所有元素反转</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">b1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>][::-<span class="number">1</span>]</span><br><span class="line">b2 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>][::-<span class="number">2</span>]</span><br><span class="line">print(b1)</span><br><span class="line">print(b2)</span><br><span class="line">&gt;&gt;</span><br><span class="line">[<span class="number">4</span>, <span class="number">3</span>, <span class="number">2</span>, <span class="number">1</span>]</span><br><span class="line">[<span class="number">4</span>, <span class="number">2</span>]</span><br></pre></td></tr></table></figure>






<hr>
<p>randint(start, end)==&gt;contains start and end==&gt;[start, end]</p>
<p>example==&gt;randint(1, 3)==&gt;1, 2, 3</p>
<h2 id="测试code性能"><a href="#测试code性能" class="headerlink" title="测试code性能"></a>测试code性能</h2><h3 id="Performance"><a href="#Performance" class="headerlink" title="Performance"></a>Performance</h3><h4 id="1-timeit"><a href="#1-timeit" class="headerlink" title="1.timeit"></a><strong>1.timeit</strong></h4><p>timeit只输出被测试代码的总运行时间</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> timeit</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">        a = i * i</span><br><span class="line"></span><br><span class="line">cost_time = timeit.timeit(<span class="string">&#x27;fun()&#x27;</span>, <span class="string">&#x27;from __main__ import fun&#x27;</span>, number=<span class="number">1000</span>)</span><br><span class="line">print(cost_time)</span><br><span class="line"></span><br><span class="line">&gt;&gt;</span><br><span class="line"><span class="number">0.0074794</span></span><br></pre></td></tr></table></figure>

<hr>
<h4 id="2-profile-函数时间"><a href="#2-profile-函数时间" class="headerlink" title="2.profile[函数时间]"></a><strong>2.profile[函数时间]</strong></h4><p>profile：纯Python实现的性能测试模块，接口和cProfile一样。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> profile</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span>():</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>):</span><br><span class="line">        a = i * i</span><br><span class="line">        </span><br><span class="line">profile.run(<span class="string">&#x27;fun()&#x27;</span>)</span><br></pre></td></tr></table></figure>

<ul>
<li>ncall：函数运行次数</li>
<li>tottime： 函数的总的运行时间，减去函数中调用子函数的运行时间</li>
</ul>
<p>第一个percall：percall = tottime / nclall</p>
<ul>
<li>cumtime:函数及其所有子函数调整的运行时间，也就是函数开始调用到结束的时间。</li>
</ul>
<p>第二个percall：percall = cumtime / nclall</p>
<table>
<thead>
<tr>
<th align="center">名称</th>
<th align="center">含义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">ncalls</td>
<td align="center">函数被调用次数</td>
</tr>
<tr>
<td align="center">tottime</td>
<td align="center">函数（除去子函数）总运行时间</td>
</tr>
<tr>
<td align="center">percall</td>
<td align="center">平均时间，等于tottime/ncalls</td>
</tr>
<tr>
<td align="center">cumtime</td>
<td align="center">函数（包括子函数）总运行时间</td>
</tr>
<tr>
<td align="center">percall</td>
<td align="center">平均时间，等于cumtime/ncalls</td>
</tr>
<tr>
<td align="center">filename</td>
<td align="center">文件：行号（函数）</td>
</tr>
</tbody></table>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210523203737.png"></p>
<hr>
<h4 id="3-cProfiler-函数时间"><a href="#3-cProfiler-函数时间" class="headerlink" title="3.cProfiler[函数时间]"></a><strong>3.cProfiler[函数时间]</strong></h4><p>profile：c语言实现的性能测试模块，接口和profile一样。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> cProfile</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">fun</span>():</span></span><br><span class="line">    a = <span class="number">0</span></span><br><span class="line">    b = <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">10000</span>):</span><br><span class="line">        a = a + i * i</span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">3</span>):</span><br><span class="line">        b += <span class="number">1</span></span><br><span class="line">        time.sleep(<span class="number">0.1</span>)</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> a + b</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">cProfile.run(<span class="string">&#x27;fun()&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure>

<p>result：</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210523205439.png"></p>
<p><strong>profiler 和 cProfiler 都只能检测整个函数的运行时间，要想知道每行代码运行所损耗的时间需要line_profiler或者memory_profiler（不仅可以得到每行代码运行的时间还可以统计每行代码所占用的内存大小）</strong></p>
<hr>
<h4 id="4-line-profiler-分段时间"><a href="#4-line-profiler-分段时间" class="headerlink" title="4.line_profiler[分段时间]"></a><strong>4.line_profiler[分段时间]</strong></h4><p>pip install line_profiler</p>
<p>安装之后kernprof.py会加到环境变量中。</p>
<p>line_profiler可以统计每行代码的执行次数和执行时间等，时间单位为微妙。</p>
<p>该模块常通过装饰器来使用。在安装好该模块后，编写需要测试的python程序，并在需要测试的函数上方加入<code>@profile</code>，保存为<code>*.py</code>文件。在命令行使用<code>kernprof -l -v *.py</code>，在输出打印出程序结果之后会打印性能分析。</p>
<p>输出结果的含义：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> line_profiler <span class="keyword">import</span> LineProfiler</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">do_stuff</span>(<span class="params">numbers</span>):</span></span><br><span class="line">    s = <span class="built_in">sum</span>(numbers)</span><br><span class="line">    l = [numbers[i] / <span class="number">43</span> <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(numbers))]</span><br><span class="line">    m = [<span class="string">&#x27;hello&#x27;</span> + <span class="built_in">str</span>(numbers[i]) <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="built_in">len</span>(numbers))]</span><br><span class="line">    </span><br><span class="line">numbers = [i <span class="keyword">for</span> i <span class="keyword">in</span> <span class="built_in">range</span>(<span class="number">1000</span>)]</span><br><span class="line"></span><br><span class="line">lp = LineProfiler(do_stuff)</span><br><span class="line">lp.runcall(do_stuff, numbers)</span><br><span class="line">lp.print_stats()</span><br></pre></td></tr></table></figure>

<table>
<thead>
<tr>
<th align="center">名称</th>
<th align="center">意义</th>
</tr>
</thead>
<tbody><tr>
<td align="center">Timer unit</td>
<td align="center">计时器单位，微秒</td>
</tr>
<tr>
<td align="center">Total time</td>
<td align="center">测试代码总运行时间</td>
</tr>
<tr>
<td align="center">File</td>
<td align="center">测试代码文件名</td>
</tr>
<tr>
<td align="center">Hits</td>
<td align="center">每行代码运行次数</td>
</tr>
<tr>
<td align="center">Time</td>
<td align="center">每行代码运行时间</td>
</tr>
<tr>
<td align="center">Per Hit</td>
<td align="center">每行代码运行一次的时间</td>
</tr>
<tr>
<td align="center">% Time</td>
<td align="center">每行代码运行时间的百分比</td>
</tr>
<tr>
<td align="center">Line Contents</td>
<td align="center">每行代码</td>
</tr>
</tbody></table>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210523213913.png"></p>
<ul>
<li>Total Time：测试代码的总运行时间</li>
<li>Hits：表示每行代码运行的次数</li>
<li>Time：每行代码运行的总时间</li>
<li>Per Hits：每行代码运行一次的时间</li>
<li>% Time：每行代码运行时间的百分比</li>
</ul>
<hr>
<h4 id="5-memory-profiler-内存"><a href="#5-memory-profiler-内存" class="headerlink" title="5.memory_profiler:[内存]"></a><strong>5.memory_profiler:[内存]</strong></h4><p>memory_profiler工具可以统计每行代码占用的内存大小。</p>
<p><strong>测试代码：</strong></p>
<p>使用方法同line_profiler模块，借助装饰器调用。在需要分析的函数上方加<code>@profile</code>。在命令行使用<code>python -m memory_profiler *.py</code>运行代码。<br>输出结果中：<br>Mem usage：内存使用情况<br>Increment：每行代码运行后内存增减情况</p>
<p><strong>使用：</strong></p>
<ol>
<li>在需要测试的函数加上@profile装饰</li>
<li>执行命令： python -m memory_profiler C:Python34 est.py</li>
</ol>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将调试文件独立出xx.py</span></span><br><span class="line"><span class="comment"># 在pycharm 的 terminal windows中使用</span></span><br><span class="line"><span class="comment"># code: python -m memory_profiler memory_profiler</span></span><br><span class="line"><span class="keyword">from</span> memory_profiler <span class="keyword">import</span> profile</span><br><span class="line"></span><br><span class="line"><span class="meta">@profile</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test1</span>():</span></span><br><span class="line">    c = []</span><br><span class="line">    a = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>] * (<span class="number">2</span> ** <span class="number">20</span>)</span><br><span class="line">    b = [<span class="number">1</span>] * (<span class="number">2</span> ** <span class="number">20</span>)</span><br><span class="line">    c.extend(a)</span><br><span class="line">    c.extend(b)</span><br><span class="line">    <span class="keyword">del</span> b</span><br><span class="line">    <span class="keyword">del</span> c</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    test1()</span><br><span class="line"></span><br><span class="line">&gt;&gt;cmd -&gt;python version 3.7</span><br><span class="line">&gt;&gt;//terminal//</span><br><span class="line">&lt;python -m memory_profiler memory_profiler&gt;</span><br></pre></td></tr></table></figure>

<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210523232121.png"></p>
<ul>
<li><code>Mem usage</code> 为当前总内存</li>
<li><code>Increment</code> 为增加的内存</li>
</ul>
<p>总结起来使用非常时间</p>
<ul>
<li>方法前加上 <code>@profile</code> 主键</li>
<li>使用 <code>python -m memory_profiler</code> 来运行，不过直接用 <code>python</code> 运行也可以</li>
</ul>
<p>通过上面这段代码我们可以发现，<code>del</code> 语句只是将变量删除，并不能减少内存的消耗。</p>
<p><strong>参数使用</strong></p>
<ul>
<li><code>precision</code> 显示小数点后的位数</li>
</ul>
<p>默认显示的内存单位为 <code>MiB</code>，小数点后显示一位，如果某行代码占用内存比较小，就可能显示不出来，此时可以通过调整小数点后的位数实现。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> memory_profiler <span class="keyword">import</span> profile</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="meta">@profile(<span class="params">precision=<span class="number">4</span></span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test3</span>():</span></span><br><span class="line">    a = [<span class="number">1</span>, <span class="number">2</span>] * (<span class="number">2</span> ** <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    test3()</span><br></pre></td></tr></table></figure>

<ul>
<li><code>stream</code> 将结果输出到流中</li>
</ul>
<p>每次运行都要打印内存情况，势必会影响程序输出效果，我们可以将结果通过流输出到文件中</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> memory_profiler <span class="keyword">import</span> profile</span><br><span class="line"></span><br><span class="line"><span class="meta">@profile(<span class="params">precision=<span class="number">4</span>, @profile(<span class="params">precision=<span class="number">4</span>, stream=<span class="built_in">open</span>(<span class="params"><span class="string">&#x27;/tmp/memory_profiler.log&#x27;</span>,<span class="string">&#x27;w+&#x27;</span></span>)</span>)</span>)</span></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">test3</span>():</span></span><br><span class="line">    a = [<span class="number">1</span>, <span class="number">2</span>] * (<span class="number">2</span> ** <span class="number">10</span>)</span><br><span class="line"></span><br><span class="line"><span class="keyword">if</span> __name__ == <span class="string">&quot;__main__&quot;</span>:</span><br><span class="line">    test3()</span><br></pre></td></tr></table></figure>

<hr>
<h4 id="6-objgraph：-待完善"><a href="#6-objgraph：-待完善" class="headerlink" title="6.objgraph：[待完善]"></a>6.objgraph：[待完善]</h4><p>objgraph是一个实用模块,可以列出当前内存中存在的对象，可用于定位内存泄露。</p>
<p>objgraph需要安装：</p>
<p>pip install objgraph</p>
<hr>
<h3 id="Time"><a href="#Time" class="headerlink" title="Time"></a>Time</h3><p>计算Python的某个程序，或者是代码块运行的时间一般有三种方法。</p>
<h4 id="1-datetime"><a href="#1-datetime" class="headerlink" title="1.datetime"></a><strong>1.datetime</strong></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime</span><br><span class="line">start = datetime.datetime.now()</span><br><span class="line">run_function():</span><br><span class="line">    <span class="comment"># do something</span></span><br><span class="line"></span><br><span class="line">end = datetime.datetime.now()</span><br><span class="line"><span class="built_in">print</span> (end-start)</span><br></pre></td></tr></table></figure>

<h4 id="2-time–time"><a href="#2-time–time" class="headerlink" title="2.time–time"></a><strong>2.time–time</strong></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">start = time.time()</span><br><span class="line">run_function()</span><br><span class="line">end = time.time()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">str</span>(end-start)</span><br></pre></td></tr></table></figure>

<h4 id="3-time-clock-version-lt-3-8"><a href="#3-time-clock-version-lt-3-8" class="headerlink" title="3.time-clock(version&lt;3.8)"></a><strong>3.time-clock(version&lt;3.8)</strong></h4><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> time</span><br><span class="line">start = time.clock()</span><br><span class="line">run_function()</span><br><span class="line">end = time.clock()</span><br><span class="line"></span><br><span class="line"><span class="built_in">print</span> <span class="built_in">str</span>(end-start)</span><br></pre></td></tr></table></figure>

<p>通过对以上方法的比较我们发现，方法二的精度比较高。方法一基本上是性能最差的。这个其实是和系统有关系的。一般我们推荐使用方法二和方法三。我的系统是Ubuntu，也就是Linux系统，方法二返回的是UTC时间。 在很多系统中time.time()的精度都是非常低的，包括windows。</p>
<p>python 的标准库手册推荐在任何情况下尽量使用time.clock().但是这个函数在windows下返回的是真实时间（wall time）</p>
<p><strong>方法一和方法二都包含了其他程序使用CPU的时间。方法三只计算了程序运行CPU的时间。</strong></p>
<p>方法二和方法三都返回的是浮点数<br>究竟是使用 <strong>time.clock()</strong> 精度高，还是使用 <strong>time.time()</strong> 精度更高，要视乎所在的平台来决定。总概来讲，在 <strong>Unix</strong> 系统中，建议使用 **time.time()**，在 Windows 系统中，建议使用 **time.clock()**。</p>
<p><strong>我们要实现跨平台的精度性，我们可以使用timeit 来代替time</strong></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> timeit</span><br><span class="line"></span><br><span class="line">start = timeit.default_timer()</span><br><span class="line">do_func()</span><br><span class="line">end = timeit.default_timer()</span><br><span class="line"><span class="built_in">print</span> <span class="built_in">str</span>(end-start)</span><br></pre></td></tr></table></figure>

<h2 id="时间复杂度"><a href="#时间复杂度" class="headerlink" title="时间复杂度"></a>时间复杂度</h2><p>随着问题规模的增加，<code>T(n)</code>变化最大的数量级称为时间复杂度<code>O(n)</code></p>
<h2 id="字符编码"><a href="#字符编码" class="headerlink" title="字符编码"></a>字符编码</h2><p>Python2中默认的编码格式是 ASCII 格式，程序文件中如果包含中文字符（包括注释部分）需要在文件开头加上 <code># -*- coding: UTF-8 -*-</code> 或者 <code>#coding=utf-8</code> 就行了</p>
<p>Python3默认支持Unicode</p>
<h2 id="保留字（关键字）"><a href="#保留字（关键字）" class="headerlink" title="保留字（关键字）"></a>保留字（关键字）</h2><p>30个关键字</p>
<figure class="highlight text"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">and exec    not</span><br><span class="line">assert  finally or</span><br><span class="line">break   for pass</span><br><span class="line">class   from    print</span><br><span class="line">continue global raise</span><br><span class="line">def if  return</span><br><span class="line">del import  try</span><br><span class="line">elif    in  while</span><br><span class="line">else    is  with</span><br><span class="line">except  lambda  yield</span><br></pre></td></tr></table></figure>

<h2 id="注释"><a href="#注释" class="headerlink" title="注释"></a>注释</h2><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 单行注释</span></span><br><span class="line"></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"><span class="string">多行注释</span></span><br><span class="line"><span class="string">多行注释</span></span><br><span class="line"><span class="string">&#x27;&#x27;&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br><span class="line"><span class="string">多行注释</span></span><br><span class="line"><span class="string">多行注释</span></span><br><span class="line"><span class="string">&quot;&quot;&quot;</span></span><br></pre></td></tr></table></figure>

<h2 id="变量赋值"><a href="#变量赋值" class="headerlink" title="变量赋值"></a>变量赋值</h2><p>Python是动态语言，所以在定义变量的时候不需要申明类型，直接使用即可。<br>Python会根据值判断类型。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">name = <span class="string">&quot;Zeta&quot;</span> <span class="comment"># 字符串变量</span></span><br><span class="line">age = <span class="number">38</span> <span class="comment"># 整数</span></span><br><span class="line">income = <span class="number">1.23</span> <span class="comment"># 浮点数</span></span><br></pre></td></tr></table></figure>

<p>多变量赋值</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a,b = <span class="number">1</span>,<span class="number">2</span> <span class="comment"># a=1; b=2</span></span><br><span class="line">c = d = <span class="number">3</span> <span class="comment"># c=3; d=3</span></span><br></pre></td></tr></table></figure>

<h2 id="标准数据类型"><a href="#标准数据类型" class="headerlink" title="标准数据类型"></a>标准数据类型</h2><h3 id="Python-的标准数据类型有："><a href="#Python-的标准数据类型有：" class="headerlink" title="Python 的标准数据类型有："></a>Python 的标准数据类型有：</h3><ul>
<li>Boolean（布尔值）</li>
<li>Number（数字）</li>
<li>String（字符串）</li>
<li>List（列表）</li>
<li>Tuple（元组）</li>
<li>Set（集合）</li>
<li>Dictionary（字典）(hash map)—遇到hash冲突时,采用的是开放寻址法而不是链接法</li>
</ul>
<h3 id="Python标准数据结构有"><a href="#Python标准数据结构有" class="headerlink" title="Python标准数据结构有:"></a>Python标准数据结构有:</h3><p><code>有序结构,可以使用index下标进行检索数据,并且序列中的元素可以重复</code></p>
<ul>
<li>List</li>
<li>Tuple</li>
<li>String</li>
</ul>
<hr>
<p><code>无序结构,不可以用index下标进行检索,序列中允许有重复元素</code></p>
<ul>
<li>Set</li>
<li>Dictionary</li>
</ul>
<h2 id="数据类型转换"><a href="#数据类型转换" class="headerlink" title="数据类型转换"></a>数据类型转换</h2><p>Python类型转换非常简单，用类型名作为函数名即可。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">int</span>(n)            <span class="comment"># 将数字n转换为一个整数</span></span><br><span class="line"><span class="built_in">float</span>(n)          <span class="comment"># 将数字n转换到一个浮点数</span></span><br><span class="line"><span class="built_in">str</span>(o)            <span class="comment"># 将对象 obj 转换为字符串</span></span><br><span class="line"><span class="built_in">tuple</span>(s)          <span class="comment"># 将序列 s 转换为一个元组</span></span><br><span class="line"><span class="built_in">list</span>(s)           <span class="comment"># 将序列 s 转换为一个列表</span></span><br><span class="line"><span class="built_in">set</span>(s)            <span class="comment"># 将序列 s 转换为一个集合</span></span><br></pre></td></tr></table></figure>

<p>另外，Python中可以直接转换数字字符串和数字：</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">s = <span class="string">&quot;123&quot;</span></span><br><span class="line">i = <span class="number">456</span></span><br><span class="line">print(<span class="built_in">int</span>(s), <span class="built_in">str</span>(i))</span><br></pre></td></tr></table></figure>

<h2 id="条件语句"><a href="#条件语句" class="headerlink" title="条件语句"></a>条件语句</h2><p>Python传统的判断语句如下</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> name == <span class="string">&#x27;zeta&#x27;</span>:          <span class="comment"># 判断变量是否为 zeta </span></span><br><span class="line">    print(<span class="string">&#x27;Welcome boss&#x27;</span>)   <span class="comment"># 并输出欢迎信息</span></span><br><span class="line"><span class="keyword">else</span>:</span><br><span class="line">    print(<span class="string">&#x27;Hi, &#x27;</span> + name)</span><br></pre></td></tr></table></figure>

<p>Python不支持三元表达式，但是可以用一种类似的替代办法</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">title = <span class="string">&quot;boss&quot;</span></span><br><span class="line">name = <span class="string">&quot;zeta&quot;</span> <span class="keyword">if</span> title == <span class="string">&quot;boss&quot;</span> <span class="keyword">else</span> <span class="string">&quot;chow&quot;</span></span><br><span class="line">print(name)</span><br></pre></td></tr></table></figure>

<p>逻辑与用 <code>and</code> ，逻辑或用 <code>or</code></p>
<h2 id="循环语句"><a href="#循环语句" class="headerlink" title="循环语句"></a>循环语句</h2><p>Python中有<code>while</code>和<code>for</code>两种循环，都可以使用<code>break</code>跳出循环和<code>continue</code>立即进入下一轮循环，另外，Python的循环语句还可以用<code>else</code>执行循环全部完毕后的代码，<code>break</code>跳出后不会执行<code>else</code>的代码</p>
<p><strong>while</strong> 条件循环，</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">count = <span class="number">0</span></span><br><span class="line"><span class="keyword">while</span> (count &lt; <span class="number">9</span>):    </span><br><span class="line">    print(<span class="string">&#x27;The count is:&#x27;</span>, count)    </span><br><span class="line">    count = count + <span class="number">1</span>    </span><br><span class="line">    <span class="keyword">if</span> count == <span class="number">5</span>:        </span><br><span class="line">        <span class="keyword">break</span>   <span class="comment"># 可以比较以下break和不break的区别        </span></span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:    </span><br><span class="line">        print(<span class="string">&#x27;loop over&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>for</strong> 遍历循环，循环遍历所有序列对象的子项</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">names = [<span class="string">&#x27;zeta&#x27;</span>, <span class="string">&#x27;chow&#x27;</span>,  <span class="string">&#x27;world&#x27;</span>]</span><br><span class="line"><span class="keyword">for</span> n <span class="keyword">in</span> names:    </span><br><span class="line">    print(<span class="string">&#x27;Hello, &#x27;</span> + n)    </span><br><span class="line">    <span class="keyword">if</span> n == <span class="string">&#x27;world&#x27;</span>:        </span><br><span class="line">        <span class="keyword">break</span>        </span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">    <span class="keyword">else</span>:    </span><br><span class="line">        print(<span class="string">&#x27;Good night!&#x27;</span>)</span><br></pre></td></tr></table></figure>

<p><code>for</code>循环中也可以用<code>else</code>，（注释掉代码中的<code>break</code>试试看。)</p>
<h2 id="函数"><a href="#函数" class="headerlink" title="函数"></a>函数</h2><p>用<code>def</code>关键字定义函数，并且在Python中，作为脚本语言，调用函数必须在定义函数之后。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">name</span>):</span></span><br><span class="line">    print(<span class="string">&quot;hello, &quot;</span>+name)</span><br><span class="line">    passfoo(<span class="string">&quot;zeta&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>默认参数</strong> Python定义函数参数时，可以设置默认值，调用时如果没有传递该参数，函数内将使用默认值，默认值参数必须放在无默认值参数后面。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">name=<span class="string">&quot;zeta&quot;</span></span>):</span></span><br><span class="line">    print(<span class="string">&quot;hello, &quot;</span>+name)</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">foo()</span><br></pre></td></tr></table></figure>

<p><strong>关键字参数</strong> 一般函数传递参数时，必须按照参数定于的顺序传递，但是Python中，允许使用关键字参数，这样通过指定参数明，可以不按照函数定义参数的顺序传递参数。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">age, name=<span class="string">&quot;zeta&quot;</span></span>):</span></span><br><span class="line">    print(<span class="string">&quot;hello, &quot;</span>+name+<span class="string">&quot;; age=&quot;</span>+<span class="built_in">str</span>(age))</span><br><span class="line">    <span class="keyword">pass</span></span><br><span class="line">foo(name=<span class="string">&quot;chow&quot;</span>, age=<span class="number">18</span>)</span><br></pre></td></tr></table></figure>

<p><strong>不定长参数</strong>，Python支持不定长参数，用<code>*</code>定义参数名，调用时多个参数将作为一个元祖传递到函数内</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">foo</span>(<span class="params">*names</span>):</span></span><br><span class="line">    <span class="keyword">for</span> n <span class="keyword">in</span> names:</span><br><span class="line">        print(<span class="string">&quot;hello, &quot;</span>+n)</span><br><span class="line">        <span class="keyword">pass</span></span><br><span class="line">foo(<span class="string">&quot;zeta&quot;</span>, <span class="string">&quot;chow&quot;</span>, <span class="string">&quot;world&quot;</span>)</span><br></pre></td></tr></table></figure>

<p><strong>return</strong> 返回函数结果。</p>
<h2 id="模块"><a href="#模块" class="headerlink" title="模块"></a>模块</h2><ul>
<li>模块是一个.py文件</li>
<li>模块在第一次被导入时执行</li>
<li>一个下划线定义保护级变量和函数，两个下划线定义私有变量和函数</li>
<li>导入模块习惯性在脚本顶部，但是不强制</li>
</ul>
<h2 id="导入包"><a href="#导入包" class="headerlink" title="导入包"></a>导入包</h2><p>在Python中，使用<code>import</code>导入模块。</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#!/usr/bin/python# -*- coding: UTF-8 -*- # 导入模块import support support.print_func(“Runoob”)</span></span><br></pre></td></tr></table></figure>

<p>还可以使用<code>from import</code>导入模块指定部分</p>
<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">from</span> modname <span class="keyword">import</span> name1[, name2[, ... nameN]]</span><br></pre></td></tr></table></figure>

<p>为导入的包设置别名用 <code>as</code>关键字</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> datetime <span class="keyword">as</span> dt</span><br></pre></td></tr></table></figure>

<h2 id="错误和异常"><a href="#错误和异常" class="headerlink" title="错误和异常"></a>错误和异常</h2><p>Python中用经典的 <code>try/except</code> 捕获异常</p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>:&lt;语句&gt;    <span class="comment">#运行别的代码</span></span><br><span class="line">    <span class="keyword">except</span> &lt;异常名称&gt;：&lt;语句&gt;        </span><br><span class="line">    <span class="comment">#except &lt;异常名称&gt;，&lt;数据&gt;:&lt;语句&gt; </span></span><br><span class="line">    <span class="comment">#如果引发了指定名称的异常，获得附加的数据</span></span><br></pre></td></tr></table></figure>

<p>还提供了 <strong>else</strong> 和 <strong>finally</strong></p>
<p>如果没发生异常的执行<code>else</code>语句块，<code>finally</code>块的代码无论是否捕获异常都会执行</p>
<p>Python内建了很全面的异常类型名称，同时能自定义异常类型</p>
<h2 id="面向对象"><a href="#面向对象" class="headerlink" title="面向对象"></a>面向对象</h2><p>Python完全支持面向对象的。</p>
<h2 id="多线程"><a href="#多线程" class="headerlink" title="多线程"></a>多线程</h2><ol>
<li>使用<code>thread</code>模块中的<code>start_new_thread()</code>函数</li>
<li>使用<code>threading</code>模块创建线程</li>
</ol>
<h2 id="总结"><a href="#总结" class="headerlink" title="总结"></a>总结</h2><p>Python和Go分别在动态语言和静态语言中都是最易学易用的编程语言之一。</p>
<p>它们并不存在取代关系，而是各自在其领域发挥自己的作用。</p>
<p>Python的语法简单直观，除了程序员爱不释手外也非常适合于其他领域从业者使用。</p>
<p>Go兼具语法简单和运行高效的有点，在多线程处理方面很优秀，非常适合已经掌握一定编程基础和一门主流语言的同学学习，不过，Go是不支持面向对象的，对于大多数支持面向对象语言的使用者在学习Go语言的时候，需要谨记并且转换编程思路。</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/05/15/Python-Underlying-Structure/" data-id="ckopezsv70000cwf52kqmg664" data-title="Python-Underlying-Structure" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/Python/" rel="tag">Python</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-我的工作实践" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/05/06/%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%AE%9E%E8%B7%B5/" class="article-date">
  <time class="dt-published" datetime="2021-05-06T00:09:25.000Z" itemprop="datePublished">2021-05-06</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/05/06/%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%AE%9E%E8%B7%B5/">我的工作实践</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="面试"><a href="#面试" class="headerlink" title="面试"></a>面试</h2><h3 id="自我介绍"><a href="#自我介绍" class="headerlink" title="自我介绍"></a>自我介绍</h3><p>我是柳宇豪，是辽宁工程技术大学，信息与计算机科学专业的一名应届本科生。我将从四个方面介绍我自己</p>
<p>一、竞赛方面：我参加过许多数学建模竞赛，曾获MCM/ICM国二、MathorCup省三等；</p>
<p>二、校园经历方面：曾担任过礼仪队队长、舞蹈队队长以及女生部部长和学生会副主席，成功举办了女生月活动和最美面容活动，</p>
<p>三、学习方面：绩点专业排名前十，曾获校优秀学生二等奖学金和三等奖学金以及三号学生等多项荣誉称号</p>
<p>四、兴趣爱好方面：在整个大学生活中，兴趣爱好可以分两个阶段，第一阶段为大一大二时期，十分喜欢辩论演讲，曾在院赛多次获得最佳辩手称号，也荣获校第十四届辩论赛冠军队伍等荣誉称号；大三大四时期喜欢读马哲和毛选等书籍，完善了我的世界观和方法论，并创建阅读社区星火社</p>
<p>总的来说，在生活中注重效率，喜欢思考，具有一定的组织能力以上是自我介绍的全部内容。</p>
<h3 id="反问"><a href="#反问" class="headerlink" title="反问"></a>反问</h3><ol>
<li>对于我应聘的这份工作来说，您认为需要的最重要的能力是什么？（体现了你的态度）</li>
<li>您能说一下这个岗位在公司的的发展前景和晋升机制吗？（体现了你的发展规划与上进心）</li>
<li>您能描述一下，您心中这个职位的理想候选人是什么样的吗？（体现了你的思考）</li>
</ol>
<hr>
<p>0面试</p>
<p>1试用期</p>
<p>2实习期</p>
<p>3入职</p>
<p>4离职</p>
<hr>
<p>0公司制度</p>
<p>1合同</p>
<p>2违法与用法</p>
<p>3节假日</p>
<p>4公司文化</p>
<hr>
<h2 id="离职"><a href="#离职" class="headerlink" title="离职"></a>离职</h2><p>1.试用期提前三天申请离职就好。(双方灵活选择，节约彼此时间。新员工上手工作也不多，交接方便。)</p>
<p>2.正式员工离职提前一个月申请。(部分岗位员工突然离职，但Ta手上的工作不能停，需要下一个人交接，或者找下一个人还需要时间，还需要带。So，立法考虑设立一个月)(一般的公司不会卡你时间，交接也简单，不排除有硬生生卡人一个月的公司，劳动者心理要做好准备)</p>
<p>5.辞退除工资外，还应该有赔偿金（double）。</p>
<p>13.离职最好要拿一份离职证明。</p>
<hr>
<h2 id="违法用法"><a href="#违法用法" class="headerlink" title="违法用法"></a>违法用法</h2><h3 id="违法"><a href="#违法" class="headerlink" title="违法"></a>违法</h3><p>3.公司单方面降薪不合法。</p>
<p>4.不买社保，违法。公司缴纳大部分。(工资是工资，五险一金，六险一金，是社会福利保障。社保国家强制，一金是福利(已经是默认福利，正规公司一般情况应该有)，和那些定期团聚、出国游、开工红包、生日红包、节假日福利一样，不同公司不一样)</p>
<p>14.一点要看清自己的工作职位和职责，不符合录用，经常会扯这里。(好在，法律规定，用人单位提供不符合录用证据，用人单位提供不出来，违法解除)</p>
<p>15.合同里经常会有一条“领导安排的其他任务”或者“根据工作需要，可以岗位调整，安排其他事情”，就是针对14，设立的。</p>
<p>43.试用期被辞退。同理，关注14点。看清楚自己岗位和职责内容（一开始你就要清楚知道胜任标准，效率完成工作内容）。用人单位辞退，对方要出示你确实不能胜任的证据，而不是说一句话，你不能胜任工作你可以走了。</p>
<p>19.涉嫌歧视、人身攻击、肢体冲突可以举报、报警。</p>
<p>34.用人单位忌讳，吸毒人员。还有一些受刑事处罚人员。我们也很难，搞不好就是歧视，只能从入职诚实信用入手。</p>
<p>45.不要帮公司做违法的事情。之前遇到一个年轻小伙（女朋友卖婚房委托律师，哭着说从小到大成绩优秀，被抓了家人都不相信）帮公司开发一个理财软件（诈骗软件），一起进去了。</p>
<p>46.用人单位不交社保，找Ta交。协商后单位仍旧不给缴，去用人单位所在地人力资源社会保障行政部门投诉（打电话就可以）（市长热线也可以），由社会保险费征收机构责令其限期缴纳或者补足。如果用人单位漏报或少报社会保险基数的，则可以向所在地社保经办机构稽核科投诉反映。 </p>
<p>47.用人单位未在一个月内按规定缴纳的，劳动者可以解除劳动合同，可同时要求用人单位依法支付经济补偿。</p>
<p>65.解除劳动合同VS终止劳动合同通知</p>
<h3 id="用法"><a href="#用法" class="headerlink" title="用法"></a>用法</h3><p>31.劳动仲裁不要钱，财政保障。程序很简单，自己都可以操作，你合情合理合法很容易赢。</p>
<p>32.劳动争议诉讼10元。（仲裁是前置程序）（一般小问题，仲裁就可以了，不用后面诉讼）</p>
<p>48.市长热线12345</p>
<p>公共法律服务热线12348</p>
<hr>
<h2 id="就职"><a href="#就职" class="headerlink" title="就职"></a>就职</h2><p>6.大学生临近毕业（还有几个月毕业），没有拿到毕业证，可以签订劳动合同。</p>
<p>7.一直不签劳动合同，违法。入职就应该签。(一个月后，该担心的应该是公司吧)</p>
<blockquote>
<p>中华人民共和国劳动合同法实施条例</p>
<p>第五条自用工之日起一个月内，经用人单位书面通知后，劳动者不与用人单位订立书面劳动合同的，用人单位应当书面通知劳动者终止劳动关系，无需向劳动者支付经济补偿，但是应当依法向劳动者支付其实际工作时间的劳动报酬。</p>
<p>第六条用人单位自用工之日起超过一个月不满一年未与劳动者订立书面劳动合同的，应当依照劳动合同法第八十二条的规定向劳动者每月支付两倍的工资，并与劳动者补订书面劳动合同;劳动者不与用人单位订立书面劳动合同的，用人单位应当书面通知劳动者终止劳动关系，并依照劳动合同法第四十七条的规定支付经济补偿。</p>
<p>前款规定的用人单位向劳动者每月支付两倍工资的起算时间为用工之日起满一个月的次日，截止时间为补订书面劳动合同的前一日。</p>
</blockquote>
<p>10.入职身份证复印件上，注明，仅供入职使用。（所有使用身份证都可以注明）</p>
<p>17.部分工作，该有防护的应该有防护工具（口罩等等）。</p>
<p>18.简历，入职表不要乱填乱写，诚实信用原则。（一般合同有一条，作假不录取，已录取无条件辞退）</p>
<hr>
<h2 id="实习期"><a href="#实习期" class="headerlink" title="实习期"></a>实习期</h2><p>12.试用期工资不低于正式工资80%。（国家单位，国企试用期一般100%）</p>
<p>20.试岗。法律规定试用期，就是为了双方考察选择。只是部分企业自己又设置了一个3-7天试岗，多数还表明还没有工资。这么🐶公司还是不要去了。</p>
<p>52.面试前去“天眼查”“企查查”查一下，顺便看看有没有公司和前员工的劳动纠纷，看看公司态度。</p>
<p>56.实习生。这个问题复杂，不过不是特别行业，法律、医学等，已经毕业的娃，还当什么实习生（试用期实习生，只是称呼吧?）。（大学生寒暑期实习，肯定叫实习生）（例如法律行业是那个证，要实习至少一年，也可以叫实习生，实习律师）（还有临近毕业，文中第6，有的公司说不能和你签合同，你还没毕业证，先做实习生。）</p>
<hr>
<h2 id="合同"><a href="#合同" class="headerlink" title="合同"></a>合同</h2><p>8.劳动合同一式两份，一定要保管好自己那一份。（不然纠纷的时候你劳动仲裁提交材料都没有）</p>
<p>9.一般情况，不要给公司押东西（各类证件：毕业证、上一家离职证明等等），仅现场审核，然后自己带回去。『有押护照的，那就是大佬级别了』</p>
<p>11.合同一年，一般就一个月试用期。偶尔两个月（🐶公司）。</p>
<p>21.三年劳动合同，不超过6个月。三个月不满一年，1个月试用期。一年以上不满三年，试用期不超过2个月。『这个其实是约定，一个半月都可以。合法合规就好』</p>
<p>67.有的公司三个月或六个月签一次，特别🐶。连续不间断签，最好不要去。</p>
<p>68.还有些公司老板觉得自己开了一个公司，Ta就是王，Ta就是法。签一年Ta就要试用期三个月。连国家法律都不敬畏，有纠纷了有的扯。</p>
<p>68.还有的公司，告诉你是他们关联/下属企业，为了人员管理/避税等等理由，合同上签的另外的公司。谨慎一点吧，首先看看那个公司注册下来了没有。</p>
<h2 id="工资"><a href="#工资" class="headerlink" title="工资"></a>工资</h2><p>16.工资构成。假设工资8k。然后合同约定4k基本工资，1k交通补贴，1k吃饭补贴，2k技术津贴。他们告诉你还是8k，看上去也是。风险就在于以后很多东西（保险，请假等等，甚至劳动纠纷）看基本工资（基数）。</p>
<p>22.工资不能低于当地最低工资标准。</p>
<p>33.上班一周有没有工资?有。</p>
<p>38.工资讨论。一般公司会设置这个，不准讨论。最好遵守规定。（违反公司制度辞退风险）实在忍不住，不要留证据，披个马甲，好吗。</p>
<p>49.到手工资。可以问一句，工资到手多少。顺便推算，社保交几档。（一般情况，国家单位一、二档）其他，危。</p>
<p>61.招聘软件上部分公司，工资跨度很大。一般情况看最低。面试前，也可以问问，岗位预算到底多少。</p>
<h2 id="公司制度"><a href="#公司制度" class="headerlink" title="公司制度"></a>公司制度</h2><h3 id="绩效"><a href="#绩效" class="headerlink" title="绩效"></a>绩效</h3><p>这是大家关注的吧。公司单方随意改动违法。员工手册，我们一般不会设置绩效，因为这就是“递刀”。公司动员工工资，或者激励努力劳动，都是动这一款。一般是附件，改动也方便，不同部门也不一样。但是这些都属于规则制度一部分，也不能朝令夕改，要程序合法、大家同意(有时候职工代表已经代表你了😏)。(但是选职工代表你们有流程，要参与哦)</p>
<p>24.迟到、请假等所有的公司规章制度，要合理合法合程序，应该经过公司民主程序制定，投票(全体员工或者职工代表)，规章制度公示（✔），报请工会（不一定）。规章制度员工必须知悉(✔)或同意签字留底等等。(签字留底表明知悉，是最周全的)『一般情况，职工代表是老板的人😂，老板对结果不my，换下一个职工代表😏』</p>
<p>PS：不合理不合法的东西，在公司站得住脚，上了法庭站不住脚。(所以，很多时候，要员工同意并签字，例：奋斗者协议)</p>
<p>什么是合理。假设某工厂记件，一天最快的10个，最慢的5个，平均6个。规定基本工资说5个就达标，7个良好，8个优秀。如果现在新厂长改变制度，说7个达标，10个良好，12个优秀。(有人能达到12吗，没有，除非技术变革)</p>
<p>不合理VS明显不合理</p>
<p>(提一句996/007，上面例子，我们确定最高10个。但是在实际生活中，法定时间是八个小时，007/996工作强度能不能接受，员工又“自愿接受”，变数太多。又加上员工自己签的“奋斗者协议”，自愿并同意。正规公司按时按量给你发加班工资，你不能阻止别人奋斗吧)</p>
<p>⚡我发现一个问题，法院曾认可某一个公司“奋斗者协议”但不代表其他公司可以无限制、不顾员工身体，强制xxx。如果被发现强迫劳动也是违反《劳动法》《劳动合同法》等的，建议没有“南山必胜客”那样的法务团队的公司，不要乱搞，随便加班“强迫劳动”。⚡</p>
<p>25.公司内部规章制度必须遵守相应法律法规，例如《劳动法》《劳动合同法》等等。</p>
<h3 id="请假"><a href="#请假" class="headerlink" title="请假"></a>请假</h3><p>要符合公司规定流程。具体情况具体分析。紧急情况，要有电话录音或信息记录等等证据留底。此处风险，容易被记旷工。</p>
<h3 id="内卷"><a href="#内卷" class="headerlink" title="内卷"></a>内卷</h3><p>奋斗者协议，这个嘛，法院认可过。不过具体问题具体分析。加班加班工资还要应该有的。一般公司，没有腾讯级别的法务部，不要瞎搞。这不是代表官方认可这个，只是个例。自愿和“被自愿”难道不好分清楚吗？</p>
<h3 id="保密协议"><a href="#保密协议" class="headerlink" title="保密协议"></a>保密协议</h3><p>40.保密协议。应该保密就要保密。</p>
<h3 id="竞业限制"><a href="#竞业限制" class="headerlink" title="竞业限制"></a>竞业限制</h3><p>41.竞业限制。慎重。如果你只有这个安身立命的本事，不要签。竞业限制签了，约定期限内，应该有补偿金。</p>
<h3 id="注意事项"><a href="#注意事项" class="headerlink" title="注意事项"></a>注意事项</h3><p>44.公司群不要“胡言乱语”，私下群不要“胡言乱语”，还是那句话，同事告密你就死了，匿名，马甲，不香吗。（最近的官方公众号推算案子，说领导“彩旗飘飘”“xxx”等等，被告密，被违法辞退，二审赔了10万。折腾好麻烦）</p>
<p>50.服装。有的🐶公司，上班统一发（定制）服装，离职出现服装费（1-2-3千）。</p>
<p>64.玩手机，抗辩理由很多。看工作群、和客户联系、父母急事。不太知道具体公司具体岗位情况。我们这行是结果导向，没有这一说。</p>
<h2 id="培训进修"><a href="#培训进修" class="headerlink" title="培训进修"></a>培训进修</h2><p>26.培训。刚进去让你贷款培训公司有问题。公司为了劳动者更好劳动，适应岗位，一般情况，免费培训。</p>
<p>27.进修。进修后要在用人单位工作服务几年。注意看清楚违约金多少。</p>
<h2 id="工伤"><a href="#工伤" class="headerlink" title="工伤"></a>工伤</h2><p>28.工伤保险，包括上下班途中。（一）在合理时间内往返于工作地与住所地、经常居住地、单位宿舍的合理路线的上下班途中；（二）在合理时间内往返于工作地与配偶、父母、子女居住地的合理路线的上下班途中；（三）从事属于日常工作生活所需要的活动，且在合理时间和合理路线的上下班途中；（四）在合理时间内其他合理路线的上下班途中。</p>
<p>29.外出做工作上的事情出事，工伤。</p>
<p>PS：非本人原因的交通事故，工伤。就是公司认定工伤，肇事者还要赔。</p>
<h2 id="换岗"><a href="#换岗" class="headerlink" title="换岗"></a>换岗</h2><p>35.劳动者患病或非因工受伤，确实不太适合现在的岗位。不是立马辞退。立法者考虑到这样的情况，首先，是给你换一个岗位，（给你一个挽救的机会）。（例如，工作是前台，嗓子??，不太适合前台沟通职责，可以换去后面行政。）</p>
<h2 id="骚扰"><a href="#骚扰" class="headerlink" title="骚扰"></a>骚扰</h2><p>36.怀孕。让你3-5-7年内不能怀孕，违背公序良俗。</p>
<p>36.正式员工怀孕时，不能被辞退，也不能降薪。</p>
<p>37.女性遇到性骚扰，要学会保留证据，一击即中。</p>
<p>38.试用期怀孕。《劳动合同法》第39条：“劳动者在试用期间被证明不符合录用条件，用人单位可以与劳动者解除劳动合同。也就是说，悬。</p>
<h2 id="派遣"><a href="#派遣" class="headerlink" title="派遣"></a>派遣</h2><p>42.派遣。国家那种编外派遣，还差不多。其他的，仁者见仁。</p>
<h2 id="三方协议"><a href="#三方协议" class="headerlink" title="三方协议"></a>三方协议</h2><p>51.三方协议，是学校为没有出校门、没有接受社会“关爱”，提供的保护你的好东西。</p>
<h2 id="查看公司"><a href="#查看公司" class="headerlink" title="查看公司"></a>查看公司</h2><p>53.法定代表人还是有风险的。例：京D换人</p>
<p>54.几个月没发工资了?跑路吧。</p>
<p>55.股权激励，有些是饼有些是真的，看公司发展。</p>
<h2 id="节假日"><a href="#节假日" class="headerlink" title="节假日"></a>节假日</h2><p>57.调休。先看最近的五一，这个话题，略。(为什么，有人看不懂五一梗，so，还是略)(谁说普通调休，我说企业三倍工资调休)</p>
<p>58.法定节假日放假，带薪年假，病假(患病or非因工负伤，必须要给医疗期)有钱。婚假(女20岁、男22岁)3天，有工资。</p>
<p>59.产假(98天，产前休假15天。难产+15，多胞胎+15)。怀孕流产也有假，不满4个月，15-30天;满4个月，42天。晚育，奖励30天，配偶10天护理假。(劳动时间内，还有一个小时哺乳时间。多胞胎，多一个，加一个小时。)</p>
<p>63.离开工位。看离开时长。一般情况去洗手间，去接水喝水，不能制止我吧。如果是其他事情，较长时间，建议请假或者告知自己去干什么多少分钟回。(主要是急事现场找不到人，领导就火大，火大就惨了)不同公司具体规章不一样，严重情况且多次可能列为旷工。例如：一月旷工N次，就拜拜。</p>
<h2 id="公司文化"><a href="#公司文化" class="headerlink" title="公司文化"></a>公司文化</h2><p>66.公司文化呢，要不是保护人权的区别于同行或其他公司的东西，还有就是拼搏(狼性)、奋斗、快乐、幸福等精神，包容、女性关怀、年轻员工等一些关爱措施。(卖身，那是不可能的)</p>
<p>举例:我们这行还是有年轻律师起薪几个万元俱乐部;还有些给年轻律师配行政秘书的;还有给年轻妈妈设置专门的空间喂奶或小孩玩乐区域。等等。(健身房?那是让你更好的工作😏)</p>

      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/05/06/%E6%88%91%E7%9A%84%E5%B7%A5%E4%BD%9C%E5%AE%9E%E8%B7%B5/" data-id="ckooh4zj6000q78f5b85w42av" data-title="我的工作实践" class="article-share-link">分享</a>
      
      
      
  <ul class="article-tag-list" itemprop="keywords"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/%E5%AE%9E%E8%B7%B5/" rel="tag">实践</a></li></ul>

    </footer>
  </div>
  
</article>



  
    <article id="post-Infectious-Disease-Model" class="h-entry article article-type-post" itemprop="blogPost" itemscope itemtype="https://schema.org/BlogPosting">
  <div class="article-meta">
    <a href="/2021/04/30/Infectious-Disease-Model/" class="article-date">
  <time class="dt-published" datetime="2021-04-30T02:11:59.000Z" itemprop="datePublished">2021-04-30</time>
</a>
    
  </div>
  <div class="article-inner">
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="p-name article-title" href="/2021/04/30/Infectious-Disease-Model/">Infectious Disease Model</a>
    </h1>
  

      </header>
    
    <div class="e-content article-entry" itemprop="articleBody">
      
        <h2 id="概念介绍"><a href="#概念介绍" class="headerlink" title="概念介绍"></a>概念介绍</h2><p>S (Susceptible)易感者指缺乏免疫能力健康人，与感染者接触后容易受到感染；</p>
<p>E (Exposed)暴露者 指接触过感染者但暂无传染性的人，可用于存在潜伏期的传染病；</p>
<p>I (Infectious)患病者指有传染性的病人，可以传播给 S，将其变为 E 或 I ；</p>
<p>R (Recovered)康复者指病愈后具有免疫力的人，如是终身免疫性传染病，则不可被重新变为 S 、E 或 I ，如果免疫期有限，就可以重新变为 S 类，进而被感染。</p>
<p>各个变量之间并不是相互独立，而是可以相互转化。</p>
<p>The various variables are not independent of each other, but can be transformed into each other.</p>
<p>COVID19 3.7-3.8</p>
<h2 id="模型一：SI-Model"><a href="#模型一：SI-Model" class="headerlink" title="模型一：SI-Model"></a>模型一：SI-Model</h2><p>不进行人为的控制</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210504220927.png"></p>
<figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> scipy.integrate <span class="keyword">as</span> spi</span><br><span class="line"><span class="keyword">import</span> numpy <span class="keyword">as</span> np</span><br><span class="line"><span class="keyword">import</span> matplotlib.pyplot <span class="keyword">as</span> plt</span><br><span class="line"></span><br><span class="line"><span class="comment"># N为人群总数</span></span><br><span class="line">N = <span class="number">10000</span></span><br><span class="line"><span class="comment"># β为传染率系数</span></span><br><span class="line">beta = <span class="number">0.25</span></span><br><span class="line"><span class="comment"># gamma为恢复率系数</span></span><br><span class="line">gamma = <span class="number">0</span></span><br><span class="line"><span class="comment"># I_0为感染者的初始人数</span></span><br><span class="line">I_0 = <span class="number">1</span></span><br><span class="line"><span class="comment"># S_0为易感者的初始人数</span></span><br><span class="line">S_0 = N - I_0</span><br><span class="line"><span class="comment"># T为传播时间</span></span><br><span class="line">T = <span class="number">150</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># INI为初始状态下的数组</span></span><br><span class="line">INI = (S_0,I_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">def</span> <span class="title">funcSI</span>(<span class="params">inivalue,_</span>):</span></span><br><span class="line">    Y = np.zeros(<span class="number">2</span>)</span><br><span class="line">    X = inivalue</span><br><span class="line">    <span class="comment"># 易感个体变化</span></span><br><span class="line">    Y[<span class="number">0</span>] = - (beta * X[<span class="number">0</span>] * X[<span class="number">1</span>]) / N + gamma * X[<span class="number">1</span>]</span><br><span class="line">    <span class="comment"># 感染个体变化</span></span><br><span class="line">    Y[<span class="number">1</span>] = (beta * X[<span class="number">0</span>] * X[<span class="number">1</span>]) / N - gamma * X[<span class="number">1</span>]</span><br><span class="line">    <span class="keyword">return</span> Y</span><br><span class="line"></span><br><span class="line">T_range = np.arange(<span class="number">0</span>,T + <span class="number">1</span>)</span><br><span class="line"></span><br><span class="line">RES = spi.odeint(funcSI,INI,T_range)</span><br><span class="line"></span><br><span class="line">plt.plot(RES[:,<span class="number">0</span>],color = <span class="string">&#x27;darkblue&#x27;</span>,label = <span class="string">&#x27;Susceptible&#x27;</span>,marker = <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">plt.plot(RES[:,<span class="number">1</span>],color = <span class="string">&#x27;red&#x27;</span>,label = <span class="string">&#x27;Infection&#x27;</span>,marker = <span class="string">&#x27;.&#x27;</span>)</span><br><span class="line">plt.title(<span class="string">&#x27;SI Model&#x27;</span>)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(<span class="string">&#x27;Day&#x27;</span>)</span><br><span class="line">plt.ylabel(<span class="string">&#x27;Number&#x27;</span>)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="模型二：SIS-Model"><a href="#模型二：SIS-Model" class="headerlink" title="模型二：SIS-Model"></a>模型二：SIS-Model</h2><p>易感染者–&gt;感染者—TIME—&gt;易感染者</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210504221004.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line">import scipy.integrate as spi</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># N为人群总数</span><br><span class="line">N &#x3D; 10000</span><br><span class="line"># β为传染率系数</span><br><span class="line">beta &#x3D; 0.25</span><br><span class="line"># gamma为恢复率系数</span><br><span class="line">gamma &#x3D; 0.05</span><br><span class="line"># I_0为感染者的初始人数</span><br><span class="line">I_0 &#x3D; 1</span><br><span class="line"># S_0为易感者的初始人数</span><br><span class="line">S_0 &#x3D; N - I_0</span><br><span class="line"># T为传播时间</span><br><span class="line">T &#x3D; 150</span><br><span class="line"></span><br><span class="line"># INI为初始状态下的数组</span><br><span class="line">INI &#x3D; (S_0,I_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def funcSIS(inivalue,_):</span><br><span class="line">    Y &#x3D; np.zeros(2)</span><br><span class="line">    X &#x3D; inivalue</span><br><span class="line">    # 易感个体变化</span><br><span class="line">    Y[0] &#x3D; - (beta * X[0]) &#x2F; N * X[1] + gamma * X[1]</span><br><span class="line">    # 感染个体变化</span><br><span class="line">    Y[1] &#x3D; (beta * X[0] * X[1]) &#x2F; N - gamma * X[1]</span><br><span class="line">    return Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">T_range &#x3D; np.arange(0,T + 1)</span><br><span class="line"></span><br><span class="line">RES &#x3D; spi.odeint(funcSIS,INI,T_range)</span><br><span class="line"></span><br><span class="line">plt.plot(RES[:,0],color &#x3D; &#39;darkblue&#39;,label &#x3D; &#39;Susceptible&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,1],color &#x3D; &#39;red&#39;,label &#x3D; &#39;Infection&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.title(&#39;SIS Model&#39;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(&#39;Day&#39;)</span><br><span class="line">plt.ylabel(&#39;Number&#39;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="模型三：SIR-Model"><a href="#模型三：SIR-Model" class="headerlink" title="模型三：SIR-Model"></a>模型三：SIR-Model</h2><p>易感染者–&gt;感染者—time—&gt;康复者（隔离or抗体）—-no–&gt;易感染者</p>
<p>拐点：infected峰值的时间</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210504221039.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line">import scipy.integrate as spi</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># N为人群总数</span><br><span class="line">N &#x3D; 10000</span><br><span class="line"># β为传染率系数</span><br><span class="line">beta &#x3D; 0.25</span><br><span class="line"># gamma为恢复率系数</span><br><span class="line">gamma &#x3D; 0.05</span><br><span class="line"># I_0为感染者的初始人数</span><br><span class="line">I_0 &#x3D; 1</span><br><span class="line"># R_0为治愈者的初始人数</span><br><span class="line">R_0 &#x3D; 0</span><br><span class="line"># S_0为易感者的初始人数</span><br><span class="line">S_0 &#x3D; N - I_0 - R_0</span><br><span class="line"># T为传播时间</span><br><span class="line">T &#x3D; 150</span><br><span class="line"></span><br><span class="line"># INI为初始状态下的数组</span><br><span class="line">INI &#x3D; (S_0,I_0,R_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def funcSIR(inivalue,_):</span><br><span class="line">    Y &#x3D; np.zeros(3)</span><br><span class="line">    X &#x3D; inivalue</span><br><span class="line">    # 易感个体变化</span><br><span class="line">    Y[0] &#x3D; - (beta * X[0] * X[1]) &#x2F; N</span><br><span class="line">    # 感染个体变化</span><br><span class="line">    Y[1] &#x3D; (beta * X[0] * X[1]) &#x2F; N - gamma * X[1]</span><br><span class="line">    # 治愈个体变化</span><br><span class="line">    Y[2] &#x3D; gamma * X[1]</span><br><span class="line">    return Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">T_range &#x3D; np.arange(0,T + 1)</span><br><span class="line"></span><br><span class="line">RES &#x3D; spi.odeint(funcSIR,INI,T_range)</span><br><span class="line"></span><br><span class="line">plt.plot(RES[:,0],color &#x3D; &#39;darkblue&#39;,label &#x3D; &#39;Susceptible&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,1],color &#x3D; &#39;red&#39;,label &#x3D; &#39;Infection&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,2],color &#x3D; &#39;green&#39;,label &#x3D; &#39;Recovery&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.title(&#39;SIR Model&#39;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(&#39;Day&#39;)</span><br><span class="line">plt.ylabel(&#39;Number&#39;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="模型四：SIRS-Model"><a href="#模型四：SIRS-Model" class="headerlink" title="模型四：SIRS-Model"></a>模型四：SIRS-Model</h2><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/142117535">数学建模常用算法——传染病模型（四）SIRS模型 - 知乎 (zhihu.com)</a></p>
<p>适用于有易感者、患病者和康复者三类人群，康复者只有暂时性的免疫力，单位时间后变为易感者，有可能再次被感染而患病。</p>
<p><strong>模型假设</strong></p>
<p>易感者与患病者有效接触即被感染，变为患病者，可被治愈再次变为易感者，有短暂免疫力，无潜伏期。</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line">import scipy.integrate as spi</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># N为人群总数</span><br><span class="line">N &#x3D; 10000</span><br><span class="line"># β为传染率系数</span><br><span class="line">beta &#x3D; 0.25</span><br><span class="line"># gamma为恢复率系数</span><br><span class="line">gamma &#x3D; 0.05</span><br><span class="line"># Ts为抗体持续时间</span><br><span class="line">Ts &#x3D; 7</span><br><span class="line"># I_0为感染者的初始人数</span><br><span class="line">I_0 &#x3D; 1</span><br><span class="line"># R_0为治愈者的初始人数</span><br><span class="line">R_0 &#x3D; 0</span><br><span class="line"># S_0为易感者的初始人数</span><br><span class="line">S_0 &#x3D; N - I_0 - R_0</span><br><span class="line"># T为传播时间</span><br><span class="line">T &#x3D; 150</span><br><span class="line"></span><br><span class="line"># INI为初始状态下的数组</span><br><span class="line">INI &#x3D; (S_0,I_0,R_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def funcSIRS(inivalue,_):</span><br><span class="line">    Y &#x3D; np.zeros(3)</span><br><span class="line">    X &#x3D; inivalue</span><br><span class="line">    # 易感个体变化</span><br><span class="line">    Y[0] &#x3D; - (beta * X[0] * X[1]) &#x2F; N + X[2] &#x2F; Ts</span><br><span class="line">    # 感染个体变化</span><br><span class="line">    Y[1] &#x3D; (beta * X[0] * X[1]) &#x2F; N - gamma * X[1]</span><br><span class="line">    # 治愈个体变化</span><br><span class="line">    Y[2] &#x3D; gamma * X[1] - X[2] &#x2F; Ts</span><br><span class="line">    return Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">T_range &#x3D; np.arange(0,T + 1)</span><br><span class="line"></span><br><span class="line">RES &#x3D; spi.odeint(funcSIRS,INI,T_range)</span><br><span class="line"></span><br><span class="line">plt.plot(RES[:,0],color &#x3D; &#39;darkblue&#39;,label &#x3D; &#39;Susceptible&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,1],color &#x3D; &#39;red&#39;,label &#x3D; &#39;Infection&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,2],color &#x3D; &#39;green&#39;,label &#x3D; &#39;Recovery&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.title(&#39;SIRS Model&#39;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(&#39;Day&#39;)</span><br><span class="line">plt.ylabel(&#39;Number&#39;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="模型五：SEIR-Model"><a href="#模型五：SEIR-Model" class="headerlink" title="模型五：SEIR-Model"></a>模型五：SEIR-Model</h2><p>暴露者：处于潜伏期的人，有一定概率变成感染者</p>
<p><img src="https://cdn.jsdelivr.net/gh/StarFire1226/photos@master/20210504221108.png"></p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line">import scipy.integrate as spi</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># N为人群总数</span><br><span class="line">N &#x3D; 10000</span><br><span class="line"># β为传染率系数</span><br><span class="line">beta &#x3D; 0.6</span><br><span class="line"># gamma为恢复率系数</span><br><span class="line">gamma &#x3D; 0.1</span><br><span class="line"># Te为疾病潜伏期</span><br><span class="line">Te &#x3D; 14</span><br><span class="line"># I_0为感染者的初始人数</span><br><span class="line">I_0 &#x3D; 1</span><br><span class="line"># E_0为潜伏者的初始人数</span><br><span class="line">E_0 &#x3D; 0</span><br><span class="line"># R_0为治愈者的初始人数</span><br><span class="line">R_0 &#x3D; 0</span><br><span class="line"># S_0为易感者的初始人数</span><br><span class="line">S_0 &#x3D; N - I_0 - E_0 - R_0</span><br><span class="line"># T为传播时间</span><br><span class="line">T &#x3D; 150</span><br><span class="line"></span><br><span class="line"># INI为初始状态下的数组</span><br><span class="line">INI &#x3D; (S_0,E_0,I_0,R_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def funcSEIR(inivalue,_):</span><br><span class="line">    Y &#x3D; np.zeros(4)</span><br><span class="line">    X &#x3D; inivalue</span><br><span class="line">    # 易感个体变化</span><br><span class="line">    Y[0] &#x3D; - (beta * X[0] * X[2]) &#x2F; N</span><br><span class="line">    # 潜伏个体变化</span><br><span class="line">    Y[1] &#x3D; (beta * X[0] * X[2]) &#x2F; N - X[1] &#x2F; Te</span><br><span class="line">    # 感染个体变化</span><br><span class="line">    Y[2] &#x3D; X[1] &#x2F; Te - gamma * X[2]</span><br><span class="line">    # 治愈个体变化</span><br><span class="line">    Y[3] &#x3D; gamma * X[2]</span><br><span class="line">    return Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">T_range &#x3D; np.arange(0,T + 1)</span><br><span class="line"></span><br><span class="line">RES &#x3D; spi.odeint(funcSEIR,INI,T_range)</span><br><span class="line"></span><br><span class="line">plt.plot(RES[:,0],color &#x3D; &#39;darkblue&#39;,label &#x3D; &#39;Susceptible&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,1],color &#x3D; &#39;orange&#39;,label &#x3D; &#39;Exposed&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,2],color &#x3D; &#39;red&#39;,label &#x3D; &#39;Infection&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,3],color &#x3D; &#39;green&#39;,label &#x3D; &#39;Recovery&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line"></span><br><span class="line">plt.title(&#39;SEIR Model&#39;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(&#39;Day&#39;)</span><br><span class="line">plt.ylabel(&#39;Number&#39;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>

<h2 id="模型六：SEIRS-Model"><a href="#模型六：SEIRS-Model" class="headerlink" title="模型六：SEIRS-Model"></a>模型六：SEIRS-Model</h2><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">import scipy.integrate as spi</span><br><span class="line">import numpy as np</span><br><span class="line">import matplotlib.pyplot as plt</span><br><span class="line"></span><br><span class="line"># N为人群总数</span><br><span class="line">N &#x3D; 10000</span><br><span class="line"># β为传染率系数</span><br><span class="line">beta &#x3D; 0.6</span><br><span class="line"># gamma为恢复率系数</span><br><span class="line">gamma &#x3D; 0.1</span><br><span class="line"># Ts为抗体持续时间</span><br><span class="line">Ts &#x3D; 7</span><br><span class="line"># Te为疾病潜伏期</span><br><span class="line">Te &#x3D; 14</span><br><span class="line"># I_0为感染者的初始人数</span><br><span class="line">I_0 &#x3D; 1</span><br><span class="line"># E_0为潜伏者的初始人数</span><br><span class="line">E_0 &#x3D; 0</span><br><span class="line"># R_0为治愈者的初始人数</span><br><span class="line">R_0 &#x3D; 0</span><br><span class="line"># S_0为易感者的初始人数</span><br><span class="line">S_0 &#x3D; N - I_0 - E_0 - R_0</span><br><span class="line"># T为传播时间</span><br><span class="line">T &#x3D; 150</span><br><span class="line"></span><br><span class="line"># INI为初始状态下的数组</span><br><span class="line">INI &#x3D; (S_0,E_0,I_0,R_0)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">def funcSEIRS(inivalue,_):</span><br><span class="line">    Y &#x3D; np.zeros(4)</span><br><span class="line">    X &#x3D; inivalue</span><br><span class="line">    # 易感个体变化</span><br><span class="line">    Y[0] &#x3D; - (beta * X[0] * X[2]) &#x2F; N + X[3] &#x2F; Ts</span><br><span class="line">    # 潜伏个体变化</span><br><span class="line">    Y[1] &#x3D; (beta * X[0] * X[2]) &#x2F; N - X[1] &#x2F; Te</span><br><span class="line">    # 感染个体变化</span><br><span class="line">    Y[2] &#x3D; X[1] &#x2F; Te - gamma * X[2]</span><br><span class="line">    # 治愈个体变化</span><br><span class="line">    Y[3] &#x3D; gamma * X[2] - X[3] &#x2F; Ts</span><br><span class="line">    return Y</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">T_range &#x3D; np.arange(0,T + 1)</span><br><span class="line"></span><br><span class="line">RES &#x3D; spi.odeint(funcSEIRS,INI,T_range)</span><br><span class="line"></span><br><span class="line">plt.plot(RES[:,0],color &#x3D; &#39;darkblue&#39;,label &#x3D; &#39;Susceptible&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,1],color &#x3D; &#39;orange&#39;,label &#x3D; &#39;Exposed&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,2],color &#x3D; &#39;red&#39;,label &#x3D; &#39;Infection&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line">plt.plot(RES[:,3],color &#x3D; &#39;green&#39;,label &#x3D; &#39;Recovery&#39;,marker &#x3D; &#39;.&#39;)</span><br><span class="line"></span><br><span class="line">plt.title(&#39;SEIRS Model&#39;)</span><br><span class="line">plt.legend()</span><br><span class="line">plt.xlabel(&#39;Day&#39;)</span><br><span class="line">plt.ylabel(&#39;Number&#39;)</span><br><span class="line">plt.show()</span><br></pre></td></tr></table></figure>
      
    </div>
    <footer class="article-footer">
      <a data-url="https://drinkle.top/2021/04/30/Infectious-Disease-Model/" data-id="ckooh4zib000e78f5dv2pbwon" data-title="Infectious Disease Model" class="article-share-link">分享</a>
      
      
      
    </footer>
  </div>
  
</article>



  


  <nav id="page-nav">
    
    <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="page-number" href="/page/3/">3</a><a class="extend next" rel="next" href="/page/2/">下一页 &raquo;</a>
  </nav>

</section>
        
          <aside id="sidebar">
  
    

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签</h3>
    <div class="widget">
      <ul class="tag-list" itemprop="keywords"><li class="tag-list-item"><a class="tag-list-link" href="/tags/825%E8%AE%A1%E5%88%92/" rel="tag">825计划</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/BuiltIn/" rel="tag">BuiltIn</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/English-Study/" rel="tag">English Study</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/GoodNotes/" rel="tag">GoodNotes</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Hexo/" rel="tag">Hexo</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/LeeCode/" rel="tag">LeeCode</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Postgraduate/" rel="tag">Postgraduate</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/Python/" rel="tag">Python</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/consciousness/" rel="tag">consciousness</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%96%E7%95%8C%E8%A7%82/" rel="tag">世界观</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E4%B8%96%E7%95%8C%E8%A7%82-%E6%96%B9%E6%B3%95%E8%AE%BA/" rel="tag">世界观 方法论</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%AE%9E%E8%B7%B5/" rel="tag">实践</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E5%B7%A6%E7%BF%BC%E5%90%8C%E7%9B%9F%E4%BC%9A/" rel="tag">左翼同盟会</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E6%96%B0%E9%97%BB%E8%81%94%E6%92%AD/" rel="tag">新闻联播</a></li><li class="tag-list-item"><a class="tag-list-link" href="/tags/%E8%87%B4%E4%BD%A0%E7%9A%84%E4%B8%80%E5%B0%81%E4%BF%A1/" rel="tag">致你的一封信</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">标签云</h3>
    <div class="widget tagcloud">
      <a href="/tags/825%E8%AE%A1%E5%88%92/" style="font-size: 10px;">825计划</a> <a href="/tags/BuiltIn/" style="font-size: 10px;">BuiltIn</a> <a href="/tags/English-Study/" style="font-size: 20px;">English Study</a> <a href="/tags/GoodNotes/" style="font-size: 10px;">GoodNotes</a> <a href="/tags/Hexo/" style="font-size: 10px;">Hexo</a> <a href="/tags/LeeCode/" style="font-size: 10px;">LeeCode</a> <a href="/tags/Postgraduate/" style="font-size: 10px;">Postgraduate</a> <a href="/tags/Python/" style="font-size: 15px;">Python</a> <a href="/tags/consciousness/" style="font-size: 10px;">consciousness</a> <a href="/tags/%E4%B8%96%E7%95%8C%E8%A7%82/" style="font-size: 15px;">世界观</a> <a href="/tags/%E4%B8%96%E7%95%8C%E8%A7%82-%E6%96%B9%E6%B3%95%E8%AE%BA/" style="font-size: 10px;">世界观 方法论</a> <a href="/tags/%E5%AE%9E%E8%B7%B5/" style="font-size: 10px;">实践</a> <a href="/tags/%E5%B7%A6%E7%BF%BC%E5%90%8C%E7%9B%9F%E4%BC%9A/" style="font-size: 10px;">左翼同盟会</a> <a href="/tags/%E6%96%B0%E9%97%BB%E8%81%94%E6%92%AD/" style="font-size: 10px;">新闻联播</a> <a href="/tags/%E8%87%B4%E4%BD%A0%E7%9A%84%E4%B8%80%E5%B0%81%E4%BF%A1/" style="font-size: 10px;">致你的一封信</a>
    </div>
  </div>

  
    
  <div class="widget-wrap">
    <h3 class="widget-title">归档</h3>
    <div class="widget">
      <ul class="archive-list"><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/07/">七月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/06/">六月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/05/">五月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/04/">四月 2021</a></li><li class="archive-list-item"><a class="archive-list-link" href="/archives/2021/03/">三月 2021</a></li></ul>
    </div>
  </div>


  
    
  <div class="widget-wrap">
    <h3 class="widget-title">最新文章</h3>
    <div class="widget">
      <ul>
        
          <li>
            <a href="/2021/07/10/825%E8%AE%A1%E5%88%92/">825计划</a>
          </li>
        
          <li>
            <a href="/2021/06/14/Postgraduate/">Postgraduate</a>
          </li>
        
          <li>
            <a href="/2021/06/13/LeeCode/">LeeCode</a>
          </li>
        
          <li>
            <a href="/2021/06/13/%E6%89%B9%E8%AF%84%E4%B8%8E%E8%87%AA%E6%88%91%E6%89%B9%E8%AF%84/">批评与自我批评</a>
          </li>
        
          <li>
            <a href="/2021/06/13/%E6%88%91%E7%9A%84%E4%B8%96%E7%95%8C%E8%A7%82/">我的世界观</a>
          </li>
        
      </ul>
    </div>
  </div>

  
</aside>
        
      </div>
      <footer id="footer">
  
  <div class="outer">
    <div id="footer-info" class="inner">
      
      &copy; 2021 Drink<br>
      Powered by <a href="https://hexo.io/" target="_blank">Hexo</a>
    </div>
  </div>
</footer>

    </div>
    <nav id="mobile-nav">
  
    <a href="/" class="mobile-nav-link">Home</a>
  
    <a href="/archives" class="mobile-nav-link">Archives</a>
  
</nav>
    


<script src="/js/jquery-3.4.1.min.js"></script>



  
<script src="/fancybox/jquery.fancybox.min.js"></script>




<script src="/js/script.js"></script>





  </div>
</body>
</html>